var Z0=e=>{throw TypeError(e)};var fm=(e,t,n)=>t.has(e)||Z0("Cannot "+n);var U=(e,t,n)=>(fm(e,t,"read from private field"),n?n.call(e):t.get(e)),ze=(e,t,n)=>t.has(e)?Z0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Te=(e,t,n,r)=>(fm(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Yt=(e,t,n)=>(fm(e,t,"access private method"),n);var Eu=(e,t,n,r)=>({set _(s){Te(e,t,s,n)},get _(){return U(e,t,r)}});function R1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var O1={exports:{}},Jf={},M1={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gc=Symbol.for("react.element"),z2=Symbol.for("react.portal"),W2=Symbol.for("react.fragment"),H2=Symbol.for("react.strict_mode"),K2=Symbol.for("react.profiler"),q2=Symbol.for("react.provider"),G2=Symbol.for("react.context"),Y2=Symbol.for("react.forward_ref"),Q2=Symbol.for("react.suspense"),X2=Symbol.for("react.memo"),Z2=Symbol.for("react.lazy"),J0=Symbol.iterator;function J2(e){return e===null||typeof e!="object"?null:(e=J0&&e[J0]||e["@@iterator"],typeof e=="function"?e:null)}var D1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I1=Object.assign,L1={};function rl(e,t,n){this.props=e,this.context=t,this.refs=L1,this.updater=n||D1}rl.prototype.isReactComponent={};rl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F1(){}F1.prototype=rl.prototype;function Gv(e,t,n){this.props=e,this.context=t,this.refs=L1,this.updater=n||D1}var Yv=Gv.prototype=new F1;Yv.constructor=Gv;I1(Yv,rl.prototype);Yv.isPureReactComponent=!0;var ew=Array.isArray,$1=Object.prototype.hasOwnProperty,Qv={current:null},V1={key:!0,ref:!0,__self:!0,__source:!0};function B1(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$1.call(t,r)&&!V1.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Gc,type:e,key:i,ref:o,props:s,_owner:Qv.current}}function eM(e,t){return{$$typeof:Gc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gc}function tM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tw=/\/+/g;function hm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tM(""+e.key):t.toString(36)}function hd(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gc:case z2:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+hm(o,0):r,ew(s)?(n="",e!=null&&(n=e.replace(tw,"$&/")+"/"),hd(s,t,n,"",function(u){return u})):s!=null&&(Xv(s)&&(s=eM(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(tw,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ew(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+hm(i,a);o+=hd(i,t,n,c,s)}else if(c=J2(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+hm(i,a++),o+=hd(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Nu(e,t,n){if(e==null)return e;var r=[],s=0;return hd(e,r,"","",function(i){return t.call(n,i,s++)}),r}function nM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hn={current:null},md={transition:null},rM={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:md,ReactCurrentOwner:Qv};function U1(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Nu,forEach:function(e,t,n){Nu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nu(e,function(){t++}),t},toArray:function(e){return Nu(e,function(t){return t})||[]},only:function(e){if(!Xv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=rl;Fe.Fragment=W2;Fe.Profiler=K2;Fe.PureComponent=Gv;Fe.StrictMode=H2;Fe.Suspense=Q2;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rM;Fe.act=U1;Fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=I1({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Qv.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)$1.call(t,c)&&!V1.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Gc,type:e.type,key:s,ref:i,props:r,_owner:o}};Fe.createContext=function(e){return e={$$typeof:G2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:q2,_context:e},e.Consumer=e};Fe.createElement=B1;Fe.createFactory=function(e){var t=B1.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:Y2,render:e}};Fe.isValidElement=Xv;Fe.lazy=function(e){return{$$typeof:Z2,_payload:{_status:-1,_result:e},_init:nM}};Fe.memo=function(e,t){return{$$typeof:X2,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=md.transition;md.transition={};try{e()}finally{md.transition=t}};Fe.unstable_act=U1;Fe.useCallback=function(e,t){return hn.current.useCallback(e,t)};Fe.useContext=function(e){return hn.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return hn.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return hn.current.useEffect(e,t)};Fe.useId=function(){return hn.current.useId()};Fe.useImperativeHandle=function(e,t,n){return hn.current.useImperativeHandle(e,t,n)};Fe.useInsertionEffect=function(e,t){return hn.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return hn.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return hn.current.useMemo(e,t)};Fe.useReducer=function(e,t,n){return hn.current.useReducer(e,t,n)};Fe.useRef=function(e){return hn.current.useRef(e)};Fe.useState=function(e){return hn.current.useState(e)};Fe.useSyncExternalStore=function(e,t,n){return hn.current.useSyncExternalStore(e,t,n)};Fe.useTransition=function(){return hn.current.useTransition()};Fe.version="18.3.1";M1.exports=Fe;var p=M1.exports;const F=qv(p),Zv=R1({__proto__:null,default:F},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sM=p,iM=Symbol.for("react.element"),oM=Symbol.for("react.fragment"),aM=Object.prototype.hasOwnProperty,lM=sM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cM={key:!0,ref:!0,__self:!0,__source:!0};function z1(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)aM.call(t,r)&&!cM.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:iM,type:e,key:i,ref:o,props:s,_owner:lM.current}}Jf.Fragment=oM;Jf.jsx=z1;Jf.jsxs=z1;O1.exports=Jf;var l=O1.exports,W1={exports:{}},Bn={},H1={exports:{}},K1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,P){var V=T.length;T.push(P);e:for(;0<V;){var te=V-1>>>1,J=T[te];if(0<s(J,P))T[te]=P,T[V]=J,V=te;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var P=T[0],V=T.pop();if(V!==P){T[0]=V;e:for(var te=0,J=T.length,fe=J>>>1;te<fe;){var ge=2*(te+1)-1,Me=T[ge],z=ge+1,B=T[z];if(0>s(Me,V))z<J&&0>s(B,Me)?(T[te]=B,T[z]=V,te=z):(T[te]=Me,T[ge]=V,te=ge);else if(z<J&&0>s(B,V))T[te]=B,T[z]=V,te=z;else break e}}return P}function s(T,P){var V=T.sortIndex-P.sortIndex;return V!==0?V:T.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,h=3,m=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=T)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function _(T){if(v=!1,w(T),!x)if(n(c)!==null)x=!0,H(S);else{var P=n(u);P!==null&&O(_,P.startTime-T)}}function S(T,P){x=!1,v&&(v=!1,b(E),E=-1),m=!0;var V=h;try{for(w(P),f=n(c);f!==null&&(!(f.expirationTime>P)||T&&!W());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var J=te(f.expirationTime<=P);P=e.unstable_now(),typeof J=="function"?f.callback=J:f===n(c)&&r(c),w(P)}else r(c);f=n(c)}if(f!==null)var fe=!0;else{var ge=n(u);ge!==null&&O(_,ge.startTime-P),fe=!1}return fe}finally{f=null,h=V,m=!1}}var C=!1,j=null,E=-1,k=5,R=-1;function W(){return!(e.unstable_now()-R<k)}function D(){if(j!==null){var T=e.unstable_now();R=T;var P=!0;try{P=j(!0,T)}finally{P?q():(C=!1,j=null)}}else C=!1}var q;if(typeof g=="function")q=function(){g(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ne=$.port2;$.port1.onmessage=D,q=function(){ne.postMessage(null)}}else q=function(){y(D,0)};function H(T){j=T,C||(C=!0,q())}function O(T,P){E=y(function(){T(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,H(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var V=h;h=P;try{return T()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,P){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var V=h;h=T;try{return P()}finally{h=V}},e.unstable_scheduleCallback=function(T,P,V){var te=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?te+V:te):V=te,T){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=V+J,T={id:d++,callback:P,priorityLevel:T,startTime:V,expirationTime:J,sortIndex:-1},V>te?(T.sortIndex=V,t(u,T),n(c)===null&&T===n(u)&&(v?(b(E),E=-1):v=!0,O(_,V-te))):(T.sortIndex=J,t(c,T),x||m||(x=!0,H(S))),T},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(T){var P=h;return function(){var V=h;h=P;try{return T.apply(this,arguments)}finally{h=V}}}})(K1);H1.exports=K1;var uM=H1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dM=p,Fn=uM;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q1=new Set,lc={};function ko(e,t){Ia(e,t),Ia(e+"Capture",t)}function Ia(e,t){for(lc[e]=t,e=0;e<t.length;e++)q1.add(t[e])}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dp=Object.prototype.hasOwnProperty,fM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nw={},rw={};function hM(e){return Dp.call(rw,e)?!0:Dp.call(nw,e)?!1:fM.test(e)?rw[e]=!0:(nw[e]=!0,!1)}function mM(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pM(e,t,n,r){if(t===null||typeof t>"u"||mM(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gt[e]=new mn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gt[t]=new mn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gt[e]=new mn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gt[e]=new mn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gt[e]=new mn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gt[e]=new mn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gt[e]=new mn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gt[e]=new mn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gt[e]=new mn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jv=/[\-:]([a-z])/g;function ey(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jv,ey);Gt[t]=new mn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jv,ey);Gt[t]=new mn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jv,ey);Gt[t]=new mn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gt[e]=new mn(e,1,!1,e.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gt[e]=new mn(e,1,!1,e.toLowerCase(),null,!0,!0)});function ty(e,t,n,r){var s=Gt.hasOwnProperty(t)?Gt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pM(t,n,s,r)&&(n=null),r||s===null?hM(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Es=dM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ku=Symbol.for("react.element"),Zo=Symbol.for("react.portal"),Jo=Symbol.for("react.fragment"),ny=Symbol.for("react.strict_mode"),Ip=Symbol.for("react.profiler"),G1=Symbol.for("react.provider"),Y1=Symbol.for("react.context"),ry=Symbol.for("react.forward_ref"),Lp=Symbol.for("react.suspense"),Fp=Symbol.for("react.suspense_list"),sy=Symbol.for("react.memo"),Vs=Symbol.for("react.lazy"),Q1=Symbol.for("react.offscreen"),sw=Symbol.iterator;function yl(e){return e===null||typeof e!="object"?null:(e=sw&&e[sw]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,mm;function Ml(e){if(mm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mm=t&&t[1]||""}return`
`+mm+e}var pm=!1;function gm(e,t){if(!e||pm)return"";pm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{pm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ml(e):""}function gM(e){switch(e.tag){case 5:return Ml(e.type);case 16:return Ml("Lazy");case 13:return Ml("Suspense");case 19:return Ml("SuspenseList");case 0:case 2:case 15:return e=gm(e.type,!1),e;case 11:return e=gm(e.type.render,!1),e;case 1:return e=gm(e.type,!0),e;default:return""}}function $p(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jo:return"Fragment";case Zo:return"Portal";case Ip:return"Profiler";case ny:return"StrictMode";case Lp:return"Suspense";case Fp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y1:return(e.displayName||"Context")+".Consumer";case G1:return(e._context.displayName||"Context")+".Provider";case ry:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sy:return t=e.displayName||null,t!==null?t:$p(e.type)||"Memo";case Vs:t=e._payload,e=e._init;try{return $p(e(t))}catch{}}return null}function vM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $p(t);case 8:return t===ny?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function di(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yM(e){var t=X1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tu(e){e._valueTracker||(e._valueTracker=yM(e))}function Z1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ud(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vp(e,t){var n=t.checked;return ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function iw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=di(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function J1(e,t){t=t.checked,t!=null&&ty(e,"checked",t,!1)}function Bp(e,t){J1(e,t);var n=di(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Up(e,t.type,n):t.hasOwnProperty("defaultValue")&&Up(e,t.type,di(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ow(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Up(e,t,n){(t!=="number"||Ud(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Dl=Array.isArray;function pa(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+di(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function zp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function aw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(Dl(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:di(n)}}function ej(e,t){var n=di(t.value),r=di(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function lw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pu,nj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pu=Pu||document.createElement("div"),Pu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xM=["Webkit","ms","Moz","O"];Object.keys(Hl).forEach(function(e){xM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hl[t]=Hl[e]})});function rj(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hl.hasOwnProperty(e)&&Hl[e]?(""+t).trim():t+"px"}function sj(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=rj(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var wM=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hp(e,t){if(t){if(wM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Kp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qp=null;function iy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gp=null,ga=null,va=null;function cw(e){if(e=Xc(e)){if(typeof Gp!="function")throw Error(G(280));var t=e.stateNode;t&&(t=sh(t),Gp(e.stateNode,e.type,t))}}function ij(e){ga?va?va.push(e):va=[e]:ga=e}function oj(){if(ga){var e=ga,t=va;if(va=ga=null,cw(e),t)for(e=0;e<t.length;e++)cw(t[e])}}function aj(e,t){return e(t)}function lj(){}var vm=!1;function cj(e,t,n){if(vm)return e(t,n);vm=!0;try{return aj(e,t,n)}finally{vm=!1,(ga!==null||va!==null)&&(lj(),oj())}}function uc(e,t){var n=e.stateNode;if(n===null)return null;var r=sh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var Yp=!1;if(vs)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){Yp=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{Yp=!1}function bM(e,t,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Kl=!1,zd=null,Wd=!1,Qp=null,_M={onError:function(e){Kl=!0,zd=e}};function SM(e,t,n,r,s,i,o,a,c){Kl=!1,zd=null,bM.apply(_M,arguments)}function jM(e,t,n,r,s,i,o,a,c){if(SM.apply(this,arguments),Kl){if(Kl){var u=zd;Kl=!1,zd=null}else throw Error(G(198));Wd||(Wd=!0,Qp=u)}}function To(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function uj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uw(e){if(To(e)!==e)throw Error(G(188))}function CM(e){var t=e.alternate;if(!t){if(t=To(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return uw(s),e;if(i===r)return uw(s),t;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function dj(e){return e=CM(e),e!==null?fj(e):null}function fj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fj(e);if(t!==null)return t;e=e.sibling}return null}var hj=Fn.unstable_scheduleCallback,dw=Fn.unstable_cancelCallback,EM=Fn.unstable_shouldYield,NM=Fn.unstable_requestPaint,wt=Fn.unstable_now,kM=Fn.unstable_getCurrentPriorityLevel,oy=Fn.unstable_ImmediatePriority,mj=Fn.unstable_UserBlockingPriority,Hd=Fn.unstable_NormalPriority,TM=Fn.unstable_LowPriority,pj=Fn.unstable_IdlePriority,eh=null,Kr=null;function PM(e){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(eh,e,void 0,(e.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:OM,AM=Math.log,RM=Math.LN2;function OM(e){return e>>>=0,e===0?32:31-(AM(e)/RM|0)|0}var Au=64,Ru=4194304;function Il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Il(a):(i&=o,i!==0&&(r=Il(i)))}else o=n&~s,o!==0?r=Il(o):i!==0&&(r=Il(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Cr(t),s=1<<n,r|=e[n],t&=~s;return r}function MM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Cr(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=MM(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Xp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gj(){var e=Au;return Au<<=1,!(Au&4194240)&&(Au=64),e}function ym(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cr(t),e[t]=n}function IM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Cr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ay(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Cr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ye=0;function vj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yj,ly,xj,wj,bj,Zp=!1,Ou=[],ti=null,ni=null,ri=null,dc=new Map,fc=new Map,zs=[],LM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fw(e,t){switch(e){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":dc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(t.pointerId)}}function wl(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Xc(t),t!==null&&ly(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function FM(e,t,n,r,s){switch(t){case"focusin":return ti=wl(ti,e,t,n,r,s),!0;case"dragenter":return ni=wl(ni,e,t,n,r,s),!0;case"mouseover":return ri=wl(ri,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return dc.set(i,wl(dc.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,fc.set(i,wl(fc.get(i)||null,e,t,n,r,s)),!0}return!1}function _j(e){var t=Qi(e.target);if(t!==null){var n=To(t);if(n!==null){if(t=n.tag,t===13){if(t=uj(n),t!==null){e.blockedOn=t,bj(e.priority,function(){xj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qp=r,n.target.dispatchEvent(r),qp=null}else return t=Xc(n),t!==null&&ly(t),e.blockedOn=n,!1;t.shift()}return!0}function hw(e,t,n){pd(e)&&n.delete(t)}function $M(){Zp=!1,ti!==null&&pd(ti)&&(ti=null),ni!==null&&pd(ni)&&(ni=null),ri!==null&&pd(ri)&&(ri=null),dc.forEach(hw),fc.forEach(hw)}function bl(e,t){e.blockedOn===t&&(e.blockedOn=null,Zp||(Zp=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,$M)))}function hc(e){function t(s){return bl(s,e)}if(0<Ou.length){bl(Ou[0],e);for(var n=1;n<Ou.length;n++){var r=Ou[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ti!==null&&bl(ti,e),ni!==null&&bl(ni,e),ri!==null&&bl(ri,e),dc.forEach(t),fc.forEach(t),n=0;n<zs.length;n++)r=zs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zs.length&&(n=zs[0],n.blockedOn===null);)_j(n),n.blockedOn===null&&zs.shift()}var ya=Es.ReactCurrentBatchConfig,qd=!0;function VM(e,t,n,r){var s=Ye,i=ya.transition;ya.transition=null;try{Ye=1,cy(e,t,n,r)}finally{Ye=s,ya.transition=i}}function BM(e,t,n,r){var s=Ye,i=ya.transition;ya.transition=null;try{Ye=4,cy(e,t,n,r)}finally{Ye=s,ya.transition=i}}function cy(e,t,n,r){if(qd){var s=Jp(e,t,n,r);if(s===null)km(e,t,r,Gd,n),fw(e,r);else if(FM(s,e,t,n,r))r.stopPropagation();else if(fw(e,r),t&4&&-1<LM.indexOf(e)){for(;s!==null;){var i=Xc(s);if(i!==null&&yj(i),i=Jp(e,t,n,r),i===null&&km(e,t,r,Gd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else km(e,t,r,null,n)}}var Gd=null;function Jp(e,t,n,r){if(Gd=null,e=iy(r),e=Qi(e),e!==null)if(t=To(e),t===null)e=null;else if(n=t.tag,n===13){if(e=uj(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gd=e,null}function Sj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kM()){case oy:return 1;case mj:return 4;case Hd:case TM:return 16;case pj:return 536870912;default:return 16}default:return 16}}var Zs=null,uy=null,gd=null;function jj(){if(gd)return gd;var e,t=uy,n=t.length,r,s="value"in Zs?Zs.value:Zs.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return gd=s.slice(e,1<r?1-r:void 0)}function vd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mu(){return!0}function mw(){return!1}function Un(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mu:mw,this.isPropagationStopped=mw,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mu)},persist:function(){},isPersistent:Mu}),t}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dy=Un(sl),Qc=ft({},sl,{view:0,detail:0}),UM=Un(Qc),xm,wm,_l,th=ft({},Qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_l&&(_l&&e.type==="mousemove"?(xm=e.screenX-_l.screenX,wm=e.screenY-_l.screenY):wm=xm=0,_l=e),xm)},movementY:function(e){return"movementY"in e?e.movementY:wm}}),pw=Un(th),zM=ft({},th,{dataTransfer:0}),WM=Un(zM),HM=ft({},Qc,{relatedTarget:0}),bm=Un(HM),KM=ft({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),qM=Un(KM),GM=ft({},sl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),YM=Un(GM),QM=ft({},sl,{data:0}),gw=Un(QM),XM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=JM[e])?!!t[e]:!1}function fy(){return eD}var tD=ft({},Qc,{key:function(e){if(e.key){var t=XM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ZM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fy,charCode:function(e){return e.type==="keypress"?vd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nD=Un(tD),rD=ft({},th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vw=Un(rD),sD=ft({},Qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fy}),iD=Un(sD),oD=ft({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),aD=Un(oD),lD=ft({},th,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cD=Un(lD),uD=[9,13,27,32],hy=vs&&"CompositionEvent"in window,ql=null;vs&&"documentMode"in document&&(ql=document.documentMode);var dD=vs&&"TextEvent"in window&&!ql,Cj=vs&&(!hy||ql&&8<ql&&11>=ql),yw=" ",xw=!1;function Ej(e,t){switch(e){case"keyup":return uD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ea=!1;function fD(e,t){switch(e){case"compositionend":return Nj(t);case"keypress":return t.which!==32?null:(xw=!0,yw);case"textInput":return e=t.data,e===yw&&xw?null:e;default:return null}}function hD(e,t){if(ea)return e==="compositionend"||!hy&&Ej(e,t)?(e=jj(),gd=uy=Zs=null,ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cj&&t.locale!=="ko"?null:t.data;default:return null}}var mD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ww(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mD[e.type]:t==="textarea"}function kj(e,t,n,r){ij(r),t=Yd(t,"onChange"),0<t.length&&(n=new dy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gl=null,mc=null;function pD(e){$j(e,0)}function nh(e){var t=ra(e);if(Z1(t))return e}function gD(e,t){if(e==="change")return t}var Tj=!1;if(vs){var _m;if(vs){var Sm="oninput"in document;if(!Sm){var bw=document.createElement("div");bw.setAttribute("oninput","return;"),Sm=typeof bw.oninput=="function"}_m=Sm}else _m=!1;Tj=_m&&(!document.documentMode||9<document.documentMode)}function _w(){Gl&&(Gl.detachEvent("onpropertychange",Pj),mc=Gl=null)}function Pj(e){if(e.propertyName==="value"&&nh(mc)){var t=[];kj(t,mc,e,iy(e)),cj(pD,t)}}function vD(e,t,n){e==="focusin"?(_w(),Gl=t,mc=n,Gl.attachEvent("onpropertychange",Pj)):e==="focusout"&&_w()}function yD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nh(mc)}function xD(e,t){if(e==="click")return nh(t)}function wD(e,t){if(e==="input"||e==="change")return nh(t)}function bD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nr=typeof Object.is=="function"?Object.is:bD;function pc(e,t){if(Nr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Dp.call(t,s)||!Nr(e[s],t[s]))return!1}return!0}function Sw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jw(e,t){var n=Sw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sw(n)}}function Aj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Aj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rj(){for(var e=window,t=Ud();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ud(e.document)}return t}function my(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _D(e){var t=Rj(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Aj(n.ownerDocument.documentElement,n)){if(r!==null&&my(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=jw(n,i);var o=jw(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var SD=vs&&"documentMode"in document&&11>=document.documentMode,ta=null,eg=null,Yl=null,tg=!1;function Cw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tg||ta==null||ta!==Ud(r)||(r=ta,"selectionStart"in r&&my(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yl&&pc(Yl,r)||(Yl=r,r=Yd(eg,"onSelect"),0<r.length&&(t=new dy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ta)))}function Du(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var na={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionend:Du("Transition","TransitionEnd")},jm={},Oj={};vs&&(Oj=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function rh(e){if(jm[e])return jm[e];if(!na[e])return e;var t=na[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Oj)return jm[e]=t[n];return e}var Mj=rh("animationend"),Dj=rh("animationiteration"),Ij=rh("animationstart"),Lj=rh("transitionend"),Fj=new Map,Ew="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(e,t){Fj.set(e,t),ko(t,[e])}for(var Cm=0;Cm<Ew.length;Cm++){var Em=Ew[Cm],jD=Em.toLowerCase(),CD=Em[0].toUpperCase()+Em.slice(1);bi(jD,"on"+CD)}bi(Mj,"onAnimationEnd");bi(Dj,"onAnimationIteration");bi(Ij,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(Lj,"onTransitionEnd");Ia("onMouseEnter",["mouseout","mouseover"]);Ia("onMouseLeave",["mouseout","mouseover"]);Ia("onPointerEnter",["pointerout","pointerover"]);Ia("onPointerLeave",["pointerout","pointerover"]);ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ED=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function Nw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jM(r,t,void 0,e),e.currentTarget=null}function $j(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Nw(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Nw(s,a,u),i=c}}}if(Wd)throw e=Qp,Wd=!1,Qp=null,e}function nt(e,t){var n=t[og];n===void 0&&(n=t[og]=new Set);var r=e+"__bubble";n.has(r)||(Vj(t,e,2,!1),n.add(r))}function Nm(e,t,n){var r=0;t&&(r|=4),Vj(n,e,r,t)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function gc(e){if(!e[Iu]){e[Iu]=!0,q1.forEach(function(n){n!=="selectionchange"&&(ED.has(n)||Nm(n,!1,e),Nm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Iu]||(t[Iu]=!0,Nm("selectionchange",!1,t))}}function Vj(e,t,n,r){switch(Sj(t)){case 1:var s=VM;break;case 4:s=BM;break;default:s=cy}n=s.bind(null,t,n,e),s=void 0,!Yp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function km(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Qi(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}cj(function(){var u=i,d=iy(n),f=[];e:{var h=Fj.get(e);if(h!==void 0){var m=dy,x=e;switch(e){case"keypress":if(vd(n)===0)break e;case"keydown":case"keyup":m=nD;break;case"focusin":x="focus",m=bm;break;case"focusout":x="blur",m=bm;break;case"beforeblur":case"afterblur":m=bm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=WM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=iD;break;case Mj:case Dj:case Ij:m=qM;break;case Lj:m=aD;break;case"scroll":m=UM;break;case"wheel":m=cD;break;case"copy":case"cut":case"paste":m=YM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=vw}var v=(t&4)!==0,y=!v&&e==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,w;g!==null;){w=g;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=uc(g,b),_!=null&&v.push(vc(g,_,w)))),y)break;g=g.return}0<v.length&&(h=new m(h,x,null,n,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==qp&&(x=n.relatedTarget||n.fromElement)&&(Qi(x)||x[ys]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?Qi(x):null,x!==null&&(y=To(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(v=pw,_="onMouseLeave",b="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=vw,_="onPointerLeave",b="onPointerEnter",g="pointer"),y=m==null?h:ra(m),w=x==null?h:ra(x),h=new v(_,g+"leave",m,n,d),h.target=y,h.relatedTarget=w,_=null,Qi(d)===u&&(v=new v(b,g+"enter",x,n,d),v.target=w,v.relatedTarget=y,_=v),y=_,m&&x)t:{for(v=m,b=x,g=0,w=v;w;w=$o(w))g++;for(w=0,_=b;_;_=$o(_))w++;for(;0<g-w;)v=$o(v),g--;for(;0<w-g;)b=$o(b),w--;for(;g--;){if(v===b||b!==null&&v===b.alternate)break t;v=$o(v),b=$o(b)}v=null}else v=null;m!==null&&kw(f,h,m,v,!1),x!==null&&y!==null&&kw(f,y,x,v,!0)}}e:{if(h=u?ra(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=gD;else if(ww(h))if(Tj)S=wD;else{S=yD;var C=vD}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=xD);if(S&&(S=S(e,u))){kj(f,S,n,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Up(h,"number",h.value)}switch(C=u?ra(u):window,e){case"focusin":(ww(C)||C.contentEditable==="true")&&(ta=C,eg=u,Yl=null);break;case"focusout":Yl=eg=ta=null;break;case"mousedown":tg=!0;break;case"contextmenu":case"mouseup":case"dragend":tg=!1,Cw(f,n,d);break;case"selectionchange":if(SD)break;case"keydown":case"keyup":Cw(f,n,d)}var j;if(hy)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ea?Ej(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Cj&&n.locale!=="ko"&&(ea||E!=="onCompositionStart"?E==="onCompositionEnd"&&ea&&(j=jj()):(Zs=d,uy="value"in Zs?Zs.value:Zs.textContent,ea=!0)),C=Yd(u,E),0<C.length&&(E=new gw(E,e,null,n,d),f.push({event:E,listeners:C}),j?E.data=j:(j=Nj(n),j!==null&&(E.data=j)))),(j=dD?fD(e,n):hD(e,n))&&(u=Yd(u,"onBeforeInput"),0<u.length&&(d=new gw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=j))}$j(f,t)})}function vc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=uc(e,n),i!=null&&r.unshift(vc(e,i,s)),i=uc(e,t),i!=null&&r.push(vc(e,i,s))),e=e.return}return r}function $o(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kw(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=uc(n,i),c!=null&&o.unshift(vc(n,c,a))):s||(c=uc(n,i),c!=null&&o.push(vc(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ND=/\r\n?/g,kD=/\u0000|\uFFFD/g;function Tw(e){return(typeof e=="string"?e:""+e).replace(ND,`
`).replace(kD,"")}function Lu(e,t,n){if(t=Tw(t),Tw(e)!==t&&n)throw Error(G(425))}function Qd(){}var ng=null,rg=null;function sg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ig=typeof setTimeout=="function"?setTimeout:void 0,TD=typeof clearTimeout=="function"?clearTimeout:void 0,Pw=typeof Promise=="function"?Promise:void 0,PD=typeof queueMicrotask=="function"?queueMicrotask:typeof Pw<"u"?function(e){return Pw.resolve(null).then(e).catch(AD)}:ig;function AD(e){setTimeout(function(){throw e})}function Tm(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),hc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);hc(t)}function si(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Aw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var il=Math.random().toString(36).slice(2),Ur="__reactFiber$"+il,yc="__reactProps$"+il,ys="__reactContainer$"+il,og="__reactEvents$"+il,RD="__reactListeners$"+il,OD="__reactHandles$"+il;function Qi(e){var t=e[Ur];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ys]||n[Ur]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Aw(e);e!==null;){if(n=e[Ur])return n;e=Aw(e)}return t}e=n,n=e.parentNode}return null}function Xc(e){return e=e[Ur]||e[ys],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ra(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function sh(e){return e[yc]||null}var ag=[],sa=-1;function _i(e){return{current:e}}function rt(e){0>sa||(e.current=ag[sa],ag[sa]=null,sa--)}function Je(e,t){sa++,ag[sa]=e.current,e.current=t}var fi={},sn=_i(fi),En=_i(!1),po=fi;function La(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Nn(e){return e=e.childContextTypes,e!=null}function Xd(){rt(En),rt(sn)}function Rw(e,t,n){if(sn.current!==fi)throw Error(G(168));Je(sn,t),Je(En,n)}function Bj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(G(108,vM(e)||"Unknown",s));return ft({},n,r)}function Zd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,po=sn.current,Je(sn,e),Je(En,En.current),!0}function Ow(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=Bj(e,t,po),r.__reactInternalMemoizedMergedChildContext=e,rt(En),rt(sn),Je(sn,e)):rt(En),Je(En,n)}var cs=null,ih=!1,Pm=!1;function Uj(e){cs===null?cs=[e]:cs.push(e)}function MD(e){ih=!0,Uj(e)}function Si(){if(!Pm&&cs!==null){Pm=!0;var e=0,t=Ye;try{var n=cs;for(Ye=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}cs=null,ih=!1}catch(s){throw cs!==null&&(cs=cs.slice(e+1)),hj(oy,Si),s}finally{Ye=t,Pm=!1}}return null}var ia=[],oa=0,Jd=null,ef=0,Kn=[],qn=0,go=null,fs=1,hs="";function Vi(e,t){ia[oa++]=ef,ia[oa++]=Jd,Jd=e,ef=t}function zj(e,t,n){Kn[qn++]=fs,Kn[qn++]=hs,Kn[qn++]=go,go=e;var r=fs;e=hs;var s=32-Cr(r)-1;r&=~(1<<s),n+=1;var i=32-Cr(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fs=1<<32-Cr(t)+s|n<<s|r,hs=i+e}else fs=1<<i|n<<s|r,hs=e}function py(e){e.return!==null&&(Vi(e,1),zj(e,1,0))}function gy(e){for(;e===Jd;)Jd=ia[--oa],ia[oa]=null,ef=ia[--oa],ia[oa]=null;for(;e===go;)go=Kn[--qn],Kn[qn]=null,hs=Kn[--qn],Kn[qn]=null,fs=Kn[--qn],Kn[qn]=null}var In=null,Dn=null,ot=!1,_r=null;function Wj(e,t){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Mw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,In=e,Dn=si(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,In=e,Dn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=go!==null?{id:fs,overflow:hs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,In=e,Dn=null,!0):!1;default:return!1}}function lg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cg(e){if(ot){var t=Dn;if(t){var n=t;if(!Mw(e,t)){if(lg(e))throw Error(G(418));t=si(n.nextSibling);var r=In;t&&Mw(e,t)?Wj(r,n):(e.flags=e.flags&-4097|2,ot=!1,In=e)}}else{if(lg(e))throw Error(G(418));e.flags=e.flags&-4097|2,ot=!1,In=e}}}function Dw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;In=e}function Fu(e){if(e!==In)return!1;if(!ot)return Dw(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sg(e.type,e.memoizedProps)),t&&(t=Dn)){if(lg(e))throw Hj(),Error(G(418));for(;t;)Wj(e,t),t=si(t.nextSibling)}if(Dw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Dn=si(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Dn=null}}else Dn=In?si(e.stateNode.nextSibling):null;return!0}function Hj(){for(var e=Dn;e;)e=si(e.nextSibling)}function Fa(){Dn=In=null,ot=!1}function vy(e){_r===null?_r=[e]:_r.push(e)}var DD=Es.ReactCurrentBatchConfig;function Sl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function $u(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Iw(e){var t=e._init;return t(e._payload)}function Kj(e){function t(b,g){if(e){var w=b.deletions;w===null?(b.deletions=[g],b.flags|=16):w.push(g)}}function n(b,g){if(!e)return null;for(;g!==null;)t(b,g),g=g.sibling;return null}function r(b,g){for(b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function s(b,g){return b=li(b,g),b.index=0,b.sibling=null,b}function i(b,g,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<g?(b.flags|=2,g):w):(b.flags|=2,g)):(b.flags|=1048576,g)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function a(b,g,w,_){return g===null||g.tag!==6?(g=Lm(w,b.mode,_),g.return=b,g):(g=s(g,w),g.return=b,g)}function c(b,g,w,_){var S=w.type;return S===Jo?d(b,g,w.props.children,_,w.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vs&&Iw(S)===g.type)?(_=s(g,w.props),_.ref=Sl(b,g,w),_.return=b,_):(_=jd(w.type,w.key,w.props,null,b.mode,_),_.ref=Sl(b,g,w),_.return=b,_)}function u(b,g,w,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Fm(w,b.mode,_),g.return=b,g):(g=s(g,w.children||[]),g.return=b,g)}function d(b,g,w,_,S){return g===null||g.tag!==7?(g=fo(w,b.mode,_,S),g.return=b,g):(g=s(g,w),g.return=b,g)}function f(b,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Lm(""+g,b.mode,w),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ku:return w=jd(g.type,g.key,g.props,null,b.mode,w),w.ref=Sl(b,null,g),w.return=b,w;case Zo:return g=Fm(g,b.mode,w),g.return=b,g;case Vs:var _=g._init;return f(b,_(g._payload),w)}if(Dl(g)||yl(g))return g=fo(g,b.mode,w,null),g.return=b,g;$u(b,g)}return null}function h(b,g,w,_){var S=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(b,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ku:return w.key===S?c(b,g,w,_):null;case Zo:return w.key===S?u(b,g,w,_):null;case Vs:return S=w._init,h(b,g,S(w._payload),_)}if(Dl(w)||yl(w))return S!==null?null:d(b,g,w,_,null);$u(b,w)}return null}function m(b,g,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,a(g,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ku:return b=b.get(_.key===null?w:_.key)||null,c(g,b,_,S);case Zo:return b=b.get(_.key===null?w:_.key)||null,u(g,b,_,S);case Vs:var C=_._init;return m(b,g,w,C(_._payload),S)}if(Dl(_)||yl(_))return b=b.get(w)||null,d(g,b,_,S,null);$u(g,_)}return null}function x(b,g,w,_){for(var S=null,C=null,j=g,E=g=0,k=null;j!==null&&E<w.length;E++){j.index>E?(k=j,j=null):k=j.sibling;var R=h(b,j,w[E],_);if(R===null){j===null&&(j=k);break}e&&j&&R.alternate===null&&t(b,j),g=i(R,g,E),C===null?S=R:C.sibling=R,C=R,j=k}if(E===w.length)return n(b,j),ot&&Vi(b,E),S;if(j===null){for(;E<w.length;E++)j=f(b,w[E],_),j!==null&&(g=i(j,g,E),C===null?S=j:C.sibling=j,C=j);return ot&&Vi(b,E),S}for(j=r(b,j);E<w.length;E++)k=m(j,b,E,w[E],_),k!==null&&(e&&k.alternate!==null&&j.delete(k.key===null?E:k.key),g=i(k,g,E),C===null?S=k:C.sibling=k,C=k);return e&&j.forEach(function(W){return t(b,W)}),ot&&Vi(b,E),S}function v(b,g,w,_){var S=yl(w);if(typeof S!="function")throw Error(G(150));if(w=S.call(w),w==null)throw Error(G(151));for(var C=S=null,j=g,E=g=0,k=null,R=w.next();j!==null&&!R.done;E++,R=w.next()){j.index>E?(k=j,j=null):k=j.sibling;var W=h(b,j,R.value,_);if(W===null){j===null&&(j=k);break}e&&j&&W.alternate===null&&t(b,j),g=i(W,g,E),C===null?S=W:C.sibling=W,C=W,j=k}if(R.done)return n(b,j),ot&&Vi(b,E),S;if(j===null){for(;!R.done;E++,R=w.next())R=f(b,R.value,_),R!==null&&(g=i(R,g,E),C===null?S=R:C.sibling=R,C=R);return ot&&Vi(b,E),S}for(j=r(b,j);!R.done;E++,R=w.next())R=m(j,b,E,R.value,_),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?E:R.key),g=i(R,g,E),C===null?S=R:C.sibling=R,C=R);return e&&j.forEach(function(D){return t(b,D)}),ot&&Vi(b,E),S}function y(b,g,w,_){if(typeof w=="object"&&w!==null&&w.type===Jo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ku:e:{for(var S=w.key,C=g;C!==null;){if(C.key===S){if(S=w.type,S===Jo){if(C.tag===7){n(b,C.sibling),g=s(C,w.props.children),g.return=b,b=g;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vs&&Iw(S)===C.type){n(b,C.sibling),g=s(C,w.props),g.ref=Sl(b,C,w),g.return=b,b=g;break e}n(b,C);break}else t(b,C);C=C.sibling}w.type===Jo?(g=fo(w.props.children,b.mode,_,w.key),g.return=b,b=g):(_=jd(w.type,w.key,w.props,null,b.mode,_),_.ref=Sl(b,g,w),_.return=b,b=_)}return o(b);case Zo:e:{for(C=w.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(b,g.sibling),g=s(g,w.children||[]),g.return=b,b=g;break e}else{n(b,g);break}else t(b,g);g=g.sibling}g=Fm(w,b.mode,_),g.return=b,b=g}return o(b);case Vs:return C=w._init,y(b,g,C(w._payload),_)}if(Dl(w))return x(b,g,w,_);if(yl(w))return v(b,g,w,_);$u(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(b,g.sibling),g=s(g,w),g.return=b,b=g):(n(b,g),g=Lm(w,b.mode,_),g.return=b,b=g),o(b)):n(b,g)}return y}var $a=Kj(!0),qj=Kj(!1),tf=_i(null),nf=null,aa=null,yy=null;function xy(){yy=aa=nf=null}function wy(e){var t=tf.current;rt(tf),e._currentValue=t}function ug(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xa(e,t){nf=e,yy=aa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jn=!0),e.firstContext=null)}function tr(e){var t=e._currentValue;if(yy!==e)if(e={context:e,memoizedValue:t,next:null},aa===null){if(nf===null)throw Error(G(308));aa=e,nf.dependencies={lanes:0,firstContext:e}}else aa=aa.next=e;return t}var Xi=null;function by(e){Xi===null?Xi=[e]:Xi.push(e)}function Gj(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,by(t)):(n.next=s.next,s.next=n),t.interleaved=n,xs(e,r)}function xs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bs=!1;function _y(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xs(e,n)}return s=r.interleaved,s===null?(t.next=t,by(r)):(t.next=s.next,s.next=t),r.interleaved=t,xs(e,n)}function yd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ay(e,n)}}function Lw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function rf(e,t,n,r){var s=e.updateQueue;Bs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,a=i;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,v=a;switch(h=t,m=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=ft({},f,h);break e;case 2:Bs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yo|=o,e.lanes=o,e.memoizedState=f}}function Fw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var Zc={},qr=_i(Zc),xc=_i(Zc),wc=_i(Zc);function Zi(e){if(e===Zc)throw Error(G(174));return e}function Sy(e,t){switch(Je(wc,t),Je(xc,e),Je(qr,Zc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wp(t,e)}rt(qr),Je(qr,t)}function Va(){rt(qr),rt(xc),rt(wc)}function Qj(e){Zi(wc.current);var t=Zi(qr.current),n=Wp(t,e.type);t!==n&&(Je(xc,e),Je(qr,n))}function jy(e){xc.current===e&&(rt(qr),rt(xc))}var ct=_i(0);function sf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Am=[];function Cy(){for(var e=0;e<Am.length;e++)Am[e]._workInProgressVersionPrimary=null;Am.length=0}var xd=Es.ReactCurrentDispatcher,Rm=Es.ReactCurrentBatchConfig,vo=0,dt=null,Dt=null,$t=null,of=!1,Ql=!1,bc=0,ID=0;function Qt(){throw Error(G(321))}function Ey(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nr(e[n],t[n]))return!1;return!0}function Ny(e,t,n,r,s,i){if(vo=i,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xd.current=e===null||e.memoizedState===null?VD:BD,e=n(r,s),Ql){i=0;do{if(Ql=!1,bc=0,25<=i)throw Error(G(301));i+=1,$t=Dt=null,t.updateQueue=null,xd.current=UD,e=n(r,s)}while(Ql)}if(xd.current=af,t=Dt!==null&&Dt.next!==null,vo=0,$t=Dt=dt=null,of=!1,t)throw Error(G(300));return e}function ky(){var e=bc!==0;return bc=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?dt.memoizedState=$t=e:$t=$t.next=e,$t}function nr(){if(Dt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=$t===null?dt.memoizedState:$t.next;if(t!==null)$t=t,Dt=e;else{if(e===null)throw Error(G(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},$t===null?dt.memoizedState=$t=e:$t=$t.next=e}return $t}function _c(e,t){return typeof t=="function"?t(e):t}function Om(e){var t=nr(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=Dt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((vo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,dt.lanes|=d,yo|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Nr(r,t.memoizedState)||(jn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,dt.lanes|=i,yo|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Mm(e){var t=nr(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Nr(i,t.memoizedState)||(jn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Xj(){}function Zj(e,t){var n=dt,r=nr(),s=t(),i=!Nr(r.memoizedState,s);if(i&&(r.memoizedState=s,jn=!0),r=r.queue,Ty(tC.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,Sc(9,eC.bind(null,n,r,s,t),void 0,null),Bt===null)throw Error(G(349));vo&30||Jj(n,t,s)}return s}function Jj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function eC(e,t,n,r){t.value=n,t.getSnapshot=r,nC(t)&&rC(e)}function tC(e,t,n){return n(function(){nC(t)&&rC(e)})}function nC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nr(e,n)}catch{return!0}}function rC(e){var t=xs(e,1);t!==null&&Er(t,e,1,-1)}function $w(e){var t=Lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:e},t.queue=e,e=e.dispatch=$D.bind(null,dt,e),[t.memoizedState,e]}function Sc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sC(){return nr().memoizedState}function wd(e,t,n,r){var s=Lr();dt.flags|=e,s.memoizedState=Sc(1|t,n,void 0,r===void 0?null:r)}function oh(e,t,n,r){var s=nr();r=r===void 0?null:r;var i=void 0;if(Dt!==null){var o=Dt.memoizedState;if(i=o.destroy,r!==null&&Ey(r,o.deps)){s.memoizedState=Sc(t,n,i,r);return}}dt.flags|=e,s.memoizedState=Sc(1|t,n,i,r)}function Vw(e,t){return wd(8390656,8,e,t)}function Ty(e,t){return oh(2048,8,e,t)}function iC(e,t){return oh(4,2,e,t)}function oC(e,t){return oh(4,4,e,t)}function aC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lC(e,t,n){return n=n!=null?n.concat([e]):null,oh(4,4,aC.bind(null,t,e),n)}function Py(){}function cC(e,t){var n=nr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ey(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function uC(e,t){var n=nr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ey(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dC(e,t,n){return vo&21?(Nr(n,t)||(n=gj(),dt.lanes|=n,yo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jn=!0),e.memoizedState=n)}function LD(e,t){var n=Ye;Ye=n!==0&&4>n?n:4,e(!0);var r=Rm.transition;Rm.transition={};try{e(!1),t()}finally{Ye=n,Rm.transition=r}}function fC(){return nr().memoizedState}function FD(e,t,n){var r=ai(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hC(e))mC(t,n);else if(n=Gj(e,t,n,r),n!==null){var s=fn();Er(n,e,r,s),pC(n,t,r)}}function $D(e,t,n){var r=ai(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hC(e))mC(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Nr(a,o)){var c=t.interleaved;c===null?(s.next=s,by(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Gj(e,t,s,r),n!==null&&(s=fn(),Er(n,e,r,s),pC(n,t,r))}}function hC(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function mC(e,t){Ql=of=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ay(e,n)}}var af={readContext:tr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},VD={readContext:tr,useCallback:function(e,t){return Lr().memoizedState=[e,t===void 0?null:t],e},useContext:tr,useEffect:Vw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wd(4194308,4,aC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wd(4194308,4,e,t)},useInsertionEffect:function(e,t){return wd(4,2,e,t)},useMemo:function(e,t){var n=Lr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=FD.bind(null,dt,e),[r.memoizedState,e]},useRef:function(e){var t=Lr();return e={current:e},t.memoizedState=e},useState:$w,useDebugValue:Py,useDeferredValue:function(e){return Lr().memoizedState=e},useTransition:function(){var e=$w(!1),t=e[0];return e=LD.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=dt,s=Lr();if(ot){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),Bt===null)throw Error(G(349));vo&30||Jj(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Vw(tC.bind(null,r,i,e),[e]),r.flags|=2048,Sc(9,eC.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Lr(),t=Bt.identifierPrefix;if(ot){var n=hs,r=fs;n=(r&~(1<<32-Cr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=bc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ID++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},BD={readContext:tr,useCallback:cC,useContext:tr,useEffect:Ty,useImperativeHandle:lC,useInsertionEffect:iC,useLayoutEffect:oC,useMemo:uC,useReducer:Om,useRef:sC,useState:function(){return Om(_c)},useDebugValue:Py,useDeferredValue:function(e){var t=nr();return dC(t,Dt.memoizedState,e)},useTransition:function(){var e=Om(_c)[0],t=nr().memoizedState;return[e,t]},useMutableSource:Xj,useSyncExternalStore:Zj,useId:fC,unstable_isNewReconciler:!1},UD={readContext:tr,useCallback:cC,useContext:tr,useEffect:Ty,useImperativeHandle:lC,useInsertionEffect:iC,useLayoutEffect:oC,useMemo:uC,useReducer:Mm,useRef:sC,useState:function(){return Mm(_c)},useDebugValue:Py,useDeferredValue:function(e){var t=nr();return Dt===null?t.memoizedState=e:dC(t,Dt.memoizedState,e)},useTransition:function(){var e=Mm(_c)[0],t=nr().memoizedState;return[e,t]},useMutableSource:Xj,useSyncExternalStore:Zj,useId:fC,unstable_isNewReconciler:!1};function pr(e,t){if(e&&e.defaultProps){t=ft({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ft({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ah={isMounted:function(e){return(e=e._reactInternals)?To(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fn(),s=ai(e),i=gs(r,s);i.payload=t,n!=null&&(i.callback=n),t=ii(e,i,s),t!==null&&(Er(t,e,s,r),yd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fn(),s=ai(e),i=gs(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ii(e,i,s),t!==null&&(Er(t,e,s,r),yd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fn(),r=ai(e),s=gs(n,r);s.tag=2,t!=null&&(s.callback=t),t=ii(e,s,r),t!==null&&(Er(t,e,r,n),yd(t,e,r))}};function Bw(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!pc(n,r)||!pc(s,i):!0}function gC(e,t,n){var r=!1,s=fi,i=t.contextType;return typeof i=="object"&&i!==null?i=tr(i):(s=Nn(t)?po:sn.current,r=t.contextTypes,i=(r=r!=null)?La(e,s):fi),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ah,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Uw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ah.enqueueReplaceState(t,t.state,null)}function fg(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},_y(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=tr(i):(i=Nn(t)?po:sn.current,s.context=La(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(dg(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ah.enqueueReplaceState(s,s.state,null),rf(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ba(e,t){try{var n="",r=t;do n+=gM(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Dm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zD=typeof WeakMap=="function"?WeakMap:Map;function vC(e,t,n){n=gs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){cf||(cf=!0,Sg=r),hg(e,t)},n}function yC(e,t,n){n=gs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){hg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hg(e,t),typeof r!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function zw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zD;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=rI.bind(null,e,t,n),t.then(e,e))}function Ww(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hw(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gs(-1,1),t.tag=2,ii(n,t,1))),n.lanes|=1),e)}var WD=Es.ReactCurrentOwner,jn=!1;function ln(e,t,n,r){t.child=e===null?qj(t,null,n,r):$a(t,e.child,n,r)}function Kw(e,t,n,r,s){n=n.render;var i=t.ref;return xa(t,s),r=Ny(e,t,n,r,i,s),n=ky(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ws(e,t,s)):(ot&&n&&py(t),t.flags|=1,ln(e,t,r,s),t.child)}function qw(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Fy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,xC(e,t,i,r,s)):(e=jd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:pc,n(o,r)&&e.ref===t.ref)return ws(e,t,s)}return t.flags|=1,e=li(i,r),e.ref=t.ref,e.return=t,t.child=e}function xC(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(pc(i,r)&&e.ref===t.ref)if(jn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(jn=!0);else return t.lanes=e.lanes,ws(e,t,s)}return mg(e,t,n,r,s)}function wC(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ca,An),An|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Je(ca,An),An|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Je(ca,An),An|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Je(ca,An),An|=r;return ln(e,t,s,n),t.child}function bC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mg(e,t,n,r,s){var i=Nn(n)?po:sn.current;return i=La(t,i),xa(t,s),n=Ny(e,t,n,r,i,s),r=ky(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ws(e,t,s)):(ot&&r&&py(t),t.flags|=1,ln(e,t,n,s),t.child)}function Gw(e,t,n,r,s){if(Nn(n)){var i=!0;Zd(t)}else i=!1;if(xa(t,s),t.stateNode===null)bd(e,t),gC(t,n,r),fg(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=tr(u):(u=Nn(n)?po:sn.current,u=La(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Uw(t,o,r,u),Bs=!1;var h=t.memoizedState;o.state=h,rf(t,r,o,s),c=t.memoizedState,a!==r||h!==c||En.current||Bs?(typeof d=="function"&&(dg(t,n,d,r),c=t.memoizedState),(a=Bs||Bw(t,n,a,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Yj(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:pr(t.type,a),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=tr(c):(c=Nn(n)?po:sn.current,c=La(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==c)&&Uw(t,o,r,c),Bs=!1,h=t.memoizedState,o.state=h,rf(t,r,o,s);var x=t.memoizedState;a!==f||h!==x||En.current||Bs?(typeof m=="function"&&(dg(t,n,m,r),x=t.memoizedState),(u=Bs||Bw(t,n,u,r,h,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return pg(e,t,n,r,i,s)}function pg(e,t,n,r,s,i){bC(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ow(t,n,!1),ws(e,t,i);r=t.stateNode,WD.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=$a(t,e.child,null,i),t.child=$a(t,null,a,i)):ln(e,t,a,i),t.memoizedState=r.state,s&&Ow(t,n,!0),t.child}function _C(e){var t=e.stateNode;t.pendingContext?Rw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rw(e,t.context,!1),Sy(e,t.containerInfo)}function Yw(e,t,n,r,s){return Fa(),vy(s),t.flags|=256,ln(e,t,n,r),t.child}var gg={dehydrated:null,treeContext:null,retryLane:0};function vg(e){return{baseLanes:e,cachePool:null,transitions:null}}function SC(e,t,n){var r=t.pendingProps,s=ct.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Je(ct,s&1),e===null)return cg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=uh(o,r,0,null),e=fo(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=vg(n),t.memoizedState=gg,e):Ay(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return HD(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=li(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=li(a,i):(i=fo(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?vg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=gg,r}return i=e.child,e=i.sibling,r=li(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ay(e,t){return t=uh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vu(e,t,n,r){return r!==null&&vy(r),$a(t,e.child,null,n),e=Ay(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function HD(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Dm(Error(G(422))),Vu(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=uh({mode:"visible",children:r.children},s,0,null),i=fo(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&$a(t,e.child,null,o),t.child.memoizedState=vg(o),t.memoizedState=gg,i);if(!(t.mode&1))return Vu(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(G(419)),r=Dm(i,r,void 0),Vu(e,t,o,r)}if(a=(o&e.childLanes)!==0,jn||a){if(r=Bt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xs(e,s),Er(r,e,s,-1))}return Ly(),r=Dm(Error(G(421))),Vu(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=sI.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Dn=si(s.nextSibling),In=t,ot=!0,_r=null,e!==null&&(Kn[qn++]=fs,Kn[qn++]=hs,Kn[qn++]=go,fs=e.id,hs=e.overflow,go=t),t=Ay(t,r.children),t.flags|=4096,t)}function Qw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ug(e.return,t,n)}function Im(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jC(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ln(e,t,r.children,n),r=ct.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qw(e,n,t);else if(e.tag===19)Qw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Je(ct,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&sf(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Im(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&sf(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Im(t,!0,n,null,i);break;case"together":Im(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ws(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=li(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=li(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function KD(e,t,n){switch(t.tag){case 3:_C(t),Fa();break;case 5:Qj(t);break;case 1:Nn(t.type)&&Zd(t);break;case 4:Sy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Je(tf,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Je(ct,ct.current&1),t.flags|=128,null):n&t.child.childLanes?SC(e,t,n):(Je(ct,ct.current&1),e=ws(e,t,n),e!==null?e.sibling:null);Je(ct,ct.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jC(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Je(ct,ct.current),r)break;return null;case 22:case 23:return t.lanes=0,wC(e,t,n)}return ws(e,t,n)}var CC,yg,EC,NC;CC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yg=function(){};EC=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Zi(qr.current);var i=null;switch(n){case"input":s=Vp(e,s),r=Vp(e,r),i=[];break;case"select":s=ft({},s,{value:void 0}),r=ft({},r,{value:void 0}),i=[];break;case"textarea":s=zp(e,s),r=zp(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Qd)}Hp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(lc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(lc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&nt("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};NC=function(e,t,n,r){n!==r&&(t.flags|=4)};function jl(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qD(e,t,n){var r=t.pendingProps;switch(gy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(t),null;case 1:return Nn(t.type)&&Xd(),Xt(t),null;case 3:return r=t.stateNode,Va(),rt(En),rt(sn),Cy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_r!==null&&(Eg(_r),_r=null))),yg(e,t),Xt(t),null;case 5:jy(t);var s=Zi(wc.current);if(n=t.type,e!==null&&t.stateNode!=null)EC(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return Xt(t),null}if(e=Zi(qr.current),Fu(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ur]=t,r[yc]=i,e=(t.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(s=0;s<Ll.length;s++)nt(Ll[s],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":iw(r,i),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},nt("invalid",r);break;case"textarea":aw(r,i),nt("invalid",r)}Hp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Lu(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Lu(r.textContent,a,e),s=["children",""+a]):lc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nt("scroll",r)}switch(n){case"input":Tu(r),ow(r,i,!0);break;case"textarea":Tu(r),lw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Qd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tj(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ur]=t,e[yc]=r,CC(e,t,!1,!1),t.stateNode=e;e:{switch(o=Kp(n,r),n){case"dialog":nt("cancel",e),nt("close",e),s=r;break;case"iframe":case"object":case"embed":nt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ll.length;s++)nt(Ll[s],e);s=r;break;case"source":nt("error",e),s=r;break;case"img":case"image":case"link":nt("error",e),nt("load",e),s=r;break;case"details":nt("toggle",e),s=r;break;case"input":iw(e,r),s=Vp(e,r),nt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ft({},r,{value:void 0}),nt("invalid",e);break;case"textarea":aw(e,r),s=zp(e,r),nt("invalid",e);break;default:s=r}Hp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?sj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nj(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&cc(e,c):typeof c=="number"&&cc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(lc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&nt("scroll",e):c!=null&&ty(e,i,c,o))}switch(n){case"input":Tu(e),ow(e,r,!1);break;case"textarea":Tu(e),lw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+di(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?pa(e,!!r.multiple,i,!1):r.defaultValue!=null&&pa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Qd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xt(t),null;case 6:if(e&&t.stateNode!=null)NC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=Zi(wc.current),Zi(qr.current),Fu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ur]=t,(i=r.nodeValue!==n)&&(e=In,e!==null))switch(e.tag){case 3:Lu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lu(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ur]=t,t.stateNode=r}return Xt(t),null;case 13:if(rt(ct),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&Dn!==null&&t.mode&1&&!(t.flags&128))Hj(),Fa(),t.flags|=98560,i=!1;else if(i=Fu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Ur]=t}else Fa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xt(t),i=!1}else _r!==null&&(Eg(_r),_r=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ct.current&1?Ft===0&&(Ft=3):Ly())),t.updateQueue!==null&&(t.flags|=4),Xt(t),null);case 4:return Va(),yg(e,t),e===null&&gc(t.stateNode.containerInfo),Xt(t),null;case 10:return wy(t.type._context),Xt(t),null;case 17:return Nn(t.type)&&Xd(),Xt(t),null;case 19:if(rt(ct),i=t.memoizedState,i===null)return Xt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)jl(i,!1);else{if(Ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sf(e),o!==null){for(t.flags|=128,jl(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Je(ct,ct.current&1|2),t.child}e=e.sibling}i.tail!==null&&wt()>Ua&&(t.flags|=128,r=!0,jl(i,!1),t.lanes=4194304)}else{if(!r)if(e=sf(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ot)return Xt(t),null}else 2*wt()-i.renderingStartTime>Ua&&n!==1073741824&&(t.flags|=128,r=!0,jl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wt(),t.sibling=null,n=ct.current,Je(ct,r?n&1|2:n&1),t):(Xt(t),null);case 22:case 23:return Iy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?An&1073741824&&(Xt(t),t.subtreeFlags&6&&(t.flags|=8192)):Xt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function GD(e,t){switch(gy(t),t.tag){case 1:return Nn(t.type)&&Xd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Va(),rt(En),rt(sn),Cy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jy(t),null;case 13:if(rt(ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rt(ct),null;case 4:return Va(),null;case 10:return wy(t.type._context),null;case 22:case 23:return Iy(),null;case 24:return null;default:return null}}var Bu=!1,Jt=!1,YD=typeof WeakSet=="function"?WeakSet:Set,ae=null;function la(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(e,t,r)}else n.current=null}function xg(e,t,n){try{n()}catch(r){gt(e,t,r)}}var Xw=!1;function QD(e,t){if(ng=qd,e=Rj(),my(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rg={focusedElem:e,selectionRange:n},qd=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,y=x.memoizedState,b=t.stateNode,g=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:pr(t.type,v),y);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(_){gt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return x=Xw,Xw=!1,x}function Xl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&xg(t,n,i)}s=s.next}while(s!==r)}}function lh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kC(e){var t=e.alternate;t!==null&&(e.alternate=null,kC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ur],delete t[yc],delete t[og],delete t[RD],delete t[OD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function TC(e){return e.tag===5||e.tag===3||e.tag===4}function Zw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||TC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qd));else if(r!==4&&(e=e.child,e!==null))for(bg(e,t,n),e=e.sibling;e!==null;)bg(e,t,n),e=e.sibling}function _g(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_g(e,t,n),e=e.sibling;e!==null;)_g(e,t,n),e=e.sibling}var Ht=null,wr=!1;function Os(e,t,n){for(n=n.child;n!==null;)PC(e,t,n),n=n.sibling}function PC(e,t,n){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(eh,n)}catch{}switch(n.tag){case 5:Jt||la(n,t);case 6:var r=Ht,s=wr;Ht=null,Os(e,t,n),Ht=r,wr=s,Ht!==null&&(wr?(e=Ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(wr?(e=Ht,n=n.stateNode,e.nodeType===8?Tm(e.parentNode,n):e.nodeType===1&&Tm(e,n),hc(e)):Tm(Ht,n.stateNode));break;case 4:r=Ht,s=wr,Ht=n.stateNode.containerInfo,wr=!0,Os(e,t,n),Ht=r,wr=s;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xg(n,t,o),s=s.next}while(s!==r)}Os(e,t,n);break;case 1:if(!Jt&&(la(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,t,a)}Os(e,t,n);break;case 21:Os(e,t,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,Os(e,t,n),Jt=r):Os(e,t,n);break;default:Os(e,t,n)}}function Jw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new YD),t.forEach(function(r){var s=iI.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ht=a.stateNode,wr=!1;break e;case 3:Ht=a.stateNode.containerInfo,wr=!0;break e;case 4:Ht=a.stateNode.containerInfo,wr=!0;break e}a=a.return}if(Ht===null)throw Error(G(160));PC(i,o,s),Ht=null,wr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){gt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)AC(t,e),t=t.sibling}function AC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cr(t,e),Ir(e),r&4){try{Xl(3,e,e.return),lh(3,e)}catch(v){gt(e,e.return,v)}try{Xl(5,e,e.return)}catch(v){gt(e,e.return,v)}}break;case 1:cr(t,e),Ir(e),r&512&&n!==null&&la(n,n.return);break;case 5:if(cr(t,e),Ir(e),r&512&&n!==null&&la(n,n.return),e.flags&32){var s=e.stateNode;try{cc(s,"")}catch(v){gt(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&J1(s,i),Kp(a,o);var u=Kp(a,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?sj(s,f):d==="dangerouslySetInnerHTML"?nj(s,f):d==="children"?cc(s,f):ty(s,d,f,u)}switch(a){case"input":Bp(s,i);break;case"textarea":ej(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?pa(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?pa(s,!!i.multiple,i.defaultValue,!0):pa(s,!!i.multiple,i.multiple?[]:"",!1))}s[yc]=i}catch(v){gt(e,e.return,v)}}break;case 6:if(cr(t,e),Ir(e),r&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){gt(e,e.return,v)}}break;case 3:if(cr(t,e),Ir(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hc(t.containerInfo)}catch(v){gt(e,e.return,v)}break;case 4:cr(t,e),Ir(e);break;case 13:cr(t,e),Ir(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(My=wt())),r&4&&Jw(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Jt=(u=Jt)||d,cr(t,e),Jt=u):cr(t,e),Ir(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ae=e,d=e.child;d!==null;){for(f=ae=d;ae!==null;){switch(h=ae,m=h.child,h.tag){case 0:case 11:case 14:case 15:Xl(4,h,h.return);break;case 1:la(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){gt(r,n,v)}}break;case 5:la(h,h.return);break;case 22:if(h.memoizedState!==null){tb(f);continue}}m!==null?(m.return=h,ae=m):tb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=rj("display",o))}catch(v){gt(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){gt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:cr(t,e),Ir(e),r&4&&Jw(e);break;case 21:break;default:cr(t,e),Ir(e)}}function Ir(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(TC(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(cc(s,""),r.flags&=-33);var i=Zw(e);_g(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Zw(e);bg(e,a,o);break;default:throw Error(G(161))}}catch(c){gt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function XD(e,t,n){ae=e,RC(e)}function RC(e,t,n){for(var r=(e.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Bu;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Jt;a=Bu;var u=Jt;if(Bu=o,(Jt=c)&&!u)for(ae=s;ae!==null;)o=ae,c=o.child,o.tag===22&&o.memoizedState!==null?nb(s):c!==null?(c.return=o,ae=c):nb(s);for(;i!==null;)ae=i,RC(i),i=i.sibling;ae=s,Bu=a,Jt=u}eb(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):eb(e)}}function eb(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jt||lh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:pr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Fw(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Fw(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&hc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Jt||t.flags&512&&wg(t)}catch(h){gt(t,t.return,h)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function tb(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function nb(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lh(4,t)}catch(c){gt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){gt(t,s,c)}}var i=t.return;try{wg(t)}catch(c){gt(t,i,c)}break;case 5:var o=t.return;try{wg(t)}catch(c){gt(t,o,c)}}}catch(c){gt(t,t.return,c)}if(t===e){ae=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ae=a;break}ae=t.return}}var ZD=Math.ceil,lf=Es.ReactCurrentDispatcher,Ry=Es.ReactCurrentOwner,Zn=Es.ReactCurrentBatchConfig,Be=0,Bt=null,At=null,qt=0,An=0,ca=_i(0),Ft=0,jc=null,yo=0,ch=0,Oy=0,Zl=null,bn=null,My=0,Ua=1/0,ls=null,cf=!1,Sg=null,oi=null,Uu=!1,Js=null,uf=0,Jl=0,jg=null,_d=-1,Sd=0;function fn(){return Be&6?wt():_d!==-1?_d:_d=wt()}function ai(e){return e.mode&1?Be&2&&qt!==0?qt&-qt:DD.transition!==null?(Sd===0&&(Sd=gj()),Sd):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:Sj(e.type)),e):1}function Er(e,t,n,r){if(50<Jl)throw Jl=0,jg=null,Error(G(185));Yc(e,n,r),(!(Be&2)||e!==Bt)&&(e===Bt&&(!(Be&2)&&(ch|=n),Ft===4&&Ws(e,qt)),kn(e,r),n===1&&Be===0&&!(t.mode&1)&&(Ua=wt()+500,ih&&Si()))}function kn(e,t){var n=e.callbackNode;DM(e,t);var r=Kd(e,e===Bt?qt:0);if(r===0)n!==null&&dw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&dw(n),t===1)e.tag===0?MD(rb.bind(null,e)):Uj(rb.bind(null,e)),PD(function(){!(Be&6)&&Si()}),n=null;else{switch(vj(r)){case 1:n=oy;break;case 4:n=mj;break;case 16:n=Hd;break;case 536870912:n=pj;break;default:n=Hd}n=VC(n,OC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function OC(e,t){if(_d=-1,Sd=0,Be&6)throw Error(G(327));var n=e.callbackNode;if(wa()&&e.callbackNode!==n)return null;var r=Kd(e,e===Bt?qt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=df(e,r);else{t=r;var s=Be;Be|=2;var i=DC();(Bt!==e||qt!==t)&&(ls=null,Ua=wt()+500,uo(e,t));do try{tI();break}catch(a){MC(e,a)}while(!0);xy(),lf.current=i,Be=s,At!==null?t=0:(Bt=null,qt=0,t=Ft)}if(t!==0){if(t===2&&(s=Xp(e),s!==0&&(r=s,t=Cg(e,s))),t===1)throw n=jc,uo(e,0),Ws(e,r),kn(e,wt()),n;if(t===6)Ws(e,r);else{if(s=e.current.alternate,!(r&30)&&!JD(s)&&(t=df(e,r),t===2&&(i=Xp(e),i!==0&&(r=i,t=Cg(e,i))),t===1))throw n=jc,uo(e,0),Ws(e,r),kn(e,wt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:Bi(e,bn,ls);break;case 3:if(Ws(e,r),(r&130023424)===r&&(t=My+500-wt(),10<t)){if(Kd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){fn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ig(Bi.bind(null,e,bn,ls),t);break}Bi(e,bn,ls);break;case 4:if(Ws(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Cr(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZD(r/1960))-r,10<r){e.timeoutHandle=ig(Bi.bind(null,e,bn,ls),r);break}Bi(e,bn,ls);break;case 5:Bi(e,bn,ls);break;default:throw Error(G(329))}}}return kn(e,wt()),e.callbackNode===n?OC.bind(null,e):null}function Cg(e,t){var n=Zl;return e.current.memoizedState.isDehydrated&&(uo(e,t).flags|=256),e=df(e,t),e!==2&&(t=bn,bn=n,t!==null&&Eg(t)),e}function Eg(e){bn===null?bn=e:bn.push.apply(bn,e)}function JD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ws(e,t){for(t&=~Oy,t&=~ch,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Cr(t),r=1<<n;e[n]=-1,t&=~r}}function rb(e){if(Be&6)throw Error(G(327));wa();var t=Kd(e,0);if(!(t&1))return kn(e,wt()),null;var n=df(e,t);if(e.tag!==0&&n===2){var r=Xp(e);r!==0&&(t=r,n=Cg(e,r))}if(n===1)throw n=jc,uo(e,0),Ws(e,t),kn(e,wt()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bi(e,bn,ls),kn(e,wt()),null}function Dy(e,t){var n=Be;Be|=1;try{return e(t)}finally{Be=n,Be===0&&(Ua=wt()+500,ih&&Si())}}function xo(e){Js!==null&&Js.tag===0&&!(Be&6)&&wa();var t=Be;Be|=1;var n=Zn.transition,r=Ye;try{if(Zn.transition=null,Ye=1,e)return e()}finally{Ye=r,Zn.transition=n,Be=t,!(Be&6)&&Si()}}function Iy(){An=ca.current,rt(ca)}function uo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,TD(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(gy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xd();break;case 3:Va(),rt(En),rt(sn),Cy();break;case 5:jy(r);break;case 4:Va();break;case 13:rt(ct);break;case 19:rt(ct);break;case 10:wy(r.type._context);break;case 22:case 23:Iy()}n=n.return}if(Bt=e,At=e=li(e.current,null),qt=An=t,Ft=0,jc=null,Oy=ch=yo=0,bn=Zl=null,Xi!==null){for(t=0;t<Xi.length;t++)if(n=Xi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Xi=null}return e}function MC(e,t){do{var n=At;try{if(xy(),xd.current=af,of){for(var r=dt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}of=!1}if(vo=0,$t=Dt=dt=null,Ql=!1,bc=0,Ry.current=null,n===null||n.return===null){Ft=1,jc=t,At=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=qt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ww(o);if(m!==null){m.flags&=-257,Hw(m,o,a,i,t),m.mode&1&&zw(i,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){zw(i,u,t),Ly();break e}c=Error(G(426))}}else if(ot&&a.mode&1){var y=Ww(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Hw(y,o,a,i,t),vy(Ba(c,a));break e}}i=c=Ba(c,a),Ft!==4&&(Ft=2),Zl===null?Zl=[i]:Zl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=vC(i,c,t);Lw(i,b);break e;case 1:a=c;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(oi===null||!oi.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=yC(i,a,t);Lw(i,_);break e}}i=i.return}while(i!==null)}LC(n)}catch(S){t=S,At===n&&n!==null&&(At=n=n.return);continue}break}while(!0)}function DC(){var e=lf.current;return lf.current=af,e===null?af:e}function Ly(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Bt===null||!(yo&268435455)&&!(ch&268435455)||Ws(Bt,qt)}function df(e,t){var n=Be;Be|=2;var r=DC();(Bt!==e||qt!==t)&&(ls=null,uo(e,t));do try{eI();break}catch(s){MC(e,s)}while(!0);if(xy(),Be=n,lf.current=r,At!==null)throw Error(G(261));return Bt=null,qt=0,Ft}function eI(){for(;At!==null;)IC(At)}function tI(){for(;At!==null&&!EM();)IC(At)}function IC(e){var t=$C(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?LC(e):At=t,Ry.current=null}function LC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=GD(n,t),n!==null){n.flags&=32767,At=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ft=6,At=null;return}}else if(n=qD(n,t,An),n!==null){At=n;return}if(t=t.sibling,t!==null){At=t;return}At=t=e}while(t!==null);Ft===0&&(Ft=5)}function Bi(e,t,n){var r=Ye,s=Zn.transition;try{Zn.transition=null,Ye=1,nI(e,t,n,r)}finally{Zn.transition=s,Ye=r}return null}function nI(e,t,n,r){do wa();while(Js!==null);if(Be&6)throw Error(G(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(IM(e,i),e===Bt&&(At=Bt=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uu||(Uu=!0,VC(Hd,function(){return wa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Zn.transition,Zn.transition=null;var o=Ye;Ye=1;var a=Be;Be|=4,Ry.current=null,QD(e,n),AC(n,e),_D(rg),qd=!!ng,rg=ng=null,e.current=n,XD(n),NM(),Be=a,Ye=o,Zn.transition=i}else e.current=n;if(Uu&&(Uu=!1,Js=e,uf=s),i=e.pendingLanes,i===0&&(oi=null),PM(n.stateNode),kn(e,wt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(cf)throw cf=!1,e=Sg,Sg=null,e;return uf&1&&e.tag!==0&&wa(),i=e.pendingLanes,i&1?e===jg?Jl++:(Jl=0,jg=e):Jl=0,Si(),null}function wa(){if(Js!==null){var e=vj(uf),t=Zn.transition,n=Ye;try{if(Zn.transition=null,Ye=16>e?16:e,Js===null)var r=!1;else{if(e=Js,Js=null,uf=0,Be&6)throw Error(G(331));var s=Be;for(Be|=4,ae=e.current;ae!==null;){var i=ae,o=i.child;if(ae.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:Xl(8,d,i)}var f=d.child;if(f!==null)f.return=d,ae=f;else for(;ae!==null;){d=ae;var h=d.sibling,m=d.return;if(kC(d),d===u){ae=null;break}if(h!==null){h.return=m,ae=h;break}ae=m}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ae=o;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xl(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ae=b;break e}ae=i.return}}var g=e.current;for(ae=g;ae!==null;){o=ae;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ae=w;else e:for(o=g;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lh(9,a)}}catch(S){gt(a,a.return,S)}if(a===o){ae=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ae=_;break e}ae=a.return}}if(Be=s,Si(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(eh,e)}catch{}r=!0}return r}finally{Ye=n,Zn.transition=t}}return!1}function sb(e,t,n){t=Ba(n,t),t=vC(e,t,1),e=ii(e,t,1),t=fn(),e!==null&&(Yc(e,1,t),kn(e,t))}function gt(e,t,n){if(e.tag===3)sb(e,e,n);else for(;t!==null;){if(t.tag===3){sb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oi===null||!oi.has(r))){e=Ba(n,e),e=yC(t,e,1),t=ii(t,e,1),e=fn(),t!==null&&(Yc(t,1,e),kn(t,e));break}}t=t.return}}function rI(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=fn(),e.pingedLanes|=e.suspendedLanes&n,Bt===e&&(qt&n)===n&&(Ft===4||Ft===3&&(qt&130023424)===qt&&500>wt()-My?uo(e,0):Oy|=n),kn(e,t)}function FC(e,t){t===0&&(e.mode&1?(t=Ru,Ru<<=1,!(Ru&130023424)&&(Ru=4194304)):t=1);var n=fn();e=xs(e,t),e!==null&&(Yc(e,t,n),kn(e,n))}function sI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),FC(e,n)}function iI(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),FC(e,n)}var $C;$C=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||En.current)jn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return jn=!1,KD(e,t,n);jn=!!(e.flags&131072)}else jn=!1,ot&&t.flags&1048576&&zj(t,ef,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bd(e,t),e=t.pendingProps;var s=La(t,sn.current);xa(t,n),s=Ny(null,t,r,e,s,n);var i=ky();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nn(r)?(i=!0,Zd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_y(t),s.updater=ah,t.stateNode=s,s._reactInternals=t,fg(t,r,e,n),t=pg(null,t,r,!0,i,n)):(t.tag=0,ot&&i&&py(t),ln(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=aI(r),e=pr(r,e),s){case 0:t=mg(null,t,r,e,n);break e;case 1:t=Gw(null,t,r,e,n);break e;case 11:t=Kw(null,t,r,e,n);break e;case 14:t=qw(null,t,r,pr(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pr(r,s),mg(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pr(r,s),Gw(e,t,r,s,n);case 3:e:{if(_C(t),e===null)throw Error(G(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Yj(e,t),rf(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ba(Error(G(423)),t),t=Yw(e,t,r,n,s);break e}else if(r!==s){s=Ba(Error(G(424)),t),t=Yw(e,t,r,n,s);break e}else for(Dn=si(t.stateNode.containerInfo.firstChild),In=t,ot=!0,_r=null,n=qj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fa(),r===s){t=ws(e,t,n);break e}ln(e,t,r,n)}t=t.child}return t;case 5:return Qj(t),e===null&&cg(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,sg(r,s)?o=null:i!==null&&sg(r,i)&&(t.flags|=32),bC(e,t),ln(e,t,o,n),t.child;case 6:return e===null&&cg(t),null;case 13:return SC(e,t,n);case 4:return Sy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$a(t,null,r,n):ln(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pr(r,s),Kw(e,t,r,s,n);case 7:return ln(e,t,t.pendingProps,n),t.child;case 8:return ln(e,t,t.pendingProps.children,n),t.child;case 12:return ln(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Je(tf,r._currentValue),r._currentValue=o,i!==null)if(Nr(i.value,o)){if(i.children===s.children&&!En.current){t=ws(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=gs(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ug(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ug(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ln(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,xa(t,n),s=tr(s),r=r(s),t.flags|=1,ln(e,t,r,n),t.child;case 14:return r=t.type,s=pr(r,t.pendingProps),s=pr(r.type,s),qw(e,t,r,s,n);case 15:return xC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pr(r,s),bd(e,t),t.tag=1,Nn(r)?(e=!0,Zd(t)):e=!1,xa(t,n),gC(t,r,s),fg(t,r,s,n),pg(null,t,r,!0,e,n);case 19:return jC(e,t,n);case 22:return wC(e,t,n)}throw Error(G(156,t.tag))};function VC(e,t){return hj(e,t)}function oI(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,t,n,r){return new oI(e,t,n,r)}function Fy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aI(e){if(typeof e=="function")return Fy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ry)return 11;if(e===sy)return 14}return 2}function li(e,t){var n=e.alternate;return n===null?(n=Qn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jd(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Fy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Jo:return fo(n.children,s,i,t);case ny:o=8,s|=8;break;case Ip:return e=Qn(12,n,t,s|2),e.elementType=Ip,e.lanes=i,e;case Lp:return e=Qn(13,n,t,s),e.elementType=Lp,e.lanes=i,e;case Fp:return e=Qn(19,n,t,s),e.elementType=Fp,e.lanes=i,e;case Q1:return uh(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G1:o=10;break e;case Y1:o=9;break e;case ry:o=11;break e;case sy:o=14;break e;case Vs:o=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Qn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function fo(e,t,n,r){return e=Qn(7,e,r,t),e.lanes=n,e}function uh(e,t,n,r){return e=Qn(22,e,r,t),e.elementType=Q1,e.lanes=n,e.stateNode={isHidden:!1},e}function Lm(e,t,n){return e=Qn(6,e,null,t),e.lanes=n,e}function Fm(e,t,n){return t=Qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lI(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ym(0),this.expirationTimes=ym(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ym(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $y(e,t,n,r,s,i,o,a,c){return e=new lI(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_y(i),e}function cI(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function BC(e){if(!e)return fi;e=e._reactInternals;e:{if(To(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(Nn(n))return Bj(e,n,t)}return t}function UC(e,t,n,r,s,i,o,a,c){return e=$y(n,r,!0,e,s,i,o,a,c),e.context=BC(null),n=e.current,r=fn(),s=ai(n),i=gs(r,s),i.callback=t??null,ii(n,i,s),e.current.lanes=s,Yc(e,s,r),kn(e,r),e}function dh(e,t,n,r){var s=t.current,i=fn(),o=ai(s);return n=BC(n),t.context===null?t.context=n:t.pendingContext=n,t=gs(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ii(s,t,o),e!==null&&(Er(e,s,o,i),yd(e,s,o)),o}function ff(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ib(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vy(e,t){ib(e,t),(e=e.alternate)&&ib(e,t)}function uI(){return null}var zC=typeof reportError=="function"?reportError:function(e){console.error(e)};function By(e){this._internalRoot=e}fh.prototype.render=By.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));dh(e,t,null,null)};fh.prototype.unmount=By.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xo(function(){dh(null,e,null,null)}),t[ys]=null}};function fh(e){this._internalRoot=e}fh.prototype.unstable_scheduleHydration=function(e){if(e){var t=wj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zs.length&&t!==0&&t<zs[n].priority;n++);zs.splice(n,0,e),n===0&&_j(e)}};function Uy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ob(){}function dI(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ff(o);i.call(u)}}var o=UC(t,r,e,0,null,!1,!1,"",ob);return e._reactRootContainer=o,e[ys]=o.current,gc(e.nodeType===8?e.parentNode:e),xo(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ff(c);a.call(u)}}var c=$y(e,0,!1,null,null,!1,!1,"",ob);return e._reactRootContainer=c,e[ys]=c.current,gc(e.nodeType===8?e.parentNode:e),xo(function(){dh(t,c,n,r)}),c}function mh(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=ff(o);a.call(c)}}dh(t,o,e,s)}else o=dI(n,t,e,s,r);return ff(o)}yj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Il(t.pendingLanes);n!==0&&(ay(t,n|1),kn(t,wt()),!(Be&6)&&(Ua=wt()+500,Si()))}break;case 13:xo(function(){var r=xs(e,1);if(r!==null){var s=fn();Er(r,e,1,s)}}),Vy(e,1)}};ly=function(e){if(e.tag===13){var t=xs(e,134217728);if(t!==null){var n=fn();Er(t,e,134217728,n)}Vy(e,134217728)}};xj=function(e){if(e.tag===13){var t=ai(e),n=xs(e,t);if(n!==null){var r=fn();Er(n,e,t,r)}Vy(e,t)}};wj=function(){return Ye};bj=function(e,t){var n=Ye;try{return Ye=e,t()}finally{Ye=n}};Gp=function(e,t,n){switch(t){case"input":if(Bp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=sh(r);if(!s)throw Error(G(90));Z1(r),Bp(r,s)}}}break;case"textarea":ej(e,n);break;case"select":t=n.value,t!=null&&pa(e,!!n.multiple,t,!1)}};aj=Dy;lj=xo;var fI={usingClientEntryPoint:!1,Events:[Xc,ra,sh,ij,oj,Dy]},Cl={findFiberByHostInstance:Qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hI={bundleType:Cl.bundleType,version:Cl.version,rendererPackageName:Cl.rendererPackageName,rendererConfig:Cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dj(e),e===null?null:e.stateNode},findFiberByHostInstance:Cl.findFiberByHostInstance||uI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{eh=zu.inject(hI),Kr=zu}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fI;Bn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uy(t))throw Error(G(200));return cI(e,t,null,n)};Bn.createRoot=function(e,t){if(!Uy(e))throw Error(G(299));var n=!1,r="",s=zC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$y(e,1,!1,null,null,n,!1,r,s),e[ys]=t.current,gc(e.nodeType===8?e.parentNode:e),new By(t)};Bn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=dj(t),e=e===null?null:e.stateNode,e};Bn.flushSync=function(e){return xo(e)};Bn.hydrate=function(e,t,n){if(!hh(t))throw Error(G(200));return mh(null,e,t,!0,n)};Bn.hydrateRoot=function(e,t,n){if(!Uy(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=zC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=UC(t,null,e,1,n??null,s,!1,i,o),e[ys]=t.current,gc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new fh(t)};Bn.render=function(e,t,n){if(!hh(t))throw Error(G(200));return mh(null,e,t,!1,n)};Bn.unmountComponentAtNode=function(e){if(!hh(e))throw Error(G(40));return e._reactRootContainer?(xo(function(){mh(null,null,e,!1,function(){e._reactRootContainer=null,e[ys]=null})}),!0):!1};Bn.unstable_batchedUpdates=Dy;Bn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hh(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return mh(e,t,n,!1,r)};Bn.version="18.3.1-next-f1338f8080-20240426";function WC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WC)}catch(e){console.error(e)}}WC(),W1.exports=Bn;var Po=W1.exports;const HC=qv(Po);var KC,ab=Po;KC=ab.createRoot,ab.hydrateRoot;const mI=1,pI=1e6;let $m=0;function gI(){return $m=($m+1)%Number.MAX_SAFE_INTEGER,$m.toString()}const Vm=new Map,lb=e=>{if(Vm.has(e))return;const t=setTimeout(()=>{Vm.delete(e),ec({type:"REMOVE_TOAST",toastId:e})},pI);Vm.set(e,t)},vI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,mI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?lb(n):e.toasts.forEach(r=>{lb(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Cd=[];let Ed={toasts:[]};function ec(e){Ed=vI(Ed,e),Cd.forEach(t=>{t(Ed)})}function yI({...e}){const t=gI(),n=s=>ec({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>ec({type:"DISMISS_TOAST",toastId:t});return ec({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function qC(){const[e,t]=p.useState(Ed);return p.useEffect(()=>(Cd.push(t),()=>{const n=Cd.indexOf(t);n>-1&&Cd.splice(n,1)}),[e]),{...e,toast:yI,dismiss:n=>ec({type:"DISMISS_TOAST",toastId:n})}}function Q(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function cb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ph(...e){return t=>{let n=!1;const r=e.map(s=>{const i=cb(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():cb(e[s],null)}}}}function Ae(...e){return p.useCallback(ph(...e),e)}function xI(e,t){const n=p.createContext(t),r=i=>{const{children:o,...a}=i,c=p.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function zn(e,t=[]){let n=[];function r(i,o){const a=p.createContext(o),c=n.length;n=[...n,o];const u=f=>{var b;const{scope:h,children:m,...x}=f,v=((b=h==null?void 0:h[e])==null?void 0:b[c])||a,y=p.useMemo(()=>x,Object.values(x));return l.jsx(v.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[c])||a,x=p.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,wI(s,...t)]}function wI(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function hi(e){const t=bI(e),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,a=p.Children.toArray(i),c=a.find(_I);if(c){const u=c.props.children,d=a.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return l.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var GC=hi("Slot");function bI(e){const t=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=jI(s),a=SI(i,s.props);return s.type!==p.Fragment&&(a.ref=r?ph(r,o):o),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YC=Symbol("radix.slottable");function QC(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=YC,t}function _I(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YC}function SI(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function jI(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function gh(e){const t=e+"CollectionProvider",[n,r]=zn(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:b}=v,g=F.useRef(null),w=F.useRef(new Map).current;return l.jsx(s,{scope:y,itemMap:w,collectionRef:g,children:b})};o.displayName=t;const a=e+"CollectionSlot",c=hi(a),u=F.forwardRef((v,y)=>{const{scope:b,children:g}=v,w=i(a,b),_=Ae(y,w.collectionRef);return l.jsx(c,{ref:_,children:g})});u.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=hi(d),m=F.forwardRef((v,y)=>{const{scope:b,children:g,...w}=v,_=F.useRef(null),S=Ae(y,_),C=i(d,b);return F.useEffect(()=>(C.itemMap.set(_,{ref:_,...w}),()=>void C.itemMap.delete(_))),l.jsx(h,{[f]:"",ref:S,children:g})});m.displayName=d;function x(v){const y=i(e+"CollectionConsumer",v);return F.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((C,j)=>w.indexOf(C.ref.current)-w.indexOf(j.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},x,r]}var CI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xe=CI.reduce((e,t)=>{const n=hi(`Primitive.${t}`),r=p.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function zy(e,t){e&&Po.flushSync(()=>e.dispatchEvent(t))}function bt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function EI(e,t=globalThis==null?void 0:globalThis.document){const n=bt(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var NI="DismissableLayer",Ng="dismissableLayer.update",kI="dismissableLayer.pointerDownOutside",TI="dismissableLayer.focusOutside",ub,XC=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ao=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=e,u=p.useContext(XC),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),x=Ae(t,j=>f(j)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(y),g=d?v.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=b,S=AI(j=>{const E=j.target,k=[...u.branches].some(R=>R.contains(E));!_||k||(s==null||s(j),o==null||o(j),j.defaultPrevented||a==null||a())},h),C=RI(j=>{const E=j.target;[...u.branches].some(R=>R.contains(E))||(i==null||i(j),o==null||o(j),j.defaultPrevented||a==null||a())},h);return EI(j=>{g===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},h),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ub=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),db(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ub)}},[d,h,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),db())},[d,u]),p.useEffect(()=>{const j=()=>m({});return document.addEventListener(Ng,j),()=>document.removeEventListener(Ng,j)},[]),l.jsx(xe.div,{...c,ref:x,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Q(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Q(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Q(e.onPointerDownCapture,S.onPointerDownCapture)})});Ao.displayName=NI;var PI="DismissableLayerBranch",ZC=p.forwardRef((e,t)=>{const n=p.useContext(XC),r=p.useRef(null),s=Ae(t,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(xe.div,{...e,ref:s})});ZC.displayName=PI;function AI(e,t=globalThis==null?void 0:globalThis.document){const n=bt(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){JC(kI,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function RI(e,t=globalThis==null?void 0:globalThis.document){const n=bt(e),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&JC(TI,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function db(){const e=new CustomEvent(Ng);document.dispatchEvent(e)}function JC(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?zy(s,i):s.dispatchEvent(i)}var OI=Ao,MI=ZC,Ut=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},DI="Portal",ol=p.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=p.useState(!1);Ut(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?HC.createPortal(l.jsx(xe.div,{...r,ref:t}),o):null});ol.displayName=DI;function II(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var on=e=>{const{present:t,children:n}=e,r=LI(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Ae(r.ref,FI(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};on.displayName="Presence";function LI(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[a,c]=II(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Wu(r.current);i.current=a==="mounted"?u:"none"},[a]),Ut(()=>{const u=r.current,d=s.current;if(d!==e){const h=i.current,m=Wu(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ut(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const v=Wu(r.current).includes(m.animationName);if(m.target===t&&v&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=Wu(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Wu(e){return(e==null?void 0:e.animationName)||"none"}function FI(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $I=Zv[" useInsertionEffect ".trim().toString()]||Ut;function mi({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=VI({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=p.useCallback(d=>{var f;if(a){const h=BI(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[a,e,i,o]);return[c,u]}function VI({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),i=p.useRef(t);return $I(()=>{i.current=t},[t]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function BI(e){return typeof e=="function"}var eE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),UI="VisuallyHidden",vh=p.forwardRef((e,t)=>l.jsx(xe.span,{...e,ref:t,style:{...eE,...e.style}}));vh.displayName=UI;var zI=vh,Wy="ToastProvider",[Hy,WI,HI]=gh("Toast"),[tE,TQ]=zn("Toast",[HI]),[KI,yh]=tE(Wy),nE=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Wy}\`. Expected non-empty \`string\`.`),l.jsx(Hy.Provider,{scope:t,children:l.jsx(KI,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};nE.displayName=Wy;var rE="ToastViewport",qI=["F8"],kg="toast.viewportPause",Tg="toast.viewportResume",sE=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=qI,label:s="Notifications ({hotkey})",...i}=e,o=yh(rE,n),a=WI(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=Ae(t,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;p.useEffect(()=>{const y=b=>{var w;r.length!==0&&r.every(_=>b[_]||b.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),p.useEffect(()=>{const y=c.current,b=f.current;if(x&&y&&b){const g=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(kg);b.dispatchEvent(C),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Tg);b.dispatchEvent(C),o.isClosePausedRef.current=!1}},_=C=>{!y.contains(C.relatedTarget)&&w()},S=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",g),y.addEventListener("focusout",_),y.addEventListener("pointermove",g),y.addEventListener("pointerleave",S),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",g),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",g),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:y})=>{const g=a().map(w=>{const _=w.ref.current,S=[_,...o4(_)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?g.reverse():g).flat()},[a]);return p.useEffect(()=>{const y=f.current;if(y){const b=g=>{var S,C,j;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const E=document.activeElement,k=g.shiftKey;if(g.target===y&&k){(S=u.current)==null||S.focus();return}const D=v({tabbingDirection:k?"backwards":"forwards"}),q=D.findIndex($=>$===E);Bm(D.slice(q+1))?g.preventDefault():k?(C=u.current)==null||C.focus():(j=d.current)==null||j.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[a,v]),l.jsxs(MI,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&l.jsx(Pg,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});Bm(y)}}),l.jsx(Hy.Slot,{scope:n,children:l.jsx(xe.ol,{tabIndex:-1,...i,ref:h})}),x&&l.jsx(Pg,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});Bm(y)}})]})});sE.displayName=rE;var iE="ToastFocusProxy",Pg=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=yh(iE,n);return l.jsx(vh,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Pg.displayName=iE;var Jc="Toast",GI="toast.swipeStart",YI="toast.swipeMove",QI="toast.swipeCancel",XI="toast.swipeEnd",oE=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a,c]=mi({prop:r,defaultProp:s??!0,onChange:i,caller:Jc});return l.jsx(on,{present:n||a,children:l.jsx(e4,{open:a,...o,ref:t,onClose:()=>c(!1),onPause:bt(e.onPause),onResume:bt(e.onResume),onSwipeStart:Q(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Q(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});oE.displayName=Jc;var[ZI,JI]=tE(Jc,{onClose(){}}),e4=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...x}=e,v=yh(Jc,n),[y,b]=p.useState(null),g=Ae(t,$=>b($)),w=p.useRef(null),_=p.useRef(null),S=s||v.duration,C=p.useRef(0),j=p.useRef(S),E=p.useRef(0),{onToastAdd:k,onToastRemove:R}=v,W=bt(()=>{var ne;(y==null?void 0:y.contains(document.activeElement))&&((ne=v.viewport)==null||ne.focus()),o()}),D=p.useCallback($=>{!$||$===1/0||(window.clearTimeout(E.current),C.current=new Date().getTime(),E.current=window.setTimeout(W,$))},[W]);p.useEffect(()=>{const $=v.viewport;if($){const ne=()=>{D(j.current),u==null||u()},H=()=>{const O=new Date().getTime()-C.current;j.current=j.current-O,window.clearTimeout(E.current),c==null||c()};return $.addEventListener(kg,H),$.addEventListener(Tg,ne),()=>{$.removeEventListener(kg,H),$.removeEventListener(Tg,ne)}}},[v.viewport,S,c,u,D]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&D(S)},[i,S,v.isClosePausedRef,D]),p.useEffect(()=>(k(),()=>R()),[k,R]);const q=p.useMemo(()=>y?hE(y):null,[y]);return v.viewport?l.jsxs(l.Fragment,{children:[q&&l.jsx(t4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),l.jsx(ZI,{scope:n,onClose:W,children:Po.createPortal(l.jsx(Hy.ItemSlot,{scope:n,children:l.jsx(OI,{asChild:!0,onEscapeKeyDown:Q(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||W(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Q(e.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:Q(e.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:Q(e.onPointerMove,$=>{if(!w.current)return;const ne=$.clientX-w.current.x,H=$.clientY-w.current.y,O=!!_.current,T=["left","right"].includes(v.swipeDirection),P=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,V=T?P(0,ne):0,te=T?0:P(0,H),J=$.pointerType==="touch"?10:2,fe={x:V,y:te},ge={originalEvent:$,delta:fe};O?(_.current=fe,Hu(YI,f,ge,{discrete:!1})):fb(fe,v.swipeDirection,J)?(_.current=fe,Hu(GI,d,ge,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(ne)>J||Math.abs(H)>J)&&(w.current=null)}),onPointerUp:Q(e.onPointerUp,$=>{const ne=_.current,H=$.target;if(H.hasPointerCapture($.pointerId)&&H.releasePointerCapture($.pointerId),_.current=null,w.current=null,ne){const O=$.currentTarget,T={originalEvent:$,delta:ne};fb(ne,v.swipeDirection,v.swipeThreshold)?Hu(XI,m,T,{discrete:!0}):Hu(QI,h,T,{discrete:!0}),O.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),t4=e=>{const{__scopeToast:t,children:n,...r}=e,s=yh(Jc,t),[i,o]=p.useState(!1),[a,c]=p.useState(!1);return s4(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(ol,{asChild:!0,children:l.jsx(vh,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},n4="ToastTitle",aE=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(xe.div,{...r,ref:t})});aE.displayName=n4;var r4="ToastDescription",lE=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(xe.div,{...r,ref:t})});lE.displayName=r4;var cE="ToastAction",uE=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(fE,{altText:n,asChild:!0,children:l.jsx(Ky,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${cE}\`. Expected non-empty \`string\`.`),null)});uE.displayName=cE;var dE="ToastClose",Ky=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=JI(dE,n);return l.jsx(fE,{asChild:!0,children:l.jsx(xe.button,{type:"button",...r,ref:t,onClick:Q(e.onClick,s.onClose)})})});Ky.displayName=dE;var fE=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function hE(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),i4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...hE(r))}}),t}function Hu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?zy(s,i):s.dispatchEvent(i)}var fb=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function s4(e=()=>{}){const t=bt(e);Ut(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function i4(e){return e.nodeType===e.ELEMENT_NODE}function o4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Bm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var a4=nE,mE=sE,pE=oE,gE=aE,vE=lE,yE=uE,xE=Ky;function wE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=wE(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function bE(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=wE(e))&&(r&&(r+=" "),r+=t);return r}const hb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mb=bE,qy=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return mb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const h=hb(d)||hb(f);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(x=>{let[v,y]=x;return Array.isArray(y)?y.includes({...i,...a}[v]):{...i,...a}[v]===y})?[...u,f,h]:u},[]);return mb(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_E=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>p.createElement("svg",{ref:c,...c4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:_E("lucide",s),...a},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,t)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(u4,{ref:i,iconNode:t,className:_E(`lucide-${l4(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=Re("AudioLines",[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=Re("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=Re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=Re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=Re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=Re("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=Re("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=Re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=Re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=Re("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=Re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=Re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=Re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=Re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=Re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=Re("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=Re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=Re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=Re("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=Re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=Re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=Re("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=Re("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yy="-",j4=e=>{const t=E4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(Yy);return a[0]===""&&a.length!==1&&a.shift(),kE(a,t)||C4(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},kE=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?kE(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Yy);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},xb=/^\[(.+)\]$/,C4=e=>{if(xb.test(e)){const t=xb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},E4=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return k4(Object.entries(e.classGroups),n).forEach(([i,o])=>{Og(o,r,i,t)}),r},Og=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:wb(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(N4(s)){Og(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Og(o,wb(t,i),n,r)})})},wb=(e,t)=>{let n=e;return t.split(Yy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},N4=e=>e.isThemeGetter,k4=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,T4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},TE="!",P4=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const c=[];let u=0,d=0,f;for(let y=0;y<a.length;y++){let b=a[y];if(u===0){if(b===s&&(r||a.slice(y,y+i)===t)){c.push(a.slice(d,y)),d=y+i;continue}if(b==="/"){f=y;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?a:a.substring(d),m=h.startsWith(TE),x=m?h.substring(1):h,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},A4=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},R4=e=>({cache:T4(e.cacheSize),parseClassName:P4(e),...j4(e)}),O4=/\s+/,M4=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(O4);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let x=!!m,v=r(x?h.substring(0,m):h);if(!v){if(!x){a=u+(a.length>0?" "+a:a);continue}if(v=r(h),!v){a=u+(a.length>0?" "+a:a);continue}x=!1}const y=A4(d).join(":"),b=f?y+TE:y,g=b+v;if(i.includes(g))continue;i.push(g);const w=s(v,x);for(let _=0;_<w.length;++_){const S=w[_];i.push(b+S)}a=u+(a.length>0?" "+a:a)}return a};function D4(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=PE(t))&&(r&&(r+=" "),r+=n);return r}const PE=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=PE(e[r]))&&(n&&(n+=" "),n+=t);return n};function I4(e,...t){let n,r,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=R4(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=M4(c,n);return s(c,d),d}return function(){return i(D4.apply(null,arguments))}}const tt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},AE=/^\[(?:([a-z-]+):)?(.+)\]$/i,L4=/^\d+\/\d+$/,F4=new Set(["px","full","screen"]),$4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,V4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,B4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,U4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,z4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=e=>ba(e)||F4.has(e)||L4.test(e),Ms=e=>al(e,"length",X4),ba=e=>!!e&&!Number.isNaN(Number(e)),Wm=e=>al(e,"number",ba),El=e=>!!e&&Number.isInteger(Number(e)),W4=e=>e.endsWith("%")&&ba(e.slice(0,-1)),Oe=e=>AE.test(e),Ds=e=>$4.test(e),H4=new Set(["length","size","percentage"]),K4=e=>al(e,H4,RE),q4=e=>al(e,"position",RE),G4=new Set(["image","url"]),Y4=e=>al(e,G4,J4),Q4=e=>al(e,"",Z4),Nl=()=>!0,al=(e,t,n)=>{const r=AE.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},X4=e=>V4.test(e)&&!B4.test(e),RE=()=>!1,Z4=e=>U4.test(e),J4=e=>z4.test(e),eL=()=>{const e=tt("colors"),t=tt("spacing"),n=tt("blur"),r=tt("brightness"),s=tt("borderColor"),i=tt("borderRadius"),o=tt("borderSpacing"),a=tt("borderWidth"),c=tt("contrast"),u=tt("grayscale"),d=tt("hueRotate"),f=tt("invert"),h=tt("gap"),m=tt("gradientColorStops"),x=tt("gradientColorStopPositions"),v=tt("inset"),y=tt("margin"),b=tt("opacity"),g=tt("padding"),w=tt("saturate"),_=tt("scale"),S=tt("sepia"),C=tt("skew"),j=tt("space"),E=tt("translate"),k=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",Oe,t],D=()=>[Oe,t],q=()=>["",ss,Ms],$=()=>["auto",ba,Oe],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",Oe],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[ba,Oe];return{cacheSize:500,separator:":",theme:{colors:[Nl],spacing:[ss,Ms],blur:["none","",Ds,Oe],brightness:te(),borderColor:[e],borderRadius:["none","","full",Ds,Oe],borderSpacing:D(),borderWidth:q(),contrast:te(),grayscale:P(),hueRotate:te(),invert:P(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[W4,Ms],inset:W(),margin:W(),opacity:te(),padding:D(),saturate:te(),scale:te(),sepia:P(),skew:te(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Oe]}],container:["container"],columns:[{columns:[Ds]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),Oe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",El,Oe]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Oe]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",El,Oe]}],"grid-cols":[{"grid-cols":[Nl]}],"col-start-end":[{col:["auto",{span:["full",El,Oe]},Oe]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Nl]}],"row-start-end":[{row:["auto",{span:[El,Oe]},Oe]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Oe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Oe,t]}],"min-w":[{"min-w":[Oe,t,"min","max","fit"]}],"max-w":[{"max-w":[Oe,t,"none","full","min","max","fit","prose",{screen:[Ds]},Ds]}],h:[{h:[Oe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Oe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ds,Ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wm]}],"font-family":[{font:[Nl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Oe]}],"line-clamp":[{"line-clamp":["none",ba,Wm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ss,Oe]}],"list-image":[{"list-image":["none",Oe]}],"list-style-type":[{list:["none","disc","decimal",Oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ss,Ms]}],"underline-offset":[{"underline-offset":["auto",ss,Oe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),q4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",K4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Y4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[ss,Oe]}],"outline-w":[{outline:[ss,Ms]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ss,Ms]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ds,Q4]}],"shadow-color":[{shadow:[Nl]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ds,Oe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Oe]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",Oe]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",Oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[El,Oe]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Oe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ss,Ms,Wm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tL=I4(eL);function K(...e){return tL(bE(e))}const nL=a4,OE=p.forwardRef(({className:e,...t},n)=>l.jsx(mE,{ref:n,className:K("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));OE.displayName=mE.displayName;const rL=qy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ME=p.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(pE,{ref:r,className:K(rL({variant:t}),e),...n}));ME.displayName=pE.displayName;const sL=p.forwardRef(({className:e,...t},n)=>l.jsx(yE,{ref:n,className:K("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));sL.displayName=yE.displayName;const DE=p.forwardRef(({className:e,...t},n)=>l.jsx(xE,{ref:n,className:K("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(ji,{className:"h-4 w-4"})}));DE.displayName=xE.displayName;const IE=p.forwardRef(({className:e,...t},n)=>l.jsx(gE,{ref:n,className:K("text-sm font-semibold",e),...t}));IE.displayName=gE.displayName;const LE=p.forwardRef(({className:e,...t},n)=>l.jsx(vE,{ref:n,className:K("text-sm opacity-90",e),...t}));LE.displayName=vE.displayName;function iL(){const{toasts:e}=qC();return l.jsxs(nL,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return l.jsxs(ME,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(IE,{children:n}),r&&l.jsx(LE,{children:r})]}),s,l.jsx(DE,{})]},t)}),l.jsx(OE,{})]})}var bb=["light","dark"],oL="(prefers-color-scheme: dark)",aL=p.createContext(void 0),lL={setTheme:e=>{},themes:[]},cL=()=>{var e;return(e=p.useContext(aL))!=null?e:lL};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?bb.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,v=!1,y=!0)=>{let b=o?o[x]:x,g=v?x+"|| ''":`'${b}'`,w="";return s&&y&&!v&&bb.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),n==="class"?v||b?w+=`c.add(${g})`:w+="null":b&&(w+=`d[s](n,${g})`),w},m=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${oL}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var uL=e=>{switch(e){case"success":return hL;case"info":return pL;case"warning":return mL;case"error":return gL;default:return null}},dL=Array(12).fill(0),fL=({visible:e,className:t})=>F.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},F.createElement("div",{className:"sonner-spinner"},dL.map((n,r)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),hL=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mL=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),pL=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gL=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vL=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),yL=()=>{let[e,t]=F.useState(document.hidden);return F.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Mg=1,xL=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Mg++,i=this.toasts.find(a=>a.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:n}),{...a,...e,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,i,o=r.then(async c=>{if(i=["resolve",c],F.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(bL(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),a=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Mg++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},xn=new xL,wL=(e,t)=>{let n=(t==null?void 0:t.id)||Mg++;return xn.addToast({title:e,...t,id:n}),n},bL=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",_L=wL,SL=()=>xn.toasts,jL=()=>xn.getActiveToasts(),Ce=Object.assign(_L,{success:xn.success,info:xn.info,warning:xn.warning,error:xn.error,custom:xn.custom,message:xn.message,promise:xn.promise,dismiss:xn.dismiss,loading:xn.loading},{getHistory:SL,getToasts:jL});function CL(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}CL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qu(e){return e.label!==void 0}var EL=3,NL="32px",kL="16px",_b=4e3,TL=356,PL=14,AL=20,RL=200;function ur(...e){return e.filter(Boolean).join(" ")}function OL(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var ML=e=>{var t,n,r,s,i,o,a,c,u,d,f;let{invert:h,toast:m,unstyled:x,interacting:v,setHeights:y,visibleToasts:b,heights:g,index:w,toasts:_,expanded:S,removeToast:C,defaultRichColors:j,closeButton:E,style:k,cancelButtonStyle:R,actionButtonStyle:W,className:D="",descriptionClassName:q="",duration:$,position:ne,gap:H,loadingIcon:O,expandByDefault:T,classNames:P,icons:V,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:J}=e,[fe,ge]=F.useState(null),[Me,z]=F.useState(null),[B,ve]=F.useState(!1),[ye,_e]=F.useState(!1),[we,M]=F.useState(!1),[ce,De]=F.useState(!1),[L,ue]=F.useState(!1),[$e,He]=F.useState(0),[lt,N]=F.useState(0),A=F.useRef(m.duration||$||_b),I=F.useRef(null),ee=F.useRef(null),re=w===0,X=w+1<=b,oe=m.type,Ve=m.dismissible!==!1,Qe=m.className||"",gn=m.descriptionClassName||"",ns=F.useMemo(()=>g.findIndex(ke=>ke.toastId===m.id)||0,[g,m.id]),Mr=F.useMemo(()=>{var ke;return(ke=m.closeButton)!=null?ke:E},[m.closeButton,E]),Su=F.useMemo(()=>m.duration||$||_b,[m.duration,$]),Di=F.useRef(0),Dr=F.useRef(0),ju=F.useRef(0),rs=F.useRef(null),[um,Cu]=ne.split("-"),Q0=F.useMemo(()=>g.reduce((ke,Xe,st)=>st>=ns?ke:ke+Xe.height,0),[g,ns]),X0=yL(),B2=m.invert||h,dm=oe==="loading";Dr.current=F.useMemo(()=>ns*H+Q0,[ns,Q0]),F.useEffect(()=>{A.current=Su},[Su]),F.useEffect(()=>{ve(!0)},[]),F.useEffect(()=>{let ke=ee.current;if(ke){let Xe=ke.getBoundingClientRect().height;return N(Xe),y(st=>[{toastId:m.id,height:Xe,position:m.position},...st]),()=>y(st=>st.filter(or=>or.toastId!==m.id))}},[y,m.id]),F.useLayoutEffect(()=>{if(!B)return;let ke=ee.current,Xe=ke.style.height;ke.style.height="auto";let st=ke.getBoundingClientRect().height;ke.style.height=Xe,N(st),y(or=>or.find(ar=>ar.toastId===m.id)?or.map(ar=>ar.toastId===m.id?{...ar,height:st}:ar):[{toastId:m.id,height:st,position:m.position},...or])},[B,m.title,m.description,y,m.id]);let Ps=F.useCallback(()=>{_e(!0),He(Dr.current),y(ke=>ke.filter(Xe=>Xe.toastId!==m.id)),setTimeout(()=>{C(m)},RL)},[m,C,y,Dr]);F.useEffect(()=>{if(m.promise&&oe==="loading"||m.duration===1/0||m.type==="loading")return;let ke;return S||v||J&&X0?(()=>{if(ju.current<Di.current){let Xe=new Date().getTime()-Di.current;A.current=A.current-Xe}ju.current=new Date().getTime()})():A.current!==1/0&&(Di.current=new Date().getTime(),ke=setTimeout(()=>{var Xe;(Xe=m.onAutoClose)==null||Xe.call(m,m),Ps()},A.current)),()=>clearTimeout(ke)},[S,v,m,oe,J,X0,Ps]),F.useEffect(()=>{m.delete&&Ps()},[Ps,m.delete]);function U2(){var ke,Xe,st;return V!=null&&V.loading?F.createElement("div",{className:ur(P==null?void 0:P.loader,(ke=m==null?void 0:m.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":oe==="loading"},V.loading):O?F.createElement("div",{className:ur(P==null?void 0:P.loader,(Xe=m==null?void 0:m.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":oe==="loading"},O):F.createElement(fL,{className:ur(P==null?void 0:P.loader,(st=m==null?void 0:m.classNames)==null?void 0:st.loader),visible:oe==="loading"})}return F.createElement("li",{tabIndex:0,ref:ee,className:ur(D,Qe,P==null?void 0:P.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[oe],(n=m==null?void 0:m.classNames)==null?void 0:n[oe]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:j,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":B,"data-promise":!!m.promise,"data-swiped":L,"data-removed":ye,"data-visible":X,"data-y-position":um,"data-x-position":Cu,"data-index":w,"data-front":re,"data-swiping":we,"data-dismissible":Ve,"data-type":oe,"data-invert":B2,"data-swipe-out":ce,"data-swipe-direction":Me,"data-expanded":!!(S||T&&B),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${ye?$e:Dr.current}px`,"--initial-height":T?"auto":`${lt}px`,...k,...m.style},onDragEnd:()=>{M(!1),ge(null),rs.current=null},onPointerDown:ke=>{dm||!Ve||(I.current=new Date,He(Dr.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(M(!0),rs.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,Xe,st,or;if(ce||!Ve)return;rs.current=null;let ar=Number(((ke=ee.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),As=Number(((Xe=ee.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ii=new Date().getTime()-((st=I.current)==null?void 0:st.getTime()),lr=fe==="x"?ar:As,Rs=Math.abs(lr)/Ii;if(Math.abs(lr)>=AL||Rs>.11){He(Dr.current),(or=m.onDismiss)==null||or.call(m,m),z(fe==="x"?ar>0?"right":"left":As>0?"down":"up"),Ps(),De(!0),ue(!1);return}M(!1),ge(null)},onPointerMove:ke=>{var Xe,st,or,ar;if(!rs.current||!Ve||((Xe=window.getSelection())==null?void 0:Xe.toString().length)>0)return;let As=ke.clientY-rs.current.y,Ii=ke.clientX-rs.current.x,lr=(st=e.swipeDirections)!=null?st:OL(ne);!fe&&(Math.abs(Ii)>1||Math.abs(As)>1)&&ge(Math.abs(Ii)>Math.abs(As)?"x":"y");let Rs={x:0,y:0};fe==="y"?(lr.includes("top")||lr.includes("bottom"))&&(lr.includes("top")&&As<0||lr.includes("bottom")&&As>0)&&(Rs.y=As):fe==="x"&&(lr.includes("left")||lr.includes("right"))&&(lr.includes("left")&&Ii<0||lr.includes("right")&&Ii>0)&&(Rs.x=Ii),(Math.abs(Rs.x)>0||Math.abs(Rs.y)>0)&&ue(!0),(or=ee.current)==null||or.style.setProperty("--swipe-amount-x",`${Rs.x}px`),(ar=ee.current)==null||ar.style.setProperty("--swipe-amount-y",`${Rs.y}px`)}},Mr&&!m.jsx?F.createElement("button",{"aria-label":te,"data-disabled":dm,"data-close-button":!0,onClick:dm||!Ve?()=>{}:()=>{var ke;Ps(),(ke=m.onDismiss)==null||ke.call(m,m)},className:ur(P==null?void 0:P.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=V==null?void 0:V.close)!=null?i:vL):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:F.createElement(F.Fragment,null,oe||m.icon||m.promise?F.createElement("div",{"data-icon":"",className:ur(P==null?void 0:P.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||U2():null,m.type!=="loading"?m.icon||(V==null?void 0:V[oe])||uL(oe):null):null,F.createElement("div",{"data-content":"",className:ur(P==null?void 0:P.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},F.createElement("div",{"data-title":"",className:ur(P==null?void 0:P.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?F.createElement("div",{"data-description":"",className:ur(q,gn,P==null?void 0:P.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&qu(m.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:ke=>{var Xe,st;qu(m.cancel)&&Ve&&((st=(Xe=m.cancel).onClick)==null||st.call(Xe,ke),Ps())},className:ur(P==null?void 0:P.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&qu(m.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||W,onClick:ke=>{var Xe,st;qu(m.action)&&((st=(Xe=m.action).onClick)==null||st.call(Xe,ke),!ke.defaultPrevented&&Ps())},className:ur(P==null?void 0:P.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function Sb(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function DL(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?kL:NL;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var IL=p.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:x=EL,toastOptions:v,dir:y=Sb(),gap:b=PL,loadingIcon:g,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[C,j]=F.useState([]),E=F.useMemo(()=>Array.from(new Set([r].concat(C.filter(J=>J.position).map(J=>J.position)))),[C,r]),[k,R]=F.useState([]),[W,D]=F.useState(!1),[q,$]=F.useState(!1),[ne,H]=F.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=F.useRef(null),T=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=F.useRef(null),V=F.useRef(!1),te=F.useCallback(J=>{j(fe=>{var ge;return(ge=fe.find(Me=>Me.id===J.id))!=null&&ge.delete||xn.dismiss(J.id),fe.filter(({id:Me})=>Me!==J.id)})},[]);return F.useEffect(()=>xn.subscribe(J=>{if(J.dismiss){j(fe=>fe.map(ge=>ge.id===J.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{HC.flushSync(()=>{j(fe=>{let ge=fe.findIndex(Me=>Me.id===J.id);return ge!==-1?[...fe.slice(0,ge),{...fe[ge],...J},...fe.slice(ge+1)]:[J,...fe]})})})}),[]),F.useEffect(()=>{if(d!=="system"){H(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:fe})=>{H(fe?"dark":"light")})}catch{J.addListener(({matches:ge})=>{try{H(ge?"dark":"light")}catch(Me){console.error(Me)}})}},[d]),F.useEffect(()=>{C.length<=1&&D(!1)},[C]),F.useEffect(()=>{let J=fe=>{var ge,Me;s.every(z=>fe[z]||fe.code===z)&&(D(!0),(ge=O.current)==null||ge.focus()),fe.code==="Escape"&&(document.activeElement===O.current||(Me=O.current)!=null&&Me.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[s]),F.useEffect(()=>{if(O.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,V.current=!1)}},[O.current]),F.createElement("section",{ref:t,"aria-label":`${_} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((J,fe)=>{var ge;let[Me,z]=J.split("-");return C.length?F.createElement("ol",{key:J,dir:y==="auto"?Sb():y,tabIndex:-1,ref:O,className:a,"data-sonner-toaster":!0,"data-theme":ne,"data-y-position":Me,"data-lifted":W&&C.length>1&&!i,"data-x-position":z,style:{"--front-toast-height":`${((ge=k[0])==null?void 0:ge.height)||0}px`,"--width":`${TL}px`,"--gap":`${b}px`,...m,...DL(c,u)},onBlur:B=>{V.current&&!B.currentTarget.contains(B.relatedTarget)&&(V.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||V.current||(V.current=!0,P.current=B.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{q||D(!1)},onDragEnd:()=>D(!1),onPointerDown:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},C.filter(B=>!B.position&&fe===0||B.position===J).map((B,ve)=>{var ye,_e;return F.createElement(ML,{key:B.id,icons:w,index:ve,toast:B,defaultRichColors:f,duration:(ye=v==null?void 0:v.duration)!=null?ye:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:x,closeButton:(_e=v==null?void 0:v.closeButton)!=null?_e:o,interacting:q,position:J,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:te,toasts:C.filter(we=>we.position==B.position),heights:k.filter(we=>we.position==B.position),setHeights:R,expandByDefault:i,gap:b,loadingIcon:g,expanded:W,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const LL=({...e})=>{const{theme:t="system"}=cL();return l.jsx(IL,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var FL=Zv[" useId ".trim().toString()]||(()=>{}),$L=0;function Gr(e){const[t,n]=p.useState(FL());return Ut(()=>{n(r=>r??String($L++))},[e]),t?`radix-${t}`:""}const VL=["top","right","bottom","left"],pi=Math.min,On=Math.max,hf=Math.round,Gu=Math.floor,Yr=e=>({x:e,y:e}),BL={left:"right",right:"left",bottom:"top",top:"bottom"},UL={start:"end",end:"start"};function Dg(e,t,n){return On(e,pi(t,n))}function bs(e,t){return typeof e=="function"?e(t):e}function _s(e){return e.split("-")[0]}function ll(e){return e.split("-")[1]}function Qy(e){return e==="x"?"y":"x"}function Xy(e){return e==="y"?"height":"width"}const zL=new Set(["top","bottom"]);function zr(e){return zL.has(_s(e))?"y":"x"}function Zy(e){return Qy(zr(e))}function WL(e,t,n){n===void 0&&(n=!1);const r=ll(e),s=Zy(e),i=Xy(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=mf(o)),[o,mf(o)]}function HL(e){const t=mf(e);return[Ig(e),t,Ig(t)]}function Ig(e){return e.replace(/start|end/g,t=>UL[t])}const jb=["left","right"],Cb=["right","left"],KL=["top","bottom"],qL=["bottom","top"];function GL(e,t,n){switch(e){case"top":case"bottom":return n?t?Cb:jb:t?jb:Cb;case"left":case"right":return t?KL:qL;default:return[]}}function YL(e,t,n,r){const s=ll(e);let i=GL(_s(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Ig)))),i}function mf(e){return e.replace(/left|right|bottom|top/g,t=>BL[t])}function QL(e){return{top:0,right:0,bottom:0,left:0,...e}}function FE(e){return typeof e!="number"?QL(e):{top:e,right:e,bottom:e,left:e}}function pf(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Eb(e,t,n){let{reference:r,floating:s}=e;const i=zr(t),o=Zy(t),a=Xy(o),c=_s(t),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(ll(t)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const XL=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Eb(u,r,c),h=r,m={},x=0;for(let v=0;v<a.length;v++){const{name:y,fn:b}=a[v],{x:g,y:w,data:_,reset:S}=await b({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=w??f,m={...m,[y]:{...m[y],..._}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=Eb(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Ec(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=bs(t,e),x=FE(m),y=a[h?f==="floating"?"reference":"floating":f],b=pf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=pf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:w,strategy:c}):g);return{top:(b.top-S.top+x.top)/_.y,bottom:(S.bottom-b.bottom+x.bottom)/_.y,left:(b.left-S.left+x.left)/_.x,right:(S.right-b.right+x.right)/_.x}}const ZL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=bs(e,t)||{};if(u==null)return{};const f=FE(d),h={x:n,y:r},m=Zy(s),x=Xy(m),v=await o.getDimensions(u),y=m==="y",b=y?"top":"left",g=y?"bottom":"right",w=y?"clientHeight":"clientWidth",_=i.reference[x]+i.reference[m]-h[m]-i.floating[x],S=h[m]-i.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=C?C[w]:0;(!j||!await(o.isElement==null?void 0:o.isElement(C)))&&(j=a.floating[w]||i.floating[x]);const E=_/2-S/2,k=j/2-v[x]/2-1,R=pi(f[b],k),W=pi(f[g],k),D=R,q=j-v[x]-W,$=j/2-v[x]/2+E,ne=Dg(D,$,q),H=!c.arrow&&ll(s)!=null&&$!==ne&&i.reference[x]/2-($<D?R:W)-v[x]/2<0,O=H?$<D?$-D:$-q:0;return{[m]:h[m]+O,data:{[m]:ne,centerOffset:$-ne-O,...H&&{alignmentOffset:O}},reset:H}}}),JL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...y}=bs(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=_s(s),g=zr(a),w=_s(a)===a,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!v?[mf(a)]:HL(a)),C=x!=="none";!h&&C&&S.push(...YL(a,v,x,_));const j=[a,...S],E=await Ec(t,y),k=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&k.push(E[b]),f){const $=WL(s,o,_);k.push(E[$[0]],E[$[1]])}if(R=[...R,{placement:s,overflows:k}],!k.every($=>$<=0)){var W,D;const $=(((W=i.flip)==null?void 0:W.index)||0)+1,ne=j[$];if(ne&&(!(f==="alignment"?g!==zr(ne):!1)||R.every(T=>T.overflows[0]>0&&zr(T.placement)===g)))return{data:{index:$,overflows:R},reset:{placement:ne}};let H=(D=R.filter(O=>O.overflows[0]<=0).sort((O,T)=>O.overflows[1]-T.overflows[1])[0])==null?void 0:D.placement;if(!H)switch(m){case"bestFit":{var q;const O=(q=R.filter(T=>{if(C){const P=zr(T.placement);return P===g||P==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(P=>P>0).reduce((P,V)=>P+V,0)]).sort((T,P)=>T[1]-P[1])[0])==null?void 0:q[0];O&&(H=O);break}case"initialPlacement":H=a;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function Nb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kb(e){return VL.some(t=>e[t]>=0)}const eF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=bs(e,t);switch(r){case"referenceHidden":{const i=await Ec(t,{...s,elementContext:"reference"}),o=Nb(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:kb(o)}}}case"escaped":{const i=await Ec(t,{...s,altBoundary:!0}),o=Nb(i,n.floating);return{data:{escapedOffsets:o,escaped:kb(o)}}}default:return{}}}}},$E=new Set(["left","top"]);async function tF(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=_s(n),a=ll(n),c=zr(n)==="y",u=$E.has(o)?-1:1,d=i&&c?-1:1,f=bs(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(m=a==="end"?x*-1:x),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const nF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await tF(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},rF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:b,y:g}=y;return{x:b,y:g}}},...c}=bs(e,t),u={x:n,y:r},d=await Ec(t,c),f=zr(_s(s)),h=Qy(f);let m=u[h],x=u[f];if(i){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",g=m+d[y],w=m-d[b];m=Dg(g,m,w)}if(o){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",g=x+d[y],w=x-d[b];x=Dg(g,x,w)}const v=a.fn({...t,[h]:m,[f]:x});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:i,[f]:o}}}}}},sF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=bs(e,t),d={x:n,y:r},f=zr(s),h=Qy(f);let m=d[h],x=d[f];const v=bs(a,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+y.mainAxis,S=i.reference[h]+i.reference[w]-y.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var b,g;const w=h==="y"?"width":"height",_=$E.has(_s(s)),S=i.reference[f]-i.floating[w]+(_&&((b=o.offset)==null?void 0:b[f])||0)+(_?0:y.crossAxis),C=i.reference[f]+i.reference[w]+(_?0:((g=o.offset)==null?void 0:g[f])||0)-(_?y.crossAxis:0);x<S?x=S:x>C&&(x=C)}return{[h]:m,[f]:x}}}},iF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:c=()=>{},...u}=bs(e,t),d=await Ec(t,u),f=_s(s),h=ll(s),m=zr(s)==="y",{width:x,height:v}=i.floating;let y,b;f==="top"||f==="bottom"?(y=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,y=h==="end"?"top":"bottom");const g=v-d.top-d.bottom,w=x-d.left-d.right,_=pi(v-d[y],g),S=pi(x-d[b],w),C=!t.middlewareData.shift;let j=_,E=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=g),C&&!h){const R=On(d.left,0),W=On(d.right,0),D=On(d.top,0),q=On(d.bottom,0);m?E=x-2*(R!==0||W!==0?R+W:On(d.left,d.right)):j=v-2*(D!==0||q!==0?D+q:On(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:j});const k=await o.getDimensions(a.floating);return x!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function _h(){return typeof window<"u"}function cl(e){return VE(e)?(e.nodeName||"").toLowerCase():"#document"}function Ln(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function es(e){var t;return(t=(VE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function VE(e){return _h()?e instanceof Node||e instanceof Ln(e).Node:!1}function Tr(e){return _h()?e instanceof Element||e instanceof Ln(e).Element:!1}function Jr(e){return _h()?e instanceof HTMLElement||e instanceof Ln(e).HTMLElement:!1}function Tb(e){return!_h()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ln(e).ShadowRoot}const oF=new Set(["inline","contents"]);function nu(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Pr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!oF.has(s)}const aF=new Set(["table","td","th"]);function lF(e){return aF.has(cl(e))}const cF=[":popover-open",":modal"];function Sh(e){return cF.some(t=>{try{return e.matches(t)}catch{return!1}})}const uF=["transform","translate","scale","rotate","perspective"],dF=["transform","translate","scale","rotate","perspective","filter"],fF=["paint","layout","strict","content"];function Jy(e){const t=ex(),n=Tr(e)?Pr(e):e;return uF.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||dF.some(r=>(n.willChange||"").includes(r))||fF.some(r=>(n.contain||"").includes(r))}function hF(e){let t=gi(e);for(;Jr(t)&&!za(t);){if(Jy(t))return t;if(Sh(t))return null;t=gi(t)}return null}function ex(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mF=new Set(["html","body","#document"]);function za(e){return mF.has(cl(e))}function Pr(e){return Ln(e).getComputedStyle(e)}function jh(e){return Tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function gi(e){if(cl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Tb(e)&&e.host||es(e);return Tb(t)?t.host:t}function BE(e){const t=gi(e);return za(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jr(t)&&nu(t)?t:BE(t)}function Nc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=BE(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=Ln(s);if(i){const a=Lg(o);return t.concat(o,o.visualViewport||[],nu(s)?s:[],a&&n?Nc(a):[])}return t.concat(s,Nc(s,[],n))}function Lg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function UE(e){const t=Pr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Jr(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=hf(n)!==i||hf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function tx(e){return Tr(e)?e:e.contextElement}function _a(e){const t=tx(e);if(!Jr(t))return Yr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=UE(t);let o=(i?hf(n.width):n.width)/r,a=(i?hf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const pF=Yr(0);function zE(e){const t=Ln(e);return!ex()||!t.visualViewport?pF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gF(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ln(e)?!1:t}function wo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=tx(e);let o=Yr(1);t&&(r?Tr(r)&&(o=_a(r)):o=_a(e));const a=gF(i,n,r)?zE(i):Yr(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Ln(i),m=r&&Tr(r)?Ln(r):r;let x=h,v=Lg(x);for(;v&&r&&m!==x;){const y=_a(v),b=v.getBoundingClientRect(),g=Pr(v),w=b.left+(v.clientLeft+parseFloat(g.paddingLeft))*y.x,_=b.top+(v.clientTop+parseFloat(g.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=_,x=Ln(v),v=Lg(x)}}return pf({width:d,height:f,x:c,y:u})}function nx(e,t){const n=jh(e).scrollLeft;return t?t.left+n:wo(es(e)).left+n}function WE(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:nx(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function vF(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=es(r),a=t?Sh(t.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Yr(1);const d=Yr(0),f=Jr(r);if((f||!f&&!i)&&((cl(r)!=="body"||nu(o))&&(c=jh(r)),Jr(r))){const m=wo(r);u=_a(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!i?WE(o,c,!0):Yr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function yF(e){return Array.from(e.getClientRects())}function xF(e){const t=es(e),n=jh(e),r=e.ownerDocument.body,s=On(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=On(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+nx(e);const a=-n.scrollTop;return Pr(r).direction==="rtl"&&(o+=On(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function wF(e,t){const n=Ln(e),r=es(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=ex();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const bF=new Set(["absolute","fixed"]);function _F(e,t){const n=wo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Jr(e)?_a(e):Yr(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function Pb(e,t,n){let r;if(t==="viewport")r=wF(e,n);else if(t==="document")r=xF(es(e));else if(Tr(t))r=_F(t,n);else{const s=zE(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return pf(r)}function HE(e,t){const n=gi(e);return n===t||!Tr(n)||za(n)?!1:Pr(n).position==="fixed"||HE(n,t)}function SF(e,t){const n=t.get(e);if(n)return n;let r=Nc(e,[],!1).filter(a=>Tr(a)&&cl(a)!=="body"),s=null;const i=Pr(e).position==="fixed";let o=i?gi(e):e;for(;Tr(o)&&!za(o);){const a=Pr(o),c=Jy(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&bF.has(s.position)||nu(o)&&!c&&HE(e,o))?r=r.filter(d=>d!==o):s=a,o=gi(o)}return t.set(e,r),r}function jF(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Sh(t)?[]:SF(t,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const f=Pb(t,d,s);return u.top=On(f.top,u.top),u.right=pi(f.right,u.right),u.bottom=pi(f.bottom,u.bottom),u.left=On(f.left,u.left),u},Pb(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function CF(e){const{width:t,height:n}=UE(e);return{width:t,height:n}}function EF(e,t,n){const r=Jr(t),s=es(t),i=n==="fixed",o=wo(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=Yr(0);function u(){c.x=nx(s)}if(r||!r&&!i)if((cl(t)!=="body"||nu(s))&&(a=jh(t)),r){const m=wo(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?WE(s,a):Yr(0),f=o.left+a.scrollLeft-c.x-d.x,h=o.top+a.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Hm(e){return Pr(e).position==="static"}function Ab(e,t){if(!Jr(e)||Pr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return es(e)===n&&(n=n.ownerDocument.body),n}function KE(e,t){const n=Ln(e);if(Sh(e))return n;if(!Jr(e)){let s=gi(e);for(;s&&!za(s);){if(Tr(s)&&!Hm(s))return s;s=gi(s)}return n}let r=Ab(e,t);for(;r&&lF(r)&&Hm(r);)r=Ab(r,t);return r&&za(r)&&Hm(r)&&!Jy(r)?n:r||hF(e)||n}const NF=async function(e){const t=this.getOffsetParent||KE,n=this.getDimensions,r=await n(e.floating);return{reference:EF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kF(e){return Pr(e).direction==="rtl"}const TF={convertOffsetParentRelativeRectToViewportRelativeRect:vF,getDocumentElement:es,getClippingRect:jF,getOffsetParent:KE,getElementRects:NF,getClientRects:yF,getDimensions:CF,getScale:_a,isElement:Tr,isRTL:kF};function qE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function PF(e,t){let n=null,r;const s=es(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(a||t(),!h||!m)return;const x=Gu(f),v=Gu(s.clientWidth-(d+h)),y=Gu(s.clientHeight-(f+m)),b=Gu(d),w={rootMargin:-x+"px "+-v+"px "+-y+"px "+-b+"px",threshold:On(0,pi(1,c))||1};let _=!0;function S(C){const j=C[0].intersectionRatio;if(j!==c){if(!_)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!qE(u,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return o(!0),i}function AF(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=tx(e),d=s||i?[...u?Nc(u):[],...Nc(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=u&&a?PF(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[g]=b;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let x,v=c?wo(e):null;c&&y();function y(){const b=wo(e);v&&!qE(v,b)&&n(),v=b,x=requestAnimationFrame(y)}return n(),()=>{var b;d.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const RF=nF,OF=rF,MF=JL,DF=iF,IF=eF,Rb=ZL,LF=sF,FF=(e,t,n)=>{const r=new Map,s={platform:TF,...n},i={...s.platform,_c:r};return XL(e,t,{...s,platform:i})};var $F=typeof document<"u",VF=function(){},kd=$F?p.useLayoutEffect:VF;function gf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!gf(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!gf(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function GE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ob(e,t){const n=GE(e);return Math.round(t*n)/n}function Km(e){const t=p.useRef(e);return kd(()=>{t.current=e}),t}function BF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);gf(h,r)||m(r);const[x,v]=p.useState(null),[y,b]=p.useState(null),g=p.useCallback(T=>{T!==C.current&&(C.current=T,v(T))},[]),w=p.useCallback(T=>{T!==j.current&&(j.current=T,b(T))},[]),_=i||x,S=o||y,C=p.useRef(null),j=p.useRef(null),E=p.useRef(d),k=c!=null,R=Km(c),W=Km(s),D=Km(u),q=p.useCallback(()=>{if(!C.current||!j.current)return;const T={placement:t,strategy:n,middleware:h};W.current&&(T.platform=W.current),FF(C.current,j.current,T).then(P=>{const V={...P,isPositioned:D.current!==!1};$.current&&!gf(E.current,V)&&(E.current=V,Po.flushSync(()=>{f(V)}))})},[h,t,n,W,D]);kd(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const $=p.useRef(!1);kd(()=>($.current=!0,()=>{$.current=!1}),[]),kd(()=>{if(_&&(C.current=_),S&&(j.current=S),_&&S){if(R.current)return R.current(_,S,q);q()}},[_,S,q,R,k]);const ne=p.useMemo(()=>({reference:C,floating:j,setReference:g,setFloating:w}),[g,w]),H=p.useMemo(()=>({reference:_,floating:S}),[_,S]),O=p.useMemo(()=>{const T={position:n,left:0,top:0};if(!H.floating)return T;const P=Ob(H.floating,d.x),V=Ob(H.floating,d.y);return a?{...T,transform:"translate("+P+"px, "+V+"px)",...GE(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:V}},[n,a,H.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:q,refs:ne,elements:H,floatingStyles:O}),[d,q,ne,H,O])}const UF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Rb({element:r.current,padding:s}).fn(n):{}:r?Rb({element:r,padding:s}).fn(n):{}}}},zF=(e,t)=>({...RF(e),options:[e,t]}),WF=(e,t)=>({...OF(e),options:[e,t]}),HF=(e,t)=>({...LF(e),options:[e,t]}),KF=(e,t)=>({...MF(e),options:[e,t]}),qF=(e,t)=>({...DF(e),options:[e,t]}),GF=(e,t)=>({...IF(e),options:[e,t]}),YF=(e,t)=>({...UF(e),options:[e,t]});var QF="Arrow",YE=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return l.jsx(xe.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});YE.displayName=QF;var XF=YE;function QE(e){const[t,n]=p.useState(void 0);return Ut(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var rx="Popper",[XE,Ci]=zn(rx),[ZF,ZE]=XE(rx),JE=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return l.jsx(ZF,{scope:t,anchor:r,onAnchorChange:s,children:n})};JE.displayName=rx;var eN="PopperAnchor",tN=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=ZE(eN,n),o=p.useRef(null),a=Ae(t,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(xe.div,{...s,ref:a})});tN.displayName=eN;var sx="PopperContent",[JF,e$]=XE(sx),nN=p.forwardRef((e,t)=>{var B,ve,ye,_e,we,M;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...v}=e,y=ZE(sx,n),[b,g]=p.useState(null),w=Ae(t,ce=>g(ce)),[_,S]=p.useState(null),C=QE(_),j=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,k=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},W=Array.isArray(u)?u:[u],D=W.length>0,q={padding:R,boundary:W.filter(n$),altBoundary:D},{refs:$,floatingStyles:ne,placement:H,isPositioned:O,middlewareData:T}=BF({strategy:"fixed",placement:k,whileElementsMounted:(...ce)=>AF(...ce,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[zF({mainAxis:s+E,alignmentAxis:o}),c&&WF({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?HF():void 0,...q}),c&&KF({...q}),qF({...q,apply:({elements:ce,rects:De,availableWidth:L,availableHeight:ue})=>{const{width:$e,height:He}=De.reference,lt=ce.floating.style;lt.setProperty("--radix-popper-available-width",`${L}px`),lt.setProperty("--radix-popper-available-height",`${ue}px`),lt.setProperty("--radix-popper-anchor-width",`${$e}px`),lt.setProperty("--radix-popper-anchor-height",`${He}px`)}}),_&&YF({element:_,padding:a}),r$({arrowWidth:j,arrowHeight:E}),h&&GF({strategy:"referenceHidden",...q})]}),[P,V]=iN(H),te=bt(x);Ut(()=>{O&&(te==null||te())},[O,te]);const J=(B=T.arrow)==null?void 0:B.x,fe=(ve=T.arrow)==null?void 0:ve.y,ge=((ye=T.arrow)==null?void 0:ye.centerOffset)!==0,[Me,z]=p.useState();return Ut(()=>{b&&z(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:O?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(_e=T.transformOrigin)==null?void 0:_e.x,(we=T.transformOrigin)==null?void 0:we.y].join(" "),...((M=T.hide)==null?void 0:M.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(JF,{scope:n,placedSide:P,onArrowChange:S,arrowX:J,arrowY:fe,shouldHideArrow:ge,children:l.jsx(xe.div,{"data-side":P,"data-align":V,...v,ref:w,style:{...v.style,animation:O?void 0:"none"}})})})});nN.displayName=sx;var rN="PopperArrow",t$={top:"bottom",right:"left",bottom:"top",left:"right"},sN=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=e$(rN,r),o=t$[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(XF,{...s,ref:n,style:{...s.style,display:"block"}})})});sN.displayName=rN;function n$(e){return e!==null}var r$=e=>({name:"transformOrigin",options:e,fn(t){var y,b,g;const{placement:n,rects:r,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=iN(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,m=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let x="",v="";return u==="bottom"?(x=o?f:`${h}px`,v=`${-c}px`):u==="top"?(x=o?f:`${h}px`,v=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,v=o?f:`${m}px`):u==="left"&&(x=`${r.floating.width+c}px`,v=o?f:`${m}px`),{data:{x,y:v}}}});function iN(e){const[t,n="center"]=e.split("-");return[t,n]}var ix=JE,ru=tN,Ch=nN,Eh=sN,[Nh,PQ]=zn("Tooltip",[Ci]),ox=Ci(),oN="TooltipProvider",s$=700,Mb="tooltip.open",[i$,aN]=Nh(oN),lN=e=>{const{__scopeTooltip:t,delayDuration:n=s$,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=p.useRef(!0),a=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(i$,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:p.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};lN.displayName=oN;var cN="Tooltip",[AQ,kh]=Nh(cN),Fg="TooltipTrigger",o$=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=kh(Fg,n),i=aN(Fg,n),o=ox(n),a=p.useRef(null),c=Ae(t,a,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(ru,{asChild:!0,...o,children:l.jsx(xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Q(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Q(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Q(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Q(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Q(e.onBlur,s.onClose),onClick:Q(e.onClick,s.onClose)})})});o$.displayName=Fg;var a$="TooltipPortal",[RQ,l$]=Nh(a$,{forceMount:void 0}),Wa="TooltipContent",uN=p.forwardRef((e,t)=>{const n=l$(Wa,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=kh(Wa,e.__scopeTooltip);return l.jsx(on,{present:r||o.open,children:o.disableHoverableContent?l.jsx(dN,{side:s,...i,ref:t}):l.jsx(c$,{side:s,...i,ref:t})})}),c$=p.forwardRef((e,t)=>{const n=kh(Wa,e.__scopeTooltip),r=aN(Wa,e.__scopeTooltip),s=p.useRef(null),i=Ae(t,s),[o,a]=p.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=p.useCallback(()=>{a(null),f(!1)},[f]),m=p.useCallback((x,v)=>{const y=x.currentTarget,b={x:x.clientX,y:x.clientY},g=m$(b,y.getBoundingClientRect()),w=p$(b,g),_=g$(v.getBoundingClientRect()),S=y$([...w,..._]);a(S),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const x=y=>m(y,d),v=y=>m(y,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",v)}}},[c,d,m,h]),p.useEffect(()=>{if(o){const x=v=>{const y=v.target,b={x:v.clientX,y:v.clientY},g=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),w=!v$(b,o);g?h():w&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,h]),l.jsx(dN,{...e,ref:i})}),[u$,d$]=Nh(cN,{isInside:!1}),f$=QC("TooltipContent"),dN=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,c=kh(Wa,n),u=ox(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(Mb,d),()=>document.removeEventListener(Mb,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(Ch,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(f$,{children:r}),l.jsx(u$,{scope:n,isInside:!0,children:l.jsx(zI,{id:c.contentId,role:"tooltip",children:s||r})})]})})});uN.displayName=Wa;var fN="TooltipArrow",h$=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=ox(n);return d$(fN,n).isInside?null:l.jsx(Eh,{...s,...r,ref:t})});h$.displayName=fN;function m$(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function p$(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function g$(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function v$(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],c=t[o],u=a.x,d=a.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function y$(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),x$(t)}function x$(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var w$=lN,hN=uN;const b$=w$,_$=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(hN,{ref:r,sideOffset:t,className:K("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));_$.displayName=hN.displayName;var Th=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ph=typeof window>"u"||"Deno"in globalThis;function gr(){}function S$(e,t){return typeof e=="function"?e(t):e}function j$(e){return typeof e=="number"&&e>=0&&e!==1/0}function C$(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $g(e,t){return typeof e=="function"?e(t):e}function E$(e,t){return typeof e=="function"?e(t):e}function Db(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==ax(o,t.options))return!1}else if(!Tc(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Ib(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(kc(t.options.mutationKey)!==kc(i))return!1}else if(!Tc(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function ax(e,t){return((t==null?void 0:t.queryKeyHashFn)||kc)(e)}function kc(e){return JSON.stringify(e,(t,n)=>Vg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Tc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Tc(e[n],t[n])):!1}function mN(e,t){if(e===t)return e;const n=Lb(e)&&Lb(t);if(n||Vg(e)&&Vg(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,u++):(a[f]=mN(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&u++)}return s===o&&u===s?e:a}return t}function Lb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vg(e){if(!Fb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Fb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Fb(e){return Object.prototype.toString.call(e)==="[object Object]"}function N$(e){return new Promise(t=>{setTimeout(t,e)})}function k$(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?mN(e,t):t}function T$(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function P$(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var lx=Symbol();function pN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===lx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var so,qs,ka,j1,A$=(j1=class extends Th{constructor(){super();ze(this,so);ze(this,qs);ze(this,ka);Te(this,ka,t=>{if(!Ph&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,qs)||this.setEventListener(U(this,ka))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,qs))==null||t.call(this),Te(this,qs,void 0))}setEventListener(t){var n;Te(this,ka,t),(n=U(this,qs))==null||n.call(this),Te(this,qs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){U(this,so)!==t&&(Te(this,so,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof U(this,so)=="boolean"?U(this,so):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},so=new WeakMap,qs=new WeakMap,ka=new WeakMap,j1),gN=new A$,Ta,Gs,Pa,C1,R$=(C1=class extends Th{constructor(){super();ze(this,Ta,!0);ze(this,Gs);ze(this,Pa);Te(this,Pa,t=>{if(!Ph&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Gs)||this.setEventListener(U(this,Pa))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Gs))==null||t.call(this),Te(this,Gs,void 0))}setEventListener(t){var n;Te(this,Pa,t),(n=U(this,Gs))==null||n.call(this),Te(this,Gs,t(this.setOnline.bind(this)))}setOnline(t){U(this,Ta)!==t&&(Te(this,Ta,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return U(this,Ta)}},Ta=new WeakMap,Gs=new WeakMap,Pa=new WeakMap,C1),vf=new R$;function O$(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function M$(e){return Math.min(1e3*2**e,3e4)}function vN(e){return(e??"online")==="online"?vf.isOnline():!0}var yN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function qm(e){return e instanceof yN}function xN(e){let t=!1,n=0,r=!1,s;const i=O$(),o=v=>{var y;r||(h(new yN(v)),(y=e.abort)==null||y.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>gN.isFocused()&&(e.networkMode==="always"||vf.isOnline())&&e.canRun(),d=()=>vN(e.networkMode)&&e.canRun(),f=v=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,v),s==null||s(),i.resolve(v))},h=v=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,v),s==null||s(),i.reject(v))},m=()=>new Promise(v=>{var y;s=b=>{(r||u())&&v(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;s=void 0,r||(v=e.onContinue)==null||v.call(e)}),x=()=>{if(r)return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(f).catch(b=>{var C;if(r)return;const g=e.retry??(Ph?0:3),w=e.retryDelay??M$,_=typeof w=="function"?w(n,b):w,S=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,b);if(t||!S){h(b);return}n++,(C=e.onFail)==null||C.call(e,n,b),N$(_).then(()=>u()?void 0:m()).then(()=>{t?h(b):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?x():m().then(x),i)}}var D$=e=>setTimeout(e,0);function I$(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=D$;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var un=I$(),io,E1,wN=(E1=class{constructor(){ze(this,io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),j$(this.gcTime)&&Te(this,io,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ph?1/0:5*60*1e3))}clearGcTimeout(){U(this,io)&&(clearTimeout(U(this,io)),Te(this,io,void 0))}},io=new WeakMap,E1),Aa,oo,Hn,ao,Zt,Hc,lo,yr,as,N1,L$=(N1=class extends wN{constructor(t){super();ze(this,yr);ze(this,Aa);ze(this,oo);ze(this,Hn);ze(this,ao);ze(this,Zt);ze(this,Hc);ze(this,lo);Te(this,lo,!1),Te(this,Hc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Te(this,ao,t.client),Te(this,Hn,U(this,ao).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Te(this,Aa,$$(this.options)),this.state=t.state??U(this,Aa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,Zt))==null?void 0:t.promise}setOptions(t){this.options={...U(this,Hc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Hn).remove(this)}setData(t,n){const r=k$(this.state.data,t,this.options);return Yt(this,yr,as).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Yt(this,yr,as).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=U(this,Zt))==null?void 0:r.promise;return(s=U(this,Zt))==null||s.cancel(t),n?n.then(gr).catch(gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Aa))}isActive(){return this.observers.some(t=>E$(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>$g(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!C$(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,Zt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,Zt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,Hn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(U(this,Zt)&&(U(this,lo)?U(this,Zt).cancel({revert:!0}):U(this,Zt).cancelRetry()),this.scheduleGc()),U(this,Hn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Yt(this,yr,as).call(this,{type:"invalidate"})}fetch(t,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(U(this,Zt))return U(this,Zt).continueRetry(),U(this,Zt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Te(this,lo,!0),r.signal)})},i=()=>{const h=pN(this.options,n),x=(()=>{const v={client:U(this,ao),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return Te(this,lo,!1),this.options.persister?this.options.persister(h,x,this):h(x)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:U(this,ao),state:this.state,fetchFn:i};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(a,this),Te(this,oo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Yt(this,yr,as).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,x,v,y;qm(h)&&h.silent||Yt(this,yr,as).call(this,{type:"error",error:h}),qm(h)||((x=(m=U(this,Hn).config).onError)==null||x.call(m,h,this),(y=(v=U(this,Hn).config).onSettled)==null||y.call(v,this.state.data,h,this)),this.scheduleGc()};return Te(this,Zt,xN({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,x,v,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){c(b);return}(x=(m=U(this,Hn).config).onSuccess)==null||x.call(m,h,this),(y=(v=U(this,Hn).config).onSettled)==null||y.call(v,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Yt(this,yr,as).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Yt(this,yr,as).call(this,{type:"pause"})},onContinue:()=>{Yt(this,yr,as).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,Zt).start()}},Aa=new WeakMap,oo=new WeakMap,Hn=new WeakMap,ao=new WeakMap,Zt=new WeakMap,Hc=new WeakMap,lo=new WeakMap,yr=new WeakSet,as=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...F$(r.data,this.options),fetchMeta:t.meta??null};case"success":return Te(this,oo,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return qm(s)&&s.revert&&U(this,oo)?{...U(this,oo),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),U(this,Hn).notify({query:this,type:"updated",action:t})})},N1);function F$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $$(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $r,k1,V$=(k1=class extends Th{constructor(t={}){super();ze(this,$r);this.config=t,Te(this,$r,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??ax(s,n);let o=this.get(i);return o||(o=new L$({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){U(this,$r).has(t.queryHash)||(U(this,$r).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=U(this,$r).get(t.queryHash);n&&(t.destroy(),n===t&&U(this,$r).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){un.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,$r).get(t)}getAll(){return[...U(this,$r).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Db(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Db(t,r)):n}notify(t){un.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){un.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){un.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$r=new WeakMap,k1),Vr,an,co,Br,Ls,T1,B$=(T1=class extends wN{constructor(t){super();ze(this,Br);ze(this,Vr);ze(this,an);ze(this,co);this.mutationId=t.mutationId,Te(this,an,t.mutationCache),Te(this,Vr,[]),this.state=t.state||U$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,Vr).includes(t)||(U(this,Vr).push(t),this.clearGcTimeout(),U(this,an).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Te(this,Vr,U(this,Vr).filter(n=>n!==t)),this.scheduleGc(),U(this,an).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,Vr).length||(this.state.status==="pending"?this.scheduleGc():U(this,an).remove(this))}continue(){var t;return((t=U(this,co))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,a,c,u,d,f,h,m,x,v,y,b,g,w,_,S,C,j,E;const n=()=>{Yt(this,Br,Ls).call(this,{type:"continue"})};Te(this,co,xN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,R)=>{Yt(this,Br,Ls).call(this,{type:"failed",failureCount:k,error:R})},onPause:()=>{Yt(this,Br,Ls).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,an).canRun(this)}));const r=this.state.status==="pending",s=!U(this,co).canStart();try{if(r)n();else{Yt(this,Br,Ls).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=U(this,an).config).onMutate)==null?void 0:o.call(i,t,this));const R=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,t));R!==this.state.context&&Yt(this,Br,Ls).call(this,{type:"pending",context:R,variables:t,isPaused:s})}const k=await U(this,co).start();return await((d=(u=U(this,an).config).onSuccess)==null?void 0:d.call(u,k,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,k,t,this.state.context)),await((x=(m=U(this,an).config).onSettled)==null?void 0:x.call(m,k,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,k,null,t,this.state.context)),Yt(this,Br,Ls).call(this,{type:"success",data:k}),k}catch(k){try{throw await((g=(b=U(this,an).config).onError)==null?void 0:g.call(b,k,t,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,k,t,this.state.context)),await((C=(S=U(this,an).config).onSettled)==null?void 0:C.call(S,void 0,k,this.state.variables,this.state.context,this)),await((E=(j=this.options).onSettled)==null?void 0:E.call(j,void 0,k,t,this.state.context)),k}finally{Yt(this,Br,Ls).call(this,{type:"error",error:k})}}finally{U(this,an).runNext(this)}}},Vr=new WeakMap,an=new WeakMap,co=new WeakMap,Br=new WeakSet,Ls=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),un.batch(()=>{U(this,Vr).forEach(r=>{r.onMutationUpdate(t)}),U(this,an).notify({mutation:this,type:"updated",action:t})})},T1);function U$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var us,xr,Kc,P1,z$=(P1=class extends Th{constructor(t={}){super();ze(this,us);ze(this,xr);ze(this,Kc);this.config=t,Te(this,us,new Set),Te(this,xr,new Map),Te(this,Kc,0)}build(t,n,r){const s=new B$({mutationCache:this,mutationId:++Eu(this,Kc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){U(this,us).add(t);const n=Yu(t);if(typeof n=="string"){const r=U(this,xr).get(n);r?r.push(t):U(this,xr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(U(this,us).delete(t)){const n=Yu(t);if(typeof n=="string"){const r=U(this,xr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&U(this,xr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Yu(t);if(typeof n=="string"){const r=U(this,xr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Yu(t);if(typeof n=="string"){const s=(r=U(this,xr).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){un.batch(()=>{U(this,us).forEach(t=>{this.notify({type:"removed",mutation:t})}),U(this,us).clear(),U(this,xr).clear()})}getAll(){return Array.from(U(this,us))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Ib(n,r))}findAll(t={}){return this.getAll().filter(n=>Ib(t,n))}notify(t){un.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return un.batch(()=>Promise.all(t.map(n=>n.continue().catch(gr))))}},us=new WeakMap,xr=new WeakMap,Kc=new WeakMap,P1);function Yu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function $b(e){return{onFetch:(t,n)=>{var d,f,h,m,x;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},b=pN(t.options,t.fetchOptions),g=async(w,_,S)=>{if(v)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const j=(()=>{const W={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return y(W),W})(),E=await b(j),{maxPages:k}=t.options,R=S?P$:T$;return{pages:R(w.pages,E,k),pageParams:R(w.pageParams,_,k)}};if(s&&i.length){const w=s==="backward",_=w?W$:Vb,S={pages:i,pageParams:o},C=_(r,S);a=await g(S,C,w)}else{const w=e??i.length;do{const _=c===0?o[0]??r.initialPageParam:Vb(r,a);if(c>0&&_==null)break;a=await g(a,_),c++}while(c<w)}return a};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Vb(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function W$(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ht,Ys,Qs,Ra,Oa,Xs,Ma,Da,A1,H$=(A1=class{constructor(e={}){ze(this,ht);ze(this,Ys);ze(this,Qs);ze(this,Ra);ze(this,Oa);ze(this,Xs);ze(this,Ma);ze(this,Da);Te(this,ht,e.queryCache||new V$),Te(this,Ys,e.mutationCache||new z$),Te(this,Qs,e.defaultOptions||{}),Te(this,Ra,new Map),Te(this,Oa,new Map),Te(this,Xs,0)}mount(){Eu(this,Xs)._++,U(this,Xs)===1&&(Te(this,Ma,gN.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,ht).onFocus())})),Te(this,Da,vf.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,ht).onOnline())})))}unmount(){var e,t;Eu(this,Xs)._--,U(this,Xs)===0&&((e=U(this,Ma))==null||e.call(this),Te(this,Ma,void 0),(t=U(this,Da))==null||t.call(this),Te(this,Da,void 0))}isFetching(e){return U(this,ht).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,Ys).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,ht).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=U(this,ht).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime($g(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return U(this,ht).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=U(this,ht).get(r.queryHash),i=s==null?void 0:s.state.data,o=S$(t,i);if(o!==void 0)return U(this,ht).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return un.batch(()=>U(this,ht).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,ht).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=U(this,ht);un.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=U(this,ht);return un.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=un.batch(()=>U(this,ht).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(gr).catch(gr)}invalidateQueries(e,t={}){return un.batch(()=>(U(this,ht).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=un.batch(()=>U(this,ht).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(gr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(gr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=U(this,ht).build(this,t);return n.isStaleByTime($g(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gr).catch(gr)}fetchInfiniteQuery(e){return e.behavior=$b(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gr).catch(gr)}ensureInfiniteQueryData(e){return e.behavior=$b(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vf.isOnline()?U(this,Ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,ht)}getMutationCache(){return U(this,Ys)}getDefaultOptions(){return U(this,Qs)}setDefaultOptions(e){Te(this,Qs,e)}setQueryDefaults(e,t){U(this,Ra).set(kc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,Ra).values()],n={};return t.forEach(r=>{Tc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){U(this,Oa).set(kc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,Oa).values()],n={};return t.forEach(r=>{Tc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,Qs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ax(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===lx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,Qs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,ht).clear(),U(this,Ys).clear()}},ht=new WeakMap,Ys=new WeakMap,Qs=new WeakMap,Ra=new WeakMap,Oa=new WeakMap,Xs=new WeakMap,Ma=new WeakMap,Da=new WeakMap,A1),K$=p.createContext(void 0),q$=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(K$.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pc.apply(this,arguments)}var ei;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ei||(ei={}));const Bb="popstate";function G$(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:a="",hash:c=""}=Ro(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Bg("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");a=u===-1?c:c.slice(0,u)}return a+"#"+(typeof i=="string"?i:yf(i))}function r(s,i){cx(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Q$(t,n,r,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Y$(){return Math.random().toString(36).substr(2,8)}function Ub(e,t){return{usr:e.state,key:e.key,idx:t}}function Bg(e,t,n,r){return n===void 0&&(n=null),Pc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ro(t):t,{state:n,key:t&&t.key||r||Y$()})}function yf(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ro(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Q$(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ei.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Pc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=ei.Pop;let y=d(),b=y==null?null:y-u;u=y,c&&c({action:a,location:v.location,delta:b})}function h(y,b){a=ei.Push;let g=Bg(v.location,y,b);n&&n(g,y),u=d()+1;let w=Ub(g,u),_=v.createHref(g);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&c&&c({action:a,location:v.location,delta:1})}function m(y,b){a=ei.Replace;let g=Bg(v.location,y,b);n&&n(g,y),u=d();let w=Ub(g,u),_=v.createHref(g);o.replaceState(w,"",_),i&&c&&c({action:a,location:v.location,delta:0})}function x(y){let b=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof y=="string"?y:yf(y);return g=g.replace(/ $/,"%20"),_t(b,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,b)}let v={get action(){return a},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Bb,f),c=y,()=>{s.removeEventListener(Bb,f),c=null}},createHref(y){return t(s,y)},createURL:x,encodeLocation(y){let b=x(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(y){return o.go(y)}};return v}var zb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zb||(zb={}));function X$(e,t,n){return n===void 0&&(n="/"),Z$(e,t,n,!1)}function Z$(e,t,n,r){let s=typeof t=="string"?Ro(t):t,i=ux(s.pathname||"/",n);if(i==null)return null;let o=bN(e);J$(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=u3(i);a=l3(o[c],u,r)}return a}function bN(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(_t(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ci([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(_t(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bN(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:o3(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of _N(i.path))s(i,o,c)}),t}function _N(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=_N(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function J$(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:a3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const e3=/^:[\w-]+$/,t3=3,n3=2,r3=1,s3=10,i3=-2,Wb=e=>e==="*";function o3(e,t){let n=e.split("/"),r=n.length;return n.some(Wb)&&(r+=i3),t&&(r+=n3),n.filter(s=>!Wb(s)).reduce((s,i)=>s+(e3.test(i)?t3:i===""?r3:s3),r)}function a3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function l3(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Hb({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Hb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ci([i,f.pathname]),pathnameBase:m3(ci([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ci([i,f.pathnameBase]))}return o}function Hb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=c3(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=a[f];return m&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function c3(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),cx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function u3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ux(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function d3(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ro(e):e;return{pathname:n?n.startsWith("/")?n:f3(n,t):t,search:p3(r),hash:g3(s)}}function f3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Gm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dx(e,t){let n=h3(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fx(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ro(e):(s=Pc({},e),_t(!s.pathname||!s.pathname.includes("?"),Gm("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),Gm("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),Gm("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let c=d3(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ci=e=>e.join("/").replace(/\/\/+/g,"/"),m3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,g3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function v3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const SN=["post","put","patch","delete"];new Set(SN);const y3=["get",...SN];new Set(y3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ac.apply(this,arguments)}const hx=p.createContext(null),x3=p.createContext(null),Ei=p.createContext(null),Ah=p.createContext(null),Ns=p.createContext({outlet:null,matches:[],isDataRoute:!1}),jN=p.createContext(null);function w3(e,t){let{relative:n}=t===void 0?{}:t;ul()||_t(!1);let{basename:r,navigator:s}=p.useContext(Ei),{hash:i,pathname:o,search:a}=EN(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ci([r,o])),s.createHref({pathname:c,search:a,hash:i})}function ul(){return p.useContext(Ah)!=null}function Ni(){return ul()||_t(!1),p.useContext(Ah).location}function CN(e){p.useContext(Ei).static||p.useLayoutEffect(e)}function Rh(){let{isDataRoute:e}=p.useContext(Ns);return e?D3():b3()}function b3(){ul()||_t(!1);let e=p.useContext(hx),{basename:t,future:n,navigator:r}=p.useContext(Ei),{matches:s}=p.useContext(Ns),{pathname:i}=Ni(),o=JSON.stringify(dx(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return CN(()=>{a.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=fx(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ci([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}const _3=p.createContext(null);function S3(e){let t=p.useContext(Ns).outlet;return t&&p.createElement(_3.Provider,{value:e},t)}function EN(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(Ei),{matches:s}=p.useContext(Ns),{pathname:i}=Ni(),o=JSON.stringify(dx(s,r.v7_relativeSplatPath));return p.useMemo(()=>fx(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function j3(e,t){return C3(e,t)}function C3(e,t,n,r){ul()||_t(!1);let{navigator:s}=p.useContext(Ei),{matches:i}=p.useContext(Ns),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ni(),d;if(t){var f;let y=typeof t=="string"?Ro(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||_t(!1),d=y}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=X$(e,{pathname:m}),v=P3(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:ci([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:ci([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return t&&v?p.createElement(Ah.Provider,{value:{location:Ac({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ei.Pop}},v):v}function E3(){let e=M3(),t=v3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const N3=p.createElement(E3,null);class k3 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(Ns.Provider,{value:this.props.routeContext},p.createElement(jN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T3(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(hx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Ns.Provider,{value:t},r)}function P3(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||_t(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,x=!1,v=null,y=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||N3,c&&(u<0&&h===0?(x=!0,y=null):u===h&&(x=!0,y=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),g=()=>{let w;return m?w=v:x?w=y:f.route.Component?w=p.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,p.createElement(T3,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(k3,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):g()},null)}var NN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(NN||{}),xf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xf||{});function A3(e){let t=p.useContext(hx);return t||_t(!1),t}function R3(e){let t=p.useContext(x3);return t||_t(!1),t}function O3(e){let t=p.useContext(Ns);return t||_t(!1),t}function kN(e){let t=O3(),n=t.matches[t.matches.length-1];return n.route.id||_t(!1),n.route.id}function M3(){var e;let t=p.useContext(jN),n=R3(xf.UseRouteError),r=kN(xf.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function D3(){let{router:e}=A3(NN.UseNavigateStable),t=kN(xf.UseNavigateStable),n=p.useRef(!1);return CN(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ac({fromRouteId:t},i)))},[e,t])}function I3(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mx(e){let{to:t,replace:n,state:r,relative:s}=e;ul()||_t(!1);let{future:i,static:o}=p.useContext(Ei),{matches:a}=p.useContext(Ns),{pathname:c}=Ni(),u=Rh(),d=fx(t,dx(a,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function L3(e){return S3(e.context)}function Pn(e){_t(!1)}function F3(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ei.Pop,navigator:i,static:o=!1,future:a}=e;ul()&&_t(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:Ac({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Ro(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:x="default"}=r,v=p.useMemo(()=>{let y=ux(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:x},navigationType:s}},[c,d,f,h,m,x,s]);return v==null?null:p.createElement(Ei.Provider,{value:u},p.createElement(Ah.Provider,{children:n,value:v}))}function $3(e){let{children:t,location:n}=e;return j3(Ug(t),n)}new Promise(()=>{});function Ug(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let i=[...t,s];if(r.type===p.Fragment){n.push.apply(n,Ug(r.props.children,i));return}r.type!==Pn&&_t(!1),!r.props.index||!r.props.children||_t(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ug(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zg.apply(this,arguments)}function V3(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function B3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function U3(e,t){return e.button===0&&(!t||t==="_self")&&!B3(e)}const z3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],W3="6";try{window.__reactRouterVersion=W3}catch{}const H3="startTransition",Kb=Zv[H3];function K3(e){let{basename:t,children:n,future:r,window:s}=e,i=p.useRef();i.current==null&&(i.current=G$({window:s,v5Compat:!0}));let o=i.current,[a,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=p.useCallback(f=>{u&&Kb?Kb(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>I3(r),[r]),p.createElement(F3,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const q3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=V3(t,z3),{basename:m}=p.useContext(Ei),x,v=!1;if(typeof u=="string"&&G3.test(u)&&(x=u,q3))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=ux(_.pathname,m);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:v=!0}catch{}let y=w3(u,{relative:s}),b=Y3(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function g(w){r&&r(w),w.defaultPrevented||b(w)}return p.createElement("a",zg({},h,{href:x||y,onClick:v||i?r:g,ref:n,target:c}))});var qb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qb||(qb={}));var Gb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gb||(Gb={}));function Y3(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Rh(),u=Ni(),d=EN(e,{relative:o});return p.useCallback(f=>{if(U3(f,n)){f.preventDefault();let h=r!==void 0?r:yf(u)===yf(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,r,s,n,e,i,o,a])}var px={},wf={},Wg=function(e,t){return Wg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Wg(e,t)};function TN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Wg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Yn=function(){return Yn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Yn.apply(this,arguments)};function ki(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function PN(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function AN(e,t){return function(n,r){t(n,r,e)}}function RN(e,t,n,r,s,i){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?r.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f,h=!1,m=n.length-1;m>=0;m--){var x={};for(var v in r)x[v]=v==="access"?{}:r[v];for(var v in r.access)x.access[v]=r.access[v];x.addInitializer=function(b){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(b||null))};var y=(0,n[m])(a==="accessor"?{get:d.get,set:d.set}:d[c],x);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=o(y.get))&&(d.get=f),(f=o(y.set))&&(d.set=f),(f=o(y.init))&&s.unshift(f)}else(f=o(y))&&(a==="field"?s.unshift(f):d[c]=f)}u&&Object.defineProperty(u,r.name,d),h=!0}function ON(e,t,n){for(var r=arguments.length>2,s=0;s<t.length;s++)n=r?t[s].call(e,n):t[s].call(e);return r?n:void 0}function MN(e){return typeof e=="symbol"?e:"".concat(e)}function DN(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function IN(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function le(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function LN(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Oh=Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function FN(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Oh(t,e,n)}function bf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gx(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function $N(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gx(arguments[t]));return e}function VN(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function vx(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Ha(e){return this instanceof Ha?(this.v=e,this):new Ha(e)}function BN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(m){return function(x){return Promise.resolve(x).then(m,f)}}function a(m,x){r[m]&&(s[m]=function(v){return new Promise(function(y,b){i.push([m,v,y,b])>1||c(m,v)})},x&&(s[m]=x(s[m])))}function c(m,x){try{u(r[m](x))}catch(v){h(i[0][3],v)}}function u(m){m.value instanceof Ha?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function h(m,x){m(x),i.shift(),i.length&&c(i[0][0],i[0][1])}}function UN(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=e[s]?function(o){return(n=!n)?{value:Ha(e[s](o)),done:!1}:i?i(o):o}:i}}function zN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof bf=="function"?bf(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function WN(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Q3=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Hg=function(e){return Hg=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Hg(e)};function HN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Hg(e),r=0;r<n.length;r++)n[r]!=="default"&&Oh(t,e,n[r]);return Q3(t,e),t}function KN(e){return e&&e.__esModule?e:{default:e}}function qN(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function GN(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function YN(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function QN(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var X3=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function XN(e){function t(i){e.error=e.hasError?new X3(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,r=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function ZN(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?t?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):e}const Z3={__extends:TN,__assign:Yn,__rest:ki,__decorate:PN,__param:AN,__esDecorate:RN,__runInitializers:ON,__propKey:MN,__setFunctionName:DN,__metadata:IN,__awaiter:le,__generator:LN,__createBinding:Oh,__exportStar:FN,__values:bf,__read:gx,__spread:$N,__spreadArrays:VN,__spreadArray:vx,__await:Ha,__asyncGenerator:BN,__asyncDelegator:UN,__asyncValues:zN,__makeTemplateObject:WN,__importStar:HN,__importDefault:KN,__classPrivateFieldGet:qN,__classPrivateFieldSet:GN,__classPrivateFieldIn:YN,__addDisposableResource:QN,__disposeResources:XN,__rewriteRelativeImportExtension:ZN},J3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:QN,get __assign(){return Yn},__asyncDelegator:UN,__asyncGenerator:BN,__asyncValues:zN,__await:Ha,__awaiter:le,__classPrivateFieldGet:qN,__classPrivateFieldIn:YN,__classPrivateFieldSet:GN,__createBinding:Oh,__decorate:PN,__disposeResources:XN,__esDecorate:RN,__exportStar:FN,__extends:TN,__generator:LN,__importDefault:KN,__importStar:HN,__makeTemplateObject:WN,__metadata:IN,__param:AN,__propKey:MN,__read:gx,__rest:ki,__rewriteRelativeImportExtension:ZN,__runInitializers:ON,__setFunctionName:DN,__spread:$N,__spreadArray:vx,__spreadArrays:VN,__values:bf,default:Z3},Symbol.toStringTag,{value:"Module"})),e5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Mh=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},JN=class extends Mh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Kg=class extends Mh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},qg=class extends Mh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var _f;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_f||(_f={}));class t5{constructor(t,{headers:n={},customFetch:r,region:s=_f.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=e5(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return le(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:c,body:u,signal:d,timeout:f}=r;let h={},{region:m}=r;m||(m=this.region);const x=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,x.searchParams.set("forceFunctionRegion",m));let v;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(h["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(h["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let y=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(y=o.signal,d.addEventListener("abort",()=>o.abort())):y=o.signal);const b=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:v,signal:y}).catch(S=>{throw new JN(S)}),g=b.headers.get("x-relay-error");if(g&&g==="true")throw new Kg(b);if(!b.ok)throw new qg(b);let w=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(a){return{data:null,error:a,response:a instanceof qg||a instanceof Kg?a.context:void 0}}finally{i&&clearTimeout(i)}})}}const n5=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return _f},FunctionsClient:t5,FunctionsError:Mh,FunctionsFetchError:JN,FunctionsHttpError:qg,FunctionsRelayError:Kg},Symbol.toStringTag,{value:"Module"})),ek=qc(n5);var tn={};const dl=qc(J3);var Qu={},Xu={},Zu={},Ju={},ed={},td={},Yb;function tk(){if(Yb)return td;Yb=1,Object.defineProperty(td,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return td.default=e,td}var Qb;function nk(){if(Qb)return ed;Qb=1,Object.defineProperty(ed,"__esModule",{value:!0});const t=dl.__importDefault(tk());let n=class{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,h;let m=null,x=null,v=null,y=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?x=S:x=JSON.parse(S))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&_&&_.length>1&&(v=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(m={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,v=null,y=406,b="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const w=await c.text();try{m=JSON.parse(w),Array.isArray(m)&&c.status===404&&(x=[],m=null,y=200,b="OK")}catch{c.status===404&&w===""?(y=204,b="No Content"):m={message:w}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,y=200,b="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:x,count:v,status:y,statusText:b}});return this.shouldThrowOnError||(a=a.catch(c=>{var u,d,f,h,m,x;let v="";const y=c==null?void 0:c.cause;if(y){const b=(u=y==null?void 0:y.message)!==null&&u!==void 0?u:"",g=(d=y==null?void 0:y.code)!==null&&d!==void 0?d:"";v=`${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"FetchError"}: ${c==null?void 0:c.message}`,v+=`

Caused by: ${(h=y==null?void 0:y.name)!==null&&h!==void 0?h:"Error"}: ${b}`,g&&(v+=` (${g})`),y!=null&&y.stack&&(v+=`
${y.stack}`)}else v=(m=c==null?void 0:c.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"FetchError"}: ${c==null?void 0:c.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}};return ed.default=n,ed}var Xb;function rk(){if(Xb)return Ju;Xb=1,Object.defineProperty(Ju,"__esModule",{value:!0});const t=dl.__importDefault(nk());let n=class extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const c=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:c=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return Ju.default=n,Ju}var Zb;function yx(){if(Zb)return Zu;Zb=1,Object.defineProperty(Zu,"__esModule",{value:!0});const t=dl.__importDefault(rk()),n=new RegExp("[,()]");let r=class extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}};return Zu.default=r,Zu}var Jb;function sk(){if(Jb)return Xu;Jb=1,Object.defineProperty(Xu,"__esModule",{value:!0});const t=dl.__importDefault(yx());let n=class{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return Xu.default=n,Xu}var e_;function r5(){if(e_)return Qu;e_=1,Object.defineProperty(Qu,"__esModule",{value:!0});const e=dl,t=e.__importDefault(sk()),n=e.__importDefault(yx());let r=class ik{constructor(i,{headers:o={},schema:a,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new ik(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;a||c?(f=a?"HEAD":"GET",Object.entries(o).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{h.searchParams.append(v,y)})):(f="POST",m=o);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new n.default({method:f,url:h,headers:x,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return Qu.default=r,Qu}Object.defineProperty(tn,"__esModule",{value:!0});tn.PostgrestError=tn.PostgrestBuilder=tn.PostgrestTransformBuilder=tn.PostgrestFilterBuilder=tn.PostgrestQueryBuilder=tn.PostgrestClient=void 0;const fl=dl,ok=fl.__importDefault(r5());tn.PostgrestClient=ok.default;const ak=fl.__importDefault(sk());tn.PostgrestQueryBuilder=ak.default;const lk=fl.__importDefault(yx());tn.PostgrestFilterBuilder=lk.default;const ck=fl.__importDefault(rk());tn.PostgrestTransformBuilder=ck.default;const uk=fl.__importDefault(nk());tn.PostgrestBuilder=uk.default;const dk=fl.__importDefault(tk());tn.PostgrestError=dk.default;tn.default={PostgrestClient:ok.default,PostgrestQueryBuilder:ak.default,PostgrestFilterBuilder:lk.default,PostgrestTransformBuilder:ck.default,PostgrestBuilder:uk.default,PostgrestError:dk.default};class fk{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const s5="2.87.1",i5=`realtime-js/${s5}`,hk="1.0.0",o5="2.0.0",t_=hk,Gg=1e4,a5=1e3,l5=100;var Gi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gi||(Gi={}));var Ct;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ct||(Ct={}));var br;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(br||(br={}));var Yg;(function(e){e.websocket="websocket"})(Yg||(Yg={}));var Yi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yi||(Yi={}));class c5{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let x=new DataView(m),v=0;x.setUint8(v++,this.KINDS.userBroadcastPush),x.setUint8(v++,c.length),x.setUint8(v++,a.length),x.setUint8(v++,o.length),x.setUint8(v++,u.length),x.setUint8(v++,f.length),x.setUint8(v++,n),Array.from(c,b=>x.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>x.setUint8(v++,b.charCodeAt(0))),Array.from(o,b=>x.setUint8(v++,b.charCodeAt(0))),Array.from(u,b=>x.setUint8(v++,b.charCodeAt(0))),Array.from(f,b=>x.setUint8(v++,b.charCodeAt(0)));var y=new Uint8Array(m.byteLength+r.byteLength);return y.set(new Uint8Array(m),0),y.set(new Uint8Array(r),m.byteLength),y.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,c]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+i));c=c+i;const f=r.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,x={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(x.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class mk{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ze||(Ze={}));const n_=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=u5(o,e,t,s),i),{}):{}},u5=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?pk(i,o):Qg(o)},pk=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return m5(t,n)}switch(e){case Ze.bool:return d5(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return f5(t);case Ze.json:case Ze.jsonb:return h5(t);case Ze.timestamp:return p5(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return Qg(t);default:return Qg(t)}},Qg=e=>e,d5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},f5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},h5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},m5=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>pk(t,a))}return e},p5=e=>typeof e=="string"?e.replace(" ","T"):e,gk=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ym{constructor(t,n,r={},s=Gg){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Xg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Xg||(Xg={}));let vk=class Td{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Td.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Td.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Td.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),x=d.filter(y=>m.indexOf(y.presence_ref)<0),v=f.filter(y=>h.indexOf(y.presence_ref)<0);x.length>0&&(a[u]=x),v.length>0&&(c[u]=v)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const f=t[a].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...h)}r(a,d,c)}),this.map(o,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Zg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Zg||(Zg={}));var Sa;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Sa||(Sa={}));var Fr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fr||(Fr={}));const g5=Ct;let yk=class Fl{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ym(this,br.join,this.params,this.timeout),this.rejoinTimer=new mk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ct.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(br.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new vk(this),this.broadcastEndpointURL=gk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ct.closed){const{config:{broadcast:o,presence:a,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Sa.PRESENCE]&&this.bindings[Sa.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Fr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Fr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Fr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,b=[];for(let g=0;g<y;g++){const w=v[g],{filter:{event:_,schema:S,table:C,filter:j}}=w,E=m&&m[g];if(E&&E.event===_&&Fl.isFilterValueEqual(E.schema,S)&&Fl.isFilterValueEqual(E.table,C)&&Fl.isFilterValueEqual(E.filter,j))b.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=Ct.errored,t==null||t(Fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Fr.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ct.errored,t==null||t(Fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ct.joined&&t===Sa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ct.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(br.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Ym(this,br.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ct.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ym(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>l5){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=br;if(r&&[a,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var x,v,y;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(v=m.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var x,v,y,b,g,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,S=(x=m.filter)===null||x===void 0?void 0:x.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(g=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:v,table:y,commit_timestamp:b,type:g,errors:w}=x;h=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:b,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(x))}m.callback(h,r)})}_isClosed(){return this.state===Ct.closed}_isJoined(){return this.state===Ct.joined}_isJoining(){return this.state===Ct.joining}_isLeaving(){return this.state===Ct.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Fl.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(br.close,{},t)}_onError(t){this._on(br.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ct.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=n_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=n_(t.columns,t.old_record)),n}};const Qm=()=>{},nd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},v5=[1e3,2e3,5e3,1e4],y5=1e4,x5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let w5=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gg,this.transport=null,this.heartbeatIntervalMs=nd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qm,this.ref=0,this.reconnectTimer=null,this.vsn=t_,this.logger=Qm,this.conn=null,this.sendBuffer=[],this.serializer=new c5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Yg.websocket}`,this.httpEndpoint=gk(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fk.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gi.connecting:return Yi.Connecting;case Gi.open:return Yi.Open;case Gi.closing:return Yi.Closing;default:return Yi.Closed}}isConnected(){return this.connectionState()===Yi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new yk(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(a5,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},nd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Gi.open||this.conn.readyState===Gi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(br.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([x5],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:i5};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(br.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new mk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,c,u,d,f,h,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Gg,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:nd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Qm,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:t_,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>v5[x-1]||y5,this.vsn){case hk:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(x,v)=>v(JSON.stringify(x)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(x,v)=>v(JSON.parse(x));break;case o5:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const b5=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:g5,get REALTIME_LISTEN_TYPES(){return Sa},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Zg},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Xg},get REALTIME_SUBSCRIBE_STATES(){return Fr},RealtimeChannel:yk,RealtimeClient:w5,RealtimePresence:vk,WebSocketFactory:fk},Symbol.toStringTag,{value:"Module"})),xk=qc(b5);class su extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function it(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class wk extends su{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sf extends su{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const xx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_5=()=>Response,Jg=e=>{if(Array.isArray(e))return e.map(n=>Jg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Jg(r)}),t},S5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},j5=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Xm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},C5=(e,t,n)=>le(void 0,void 0,void 0,function*(){const r=yield _5();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new wk(Xm(s),i,o))}).catch(s=>{t(new Sf(Xm(s),s))}):t(new Sf(Xm(e),e))}),E5=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(S5(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function iu(e,t,n,r,s,i){return le(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,E5(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>C5(c,a,r))})})}function Rc(e,t,n,r){return le(this,void 0,void 0,function*(){return iu(e,"GET",t,n,r)})}function vr(e,t,n,r,s){return le(this,void 0,void 0,function*(){return iu(e,"POST",t,r,s,n)})}function ev(e,t,n,r,s){return le(this,void 0,void 0,function*(){return iu(e,"PUT",t,r,s,n)})}function N5(e,t,n,r){return le(this,void 0,void 0,function*(){return iu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function wx(e,t,n,r,s){return le(this,void 0,void 0,function*(){return iu(e,"DELETE",t,r,s,n)})}class k5{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}})}}var bk;class T5{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[bk]="BlobDownloadBuilder",this.promise=null}asStream(){return new k5(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}})}}bk=Symbol.toStringTag;const P5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},r_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class A5{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=xx(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return le(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},r_),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?ev:vr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}})}upload(t,n,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return le(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:r_.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield ev(this.fetch,a.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(it(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return le(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield vr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new su("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}update(t,n,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return le(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}copy(t,n,r){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield vr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return le(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield vr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return le(this,void 0,void 0,function*(){try{const s=yield vr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),c=()=>Rc(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new T5(c,this.shouldThrowOnError)}info(t){return le(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Rc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Jg(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}exists(t){return le(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield N5(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r)&&r instanceof Sf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return le(this,void 0,void 0,function*(){try{return{data:yield wx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}list(t,n,r){return le(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},P5),n),{prefix:t||""});return{data:yield vr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}listV2(t,n){return le(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield vr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const _k="2.87.1",Sk={"X-Client-Info":`storage-js/${_k}`};class R5{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sk),n),this.fetch=xx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return le(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Rc(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}getBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}createBucket(t){return le(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield vr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return le(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}emptyBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield wx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Oc=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function O5(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function M5(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function D5(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=O5(e.baseUrl,r,s),c=await M5(e.auth),u=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,x=m==null?void 0:m.error;throw new Oc((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function rd(e){return e.join("")}var I5=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:rd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rd(e.namespace)}`}),!0}catch(t){if(t instanceof Oc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Oc&&n.status===409)return;throw n}}};function Vo(e){return e.join("")}var L5=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Oc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Oc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},F5=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=D5({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new I5(this.client,t),this.tableOps=new L5(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class jk{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sk),n),this.fetch=xx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}listBuckets(t){return le(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Rc(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield wx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}from(t){if(!j5(t))throw new su("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new F5({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>le(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:(...c)=>le(this,void 0,void 0,function*(){try{return{data:yield a.apply(i,c),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}})}})}}const bx={"X-Client-Info":`storage-js/${_k}`,"Content-Type":"application/json"};class _x extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Sn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Pd extends _x{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ck extends _x{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var tv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(tv||(tv={}));const Dh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$5=()=>Response,Ek=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},V5=e=>Array.from(new Float32Array(e)),B5=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},s_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),U5=(e,t,n)=>le(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new Pd(s_(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new Pd(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new Pd(a,s,o))}}else t(new Ck(s_(e),e))}),z5=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(Ek(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function W5(e,t,n,r,s,i){return le(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,z5(t,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>U5(c,a,r))})})}function Mn(e,t,n,r,s){return le(this,void 0,void 0,function*(){return W5(e,"POST",t,r,s,n)})}class Nk{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bx),n),this.fetch=Dh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return le(this,void 0,void 0,function*(){try{return{data:(yield Mn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}getIndex(t,n){return le(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sn(r))return{data:null,error:r};throw r}})}listIndexes(t){return le(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return le(this,void 0,void 0,function*(){try{return{data:(yield Mn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sn(r))return{data:null,error:r};throw r}})}}class kk{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bx),n),this.fetch=Dh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return le(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Mn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}getVectors(t){return le(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}listVectors(t){return le(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Mn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}queryVectors(t){return le(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}deleteVectors(t){return le(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Mn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}}class Tk{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bx),n),this.fetch=Dh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return le(this,void 0,void 0,function*(){try{return{data:(yield Mn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}getBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}listBuckets(){return le(this,arguments,void 0,function*(t={}){try{return{data:yield Mn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:(yield Mn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sn(n))return{data:null,error:n};throw n}})}}class Pk extends Tk{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new Ak(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return le(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return le(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return le(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return le(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class Ak extends Nk{constructor(t,n,r,s){super(t,n,s),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return le(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return le(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return le(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return le(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Rk(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Rk extends kk{constructor(t,n,r,s,i){super(t,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return le(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return le(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return le(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return le(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return le(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class H5 extends R5{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new A5(this.url,this.headers,t,this.fetch)}get vectors(){return new Pk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new jk(this.url+"/iceberg",this.headers,this.fetch)}}const K5=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:jk,StorageApiError:wk,StorageClient:H5,StorageError:su,StorageUnknownError:Sf,StorageVectorsApiError:Pd,StorageVectorsClient:Pk,StorageVectorsError:_x,get StorageVectorsErrorCode(){return tv},StorageVectorsUnknownError:Ck,VectorBucketApi:Tk,VectorBucketScope:Ak,VectorDataApi:kk,VectorIndexApi:Nk,VectorIndexScope:Rk,isPlainObject:Ek,isStorageError:it,isStorageVectorsError:Sn,normalizeToFloat32:V5,resolveFetch:Dh,resolveResponse:$5,validateVectorDimension:B5},Symbol.toStringTag,{value:"Module"})),q5=qc(K5);var Ok={},Ih={};Object.defineProperty(Ih,"__esModule",{value:!0});Ih.version=void 0;Ih.version="2.87.1";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=Ih;let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Ok);var Mk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=s=>s?(...i)=>s(...i):(...i)=>fetch(...i);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(s,i,o)=>{const a=(0,e.resolveFetch)(o),c=(0,e.resolveHeadersConstructor)();return async(u,d)=>{var f;const h=(f=await i())!==null&&f!==void 0?f:s;let m=new c(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",s),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),a(u,Object.assign(Object.assign({},d),{headers:m}))}};e.fetchWithAuth=r})(Mk);var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.isBrowser=void 0;Ti.uuid=G5;Ti.ensureTrailingSlash=Dk;Ti.applySettingDefaults=Q5;Ti.validateSupabaseUrl=X5;function G5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}function Dk(e){return e.endsWith("/")?e:e+"/"}const Y5=()=>typeof window<"u";Ti.isBrowser=Y5;function Q5(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function X5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Dk(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Lh={};const Ik="2.87.1",Yo=30*1e3,nv=3,Zm=nv*Yo,Z5="http://localhost:9999",J5="supabase.auth.token",eV={"X-Client-Info":`gotrue-js/${Ik}`},rv="X-Supabase-Api-Version",Lk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tV=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nV=10*60*1e3;let Ka=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let Fk=class extends Ka{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function $k(e){return me(e)&&e.name==="AuthApiError"}let Hs=class extends Ka{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},ks=class extends Ka{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}},vn=class extends ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Vk(e){return me(e)&&e.name==="AuthSessionMissingError"}let Ui=class extends ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},$l=class extends ks{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Vl=class extends ks{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Bk(e){return me(e)&&e.name==="AuthImplicitGrantRedirectError"}let sv=class extends ks{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},jf=class extends ks{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Ad(e){return me(e)&&e.name==="AuthRetryableFetchError"}let iv=class extends ks{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function rV(e){return me(e)&&e.name==="AuthWeakPasswordError"}let Cf=class extends ks{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),i_=` 	
\r=`.split(""),sV=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<i_.length;t+=1)e[i_[t].charCodeAt(0)]=-2;for(let t=0;t<Ef.length;t+=1)e[Ef[t].charCodeAt(0)]=t;return e})();function o_(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ef[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ef[r]),t.queuedBits-=6}}function Uk(e,t,n){const r=sV[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function a_(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{aV(o,r,n)};for(let o=0;o<e.length;o+=1)Uk(e.charCodeAt(o),s,i);return t.join("")}function iV(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function oV(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}iV(r,t)}}function aV(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ja(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Uk(e.charCodeAt(s),n,r);return new Uint8Array(t)}function lV(e){const t=[];return oV(e,n=>t.push(n)),new Uint8Array(t)}function eo(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>o_(s,n,r)),o_(null,n,r),t.join("")}function cV(e){return Math.round(Date.now()/1e3)+e}function uV(){return Symbol("auth-callback")}const Wt=()=>typeof window<"u"&&typeof document<"u",Li={tested:!1,writable:!1},zk=()=>{if(!Wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Li.tested)return Li.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Li.tested=!0,Li.writable=!0}catch{Li.tested=!0,Li.writable=!1}return Li.writable};function dV(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Wk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fV=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Fi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},zt=async(e,t)=>{await e.removeItem(t)};class Fh{constructor(){this.promise=new Fh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Fh.promiseConstructor=Promise;function Jm(e){const t=e.split(".");if(t.length!==3)throw new Cf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!tV.test(t[r]))throw new Cf("JWT not in base64url format");return{header:JSON.parse(a_(t[0])),payload:JSON.parse(a_(t[1])),signature:ja(t[2]),raw:{header:t[0],payload:t[1]}}}async function hV(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mV(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function pV(e){return("0"+e.toString(16)).substr(-2)}function gV(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,pV).join("")}async function vV(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function yV(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await vV(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bo(e,t,n=!1){const r=gV();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Qo(e,`${t}-code-verifier`,s);const i=await yV(r);return[i,r===i?"plain":"s256"]}const xV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wV(e){const t=e.headers.get(rv);if(!t||!t.match(xV))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bV(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _V(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Uo(e){if(!SV.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ep(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jV(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function l_(e){return JSON.parse(JSON.stringify(e))}const zi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CV=[502,503,504];async function c_(e){var t;if(!fV(e))throw new jf(zi(e),0);if(CV.includes(e.status))throw new jf(zi(e),e.status);let n;try{n=await e.json()}catch(i){throw new Hs(zi(i),i)}let r;const s=wV(e);if(s&&s.getTime()>=Lk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new iv(zi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new vn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new iv(zi(n),e.status,n.weak_password.reasons);throw new Fk(zi(n),e.status||500,r)}const EV=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function be(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[rv]||(i[rv]=Lk["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await NV(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function NV(e,t,n,r,s,i){const o=EV(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new jf(zi(c),0)}if(a.ok||await c_(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await c_(c)}}function fr(e){var t;let n=null;PV(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=cV(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function u_(e){const t=fr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ks(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kV(e){return{data:e,error:null}}function TV(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=ki(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function d_(e){return e}function PV(e){return e.access_token&&e.refresh_token&&e.expires_in}const Rd=["global","local","others"];let Sx=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Wk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Rd[0]){if(Rd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rd.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ks})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ki(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:TV,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ks})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:d_});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(me(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Uo(t);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ks})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Uo(t);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ks})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Uo(t);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ks})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Uo(t.userId);try{const{data:n,error:r}=await be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Uo(t.userId),Uo(t.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:d_});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(me(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}};function f_(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Wi={debug:!!(globalThis&&zk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let Hk=class extends jx{};class AV extends jx{}async function Kk(e,t,n){Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Hk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const h_={};async function RV(e,t,n){var r;const s=(r=h_[e])!==null&&r!==void 0?r:Promise.resolve(),i=Promise.race([s.catch(()=>null),t>=0?new Promise((o,a)=>{setTimeout(()=>{a(new AV(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return h_[e]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await i}function OV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qk(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function MV(e){return parseInt(e,16)}function DV(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function IV(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=qk(e.address),x=d?`${d}://${r}`:r,v=e.statement?`${e.statement}
`:"",y=`${x} wants you to sign in with your Ethereum account:
${m}

${v}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);g+=`
- ${w}`}b+=g}return`${y}
${b}`}class Et extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Nf extends Et{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function LV({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Gk(o)){if(i.rp.id!==o)return new Et({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function FV({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Gk(r)){if(n.rpId!==r)return new Et({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class $V{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const VV=new $V;function BV(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=ki(e,["challenge","user","excludeCredentials"]),i=ja(t).buffer,o=Object.assign(Object.assign({},n),{id:ja(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ja(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function UV(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=ki(e,["challenge","allowCredentials"]),s=ja(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ja(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function zV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:eo(new Uint8Array(e.response.attestationObject)),clientDataJSON:eo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function WV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:eo(new Uint8Array(s.authenticatorData)),clientDataJSON:eo(new Uint8Array(s.clientDataJSON)),signature:eo(new Uint8Array(s.signature)),userHandle:s.userHandle?eo(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Gk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function m_(){var e,t;return!!(Wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HV(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nf("Browser returned unexpected credential type",t)}:{data:null,error:new Nf("Empty credential response",t)}}catch(t){return{data:null,error:LV({error:t,options:e})}}}async function KV(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nf("Browser returned unexpected credential type",t)}:{data:null,error:new Nf("Empty credential response",t)}}catch(t){return{data:null,error:FV({error:t,options:e})}}}const qV={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},GV={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function kf(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=kf(a,o):r[i]=kf(o)}else r[i]=o}return r}function YV(e,t){return kf(qV,e,t||{})}function QV(e,t){return kf(GV,e,t||{})}class XV{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const c=s??VV.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=YV(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await HV({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=QV(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await KV(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return me(o)?{data:null,error:o}:{data:null,error:new Hs("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ka("rpId is required for WebAuthn authentication")};try{if(!m_())return{data:null,error:new Hs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return me(o)?{data:null,error:o}:{data:null,error:new Hs("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ka("rpId is required for WebAuthn registration")};try{if(!m_())return{data:null,error:new Hs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return me(o)?{data:null,error:o}:{data:null,error:new Hs("Unexpected error in register",o)}}}}OV();const ZV={url:Z5,storageKey:J5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eV,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function p_(e,t,n){return await n()}const zo={};let Cx=class ov{get jwks(){var t,n;return(n=(t=zo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){zo[this.storageKey]=Object.assign(Object.assign({},zo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=zo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zo[this.storageKey]=Object.assign(Object.assign({},zo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},ZV),t);if(this.storageKey=i.storageKey,this.instanceID=(n=ov.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ov.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Wt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Sx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Wk(i.fetch),this.lock=i.lock||p_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Wt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Kk:this.lock=p_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new XV(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:zk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=f_(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=f_(this.memoryStorage)),Wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ik}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Wt()&&(n=dV(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Wt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Bk(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return me(n)?this._returnResult({error:n}):this._returnResult({error:new Hs("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:fr}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Bo(this.storage,this.storageKey)),i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:fr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:fr})}else throw new $l("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await zt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:u_})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:u_})}else throw new $l("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Ui;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,c,u,d,f,h;let m,x;if("message"in t)m=t.message,x=t.signature;else{const{chain:v,wallet:y,statement:b,options:g}=t;let w;if(Wt())if(typeof y=="object")w=y;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")w=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const _=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=qk(S[0]);let j=(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const k=await w.request({method:"eth_chainId"});j=MV(k)}const E={domain:_.host,address:C,statement:b,uri:_.href,version:"1",chainId:j,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=IV(E),x=await w.request({method:"personal_sign",params:[DV(m),C]})}try{const{data:v,error:y}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:x},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:fr});if(y)throw y;if(!v||!v.session||!v.user){const b=new Ui;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(me(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var n,r,s,i,o,a,c,u,d,f,h,m;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:y,wallet:b,statement:g,options:w}=t;let _;if(Wt())if(typeof b=="object")_=b;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let j;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")j=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)j=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)x=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),v=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=C}}try{const{data:y,error:b}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:eo(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:fr});if(b)throw b;if(!y||!y.session||!y.user){const g=new Ui;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(me(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const n=await Fi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:fr});if(await zt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Ui;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:fr}),{data:c,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ui;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Bo(this.storage,this.storageKey));const{error:f}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new $l("You must provide either an email or phone number.")}catch(a){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:fr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,c=null;this.flowType==="pkce"&&([a,c]=await Bo(this.storage,this.storageKey));const u=await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:kV});return!((i=u.data)===null||i===void 0)&&i.url&&Wt()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new vn;const{error:s}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new $l("You must provide either an email or phone number and a type")}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Fi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Zm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Fi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=ep()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=jV(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ks}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vn}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ks})})}catch(n){if(me(n))return Vk(n)&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new vn;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Bo(this.storage,this.storageKey));const{data:u,error:d}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:Ks});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Jm(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new vn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Wt())throw new Vl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new sv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new sv("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=t;if(!i||!a||!o||!u)throw new Vl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:v,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(r){if(me(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Fi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!($k(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=uV(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Bo(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Wt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(me(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:c,access_token:u,nonce:d}=t,f=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:fr}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ui}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await mV(async s=>(s>0&&await hV(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ad(i)&&Date.now()+o-r<Yo})}catch(r){if(this._debug(n,"error",r),me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Wt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Fi(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Fi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Qo(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:ep()}else if(s&&!s.user&&!s.user){const o=await Fi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await zt(this.storage,this.storageKey+"-user"),await Qo(this.storage,this.storageKey,s)):s.user=ep()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Zm;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Zm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ad(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Fh;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new vn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),me(i)){const o={data:null,error:i};return Ad(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await zt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Qo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=l_(s);await Qo(this.storage,this.storageKey,i)}else{const s=l_(n);await Qo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await zt(this.storage,this.storageKey),await zt(this.storage,this.storageKey+"-code-verifier"),await zt(this.storage,this.storageKey+"-user"),this.userStorage&&await zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yo}ms, refresh threshold is ${nv} ticks`),s<=nv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Bo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await be(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?zV(t.webauthn.credential_response):WV(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:c}=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:c}))})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:BV(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:UV(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Jm(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await be(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new vn})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new vn});const o=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Wt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new vn});const o=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Wt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new vn})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new vn})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+nV>s)return r;const{data:i,error:o}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:x}=await this.getSession();if(x||!m.session)return this._returnResult({data:null,error:x});r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=Jm(r);n!=null&&n.allowExpired||bV(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=_V(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,lV(`${a}.${c}`)))throw new Cf("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}};Cx.nextInstanceID={};const JV=Sx,eB=Cx,tB=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:JV,AuthApiError:Fk,AuthClient:eB,AuthError:Ka,AuthImplicitGrantRedirectError:Vl,AuthInvalidCredentialsError:$l,AuthInvalidJwtError:Cf,AuthInvalidTokenResponseError:Ui,AuthPKCEGrantCodeExchangeError:sv,AuthRetryableFetchError:jf,AuthSessionMissingError:vn,AuthUnknownError:Hs,AuthWeakPasswordError:iv,CustomAuthError:ks,GoTrueAdminApi:Sx,GoTrueClient:Cx,NavigatorLockAcquireTimeoutError:Hk,SIGN_OUT_SCOPES:Rd,isAuthApiError:$k,isAuthError:me,isAuthImplicitGrantRedirectError:Bk,isAuthRetryableFetchError:Ad,isAuthSessionMissingError:Vk,isAuthWeakPasswordError:rV,lockInternals:Wi,navigatorLock:Kk,processLock:RV},Symbol.toStringTag,{value:"Module"})),Yk=qc(tB);Object.defineProperty(Lh,"__esModule",{value:!0});Lh.SupabaseAuthClient=void 0;const nB=Yk;class rB extends nB.AuthClient{constructor(t){super(t)}}Lh.SupabaseAuthClient=rB;Object.defineProperty(wf,"__esModule",{value:!0});const sB=ek,iB=tn,oB=xk,aB=q5,sd=Ok,lB=Mk,g_=Ti,cB=Lh;let uB=class{constructor(t,n,r){var s,i,o;this.supabaseUrl=t,this.supabaseKey=n;const a=(0,g_.validateSupabaseUrl)(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:sd.DEFAULT_DB_OPTIONS,realtime:sd.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},sd.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:sd.DEFAULT_GLOBAL_OPTIONS},d=(0,g_.applySettingDefaults)(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,lB.fetchWithAuth)(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new iB.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new aB.StorageClient(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new sB.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:c,debug:u,throwOnError:d},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cB.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:c,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new oB.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};wf.default=uB;(function(e){var t=Fo&&Fo.__createBinding||(Object.create?function(d,f,h,m){m===void 0&&(m=h);var x=Object.getOwnPropertyDescriptor(f,h);(!x||("get"in x?!f.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,m,x)}:function(d,f,h,m){m===void 0&&(m=h),d[m]=f[h]}),n=Fo&&Fo.__exportStar||function(d,f){for(var h in d)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&t(f,d,h)},r=Fo&&Fo.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const s=r(wf);n(Yk,e);var i=tn;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=ek;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(xk,e);var a=wf;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(a).default}});const c=(d,f,h)=>new s.default(d,f,h);e.createClient=c;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const f=d.match(/^v(\d+)\./);return f?parseInt(f[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(px);const Qk=qv(px),dB=R1({__proto__:null,default:Qk},[px]),{PostgrestError:rX,FunctionsHttpError:sX,FunctionsFetchError:iX,FunctionsRelayError:oX,FunctionsError:aX,FunctionRegion:lX,SupabaseClient:cX,createClient:fB,GoTrueAdminApi:uX,GoTrueClient:dX,AuthAdminApi:fX,AuthClient:hX,navigatorLock:mX,NavigatorLockAcquireTimeoutError:pX,lockInternals:gX,processLock:vX,SIGN_OUT_SCOPES:yX,AuthError:xX,AuthApiError:wX,AuthUnknownError:bX,CustomAuthError:_X,AuthSessionMissingError:SX,AuthInvalidTokenResponseError:jX,AuthInvalidCredentialsError:CX,AuthImplicitGrantRedirectError:EX,AuthPKCEGrantCodeExchangeError:NX,AuthRetryableFetchError:kX,AuthWeakPasswordError:TX,AuthInvalidJwtError:PX,isAuthError:AX,isAuthApiError:RX,isAuthSessionMissingError:OX,isAuthImplicitGrantRedirectError:MX,isAuthRetryableFetchError:DX,isAuthWeakPasswordError:IX,RealtimePresence:LX,RealtimeChannel:FX,RealtimeClient:$X,REALTIME_LISTEN_TYPES:VX,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:BX,REALTIME_PRESENCE_LISTEN_EVENTS:UX,REALTIME_SUBSCRIBE_STATES:zX,REALTIME_CHANNEL_STATES:WX}=Qk||dB,hB="https://wrjenrtwkvkaaycdvdwr.supabase.co",mB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndyamVucnR3a3ZrYWF5Y2R2ZHdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2OTcxNzksImV4cCI6MjA4MTI3MzE3OX0.DpiBEcgU0_8t16omP0m7Up4c8x6XR2cENZRT2Z6HIm8",he=fB(hB,mB,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Xk=p.createContext(void 0),pB=({children:e})=>{const[t,n]=p.useState(null),[r,s]=p.useState(null),[i,o]=p.useState(null),[a,c]=p.useState(!0),u=async m=>{const{data:x,error:v}=await he.from("user_roles").select("role").eq("user_id",m).single();!v&&x&&o(x.role)};p.useEffect(()=>{const{data:{subscription:m}}=he.auth.onAuthStateChange((x,v)=>{s(v),n((v==null?void 0:v.user)??null),v!=null&&v.user?setTimeout(()=>{u(v.user.id)},0):o(null),c(!1)});return he.auth.getSession().then(({data:{session:x}})=>{s(x),n((x==null?void 0:x.user)??null),x!=null&&x.user&&u(x.user.id),c(!1)}),()=>m.unsubscribe()},[]);const d=async(m,x)=>{const{error:v}=await he.auth.signInWithPassword({email:m,password:x});return{error:v}},f=async(m,x,v)=>{const y=`${window.location.origin}/`,{error:b}=await he.auth.signUp({email:m,password:x,options:{emailRedirectTo:y,data:{full_name:v}}});return{error:b}},h=async()=>{await he.auth.signOut(),o(null)};return l.jsx(Xk.Provider,{value:{user:t,session:r,role:i,loading:a,signIn:d,signUp:f,signOut:h},children:e})},rr=()=>{const e=p.useContext(Xk);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Mc=qy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg hover:-translate-y-0.5",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg hover:shadow-glow hover:-translate-y-1 font-semibold",glass:"bg-card/60 backdrop-blur-md border border-border/50 text-foreground hover:bg-card/80 shadow-md",accent:"bg-accent text-accent-foreground hover:bg-accent/80 shadow-sm"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?GC:"button";return l.jsx(o,{className:K(Mc({variant:t,size:n,className:e})),ref:i,...s})});Z.displayName="Button";const hl=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState([]),o=async()=>{try{const{data:d,error:f}=await he.from("services").select("*").order("name");if(f)throw f;t(d||[]);const h=[...new Set((d||[]).map(m=>m.category))];i(h)}catch(d){Ce.error("Failed to load services"),console.error("Error fetching services:",d)}finally{r(!1)}},a=async d=>{try{const{data:f,error:h}=await he.from("services").insert([d]).select().single();if(h)throw h;return t(m=>[...m,f]),Ce.success("Service created successfully"),{success:!0}}catch(f){return Ce.error(f.message||"Failed to create service"),{success:!1,error:f}}},c=async(d,f)=>{try{const{data:h,error:m}=await he.from("services").update(f).eq("id",d).select().single();if(m)throw m;return t(x=>x.map(v=>v.id===d?h:v)),Ce.success("Service updated successfully"),{success:!0}}catch(h){return Ce.error(h.message||"Failed to update service"),{success:!1,error:h}}},u=async d=>{try{const{error:f}=await he.from("services").delete().eq("id",d);if(f)throw f;return t(h=>h.filter(m=>m.id!==d)),Ce.success("Service deleted successfully"),{success:!0}}catch(f){return Ce.error(f.message||"Failed to delete service"),{success:!1,error:f}}};return p.useEffect(()=>{o()},[]),{services:e,categories:s,loading:n,createService:a,updateService:c,deleteService:u,refetch:o}},gB=()=>{const{user:e,loading:t,signOut:n}=rr(),{services:r}=hl(),s=(r||[]).filter(i=>i.is_active).slice(0,4);return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-panel",children:l.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[l.jsx(en,{to:"/",className:"flex items-center gap-2",children:l.jsx("img",{src:"gwyn.png",alt:"Gwyn Logo",className:"h-14 w-22 object-cover rounded-full"})}),l.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[l.jsx("a",{href:"#services",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Services"}),l.jsx("a",{href:"#about",className:"text-muted-foreground hover:text-foreground transition-colors",children:"About"}),l.jsx("a",{href:"#contact",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Contact"})]}),l.jsx("div",{className:"flex items-center gap-3",children:!t&&l.jsx(l.Fragment,{children:e?l.jsxs(l.Fragment,{children:[l.jsx(en,{to:"/dashboard",children:l.jsx(Z,{variant:"ghost",size:"sm",children:"Dashboard"})}),l.jsxs(Z,{variant:"ghost",size:"sm",onClick:n,children:[l.jsx(jE,{className:"h-4 w-4 mr-1"}),"Logout"]})]}):l.jsx(en,{to:"/auth",children:l.jsx(Z,{variant:"hero",size:"sm",children:"Login"})})})})]})}),l.jsxs("section",{className:"relative min-h-screen flex items-center hero-gradient pt-20",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute top-1/4 -right-20 w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-1/4 -left-20 w-80 h-80 bg-accent/30 rounded-full blur-3xl"})]}),l.jsx("div",{className:"container mx-auto px-6 relative z-10",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{className:"max-w-2xl animate-slide-up",children:[l.jsxs("h1",{className:"text-5xl md:text-7xl font-serif font-semibold text-foreground mb-6 leading-tight",children:["Reveal Your",l.jsx("span",{className:"text-primary block",children:"Natural Beauty"})]}),l.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-8 max-w-xl",children:"Experience personalized aesthetic treatments in a luxurious, state-of-the-art environment. Your journey to radiant confidence starts here."}),l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsx(en,{to:"/book",children:l.jsxs(Z,{variant:"hero",size:"xl",children:["Book Appointment",l.jsx(Um,{className:"ml-2 h-5 w-5"})]})}),l.jsx("a",{href:"#services",children:l.jsx(Z,{variant:"outline",size:"xl",children:"Explore Services"})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-8 mt-16 pt-8 border-t border-border/50",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-3xl font-serif font-semibold text-foreground",children:"15+"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Years Experience"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-3xl font-serif font-semibold text-foreground",children:"10k+"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Happy Clients"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-3xl font-serif font-semibold text-foreground",children:"4.9"}),l.jsxs("p",{className:"text-muted-foreground text-sm flex items-center gap-1",children:[l.jsx(zm,{className:"h-3 w-3 fill-primary text-primary"})," Rating"]})]})]})]}),l.jsx("div",{className:"relative hidden lg:block",children:l.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl",children:[l.jsx("img",{src:"gwyncover.avif",alt:"Gwyn Aesthetic Clinic Interior",className:"w-full h-auto object-cover rounded-3xl"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-3xl"})]})})]})})]}),l.jsx("section",{id:"services",className:"py-24 bg-muted/30",children:l.jsxs("div",{className:"container mx-auto px-6",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-serif font-semibold text-foreground mt-2 mb-4",children:"Our Services"}),l.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"From rejuvenating facials to advanced aesthetic procedures, we offer a comprehensive range of treatments tailored to your unique needs."})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((i,o)=>l.jsxs("div",{className:"group glass-card rounded-2xl p-6 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",style:{animationDelay:`${o*100}ms`},children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-accent flex items-center justify-center mb-4 group-hover:bg-primary/10 transition-colors"}),l.jsx("h3",{className:"font-serif text-xl font-semibold text-foreground mb-2",children:i.name}),l.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-2",children:i.description}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border/50",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(kr,{className:"h-4 w-4"}),i.duration," min"]}),l.jsx("span",{className:"font-semibold text-foreground",children:i.price===0?"Free":`${i.price}`})]})]},i.id))}),l.jsx("div",{className:"text-center mt-12",children:l.jsx(en,{to:"/book",children:l.jsxs(Z,{variant:"default",size:"lg",children:["View All Services",l.jsx(Um,{className:"ml-2 h-4 w-4"})]})})})]})}),l.jsx("section",{id:"about",className:"py-24",children:l.jsx("div",{className:"container mx-auto px-6",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-primary font-medium",children:"Why Gwyn"}),l.jsx("h2",{className:"text-4xl md:text-5xl font-serif font-semibold text-foreground mt-2 mb-6",children:"Excellence in Every Detail"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"At Gwyn, we combine cutting-edge technology with personalized care to deliver exceptional results. Our team of certified professionals is dedicated to helping you achieve your aesthetic goals."}),l.jsx("div",{className:"space-y-6",children:[{icon:tc,title:"Expert Team",desc:"Board-certified specialists with years of experience"},{icon:zm,title:"Premium Products",desc:"Only FDA-approved, top-tier products and equipment"},{icon:Rt,title:"Easy Booking",desc:"Convenient online scheduling, 24/7 availability"}].map((i,o)=>l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-accent flex items-center justify-center shrink-0",children:l.jsx(i.icon,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-foreground mb-1",children:i.title}),l.jsx("p",{className:"text-muted-foreground text-sm",children:i.desc})]})]},o))})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"aspect-[4/5] rounded-3xl bg-gradient-to-br from-primary/20 via-accent/30 to-secondary overflow-hidden",children:l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"text-center p-8",children:[l.jsx("img",{src:"cover2.avif",alt:"Gwyn Logo",className:"h-356 w-90 object-cover mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground font-serif text-xl",children:"Where Science Meets Beauty"})]})})}),l.jsx("div",{className:"absolute -bottom-6 -left-6 glass-card rounded-2xl p-4 shadow-lg",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center",children:l.jsx(zm,{className:"h-5 w-5 text-primary-foreground fill-primary-foreground"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-foreground",children:"Trusted by 10,000+"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"satisfied clients"})]})]})})]})]})})}),l.jsx("section",{className:"py-24 bg-primary/5",children:l.jsx("div",{className:"container mx-auto px-6",children:l.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-serif font-semibold text-foreground mb-6",children:"Ready to Begin Your Journey?"}),l.jsx("p",{className:"text-muted-foreground text-lg mb-8",children:"Book your consultation today and discover how we can help you achieve your aesthetic goals."}),l.jsx(en,{to:"/book",children:l.jsxs(Z,{variant:"hero",size:"xl",children:["Book Your Appointment",l.jsx(Um,{className:"ml-2 h-5 w-5"})]})})]})})}),l.jsx("section",{id:"contact",className:"py-24",children:l.jsx("div",{className:"container mx-auto px-6",children:l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"glass-card rounded-2xl p-8 text-center",children:[l.jsx("div",{className:"w-14 h-14 rounded-xl bg-accent flex items-center justify-center mx-auto mb-4",children:l.jsx(xh,{className:"h-6 w-6 text-primary"})}),l.jsx("h3",{className:"font-serif text-xl font-semibold text-foreground mb-2",children:"Call Us"}),l.jsx("p",{className:"text-muted-foreground",children:"+1 (555) 123-4567"})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-8 text-center",children:[l.jsx("div",{className:"w-14 h-14 rounded-xl bg-accent flex items-center justify-center mx-auto mb-4",children:l.jsx(eu,{className:"h-6 w-6 text-primary"})}),l.jsx("h3",{className:"font-serif text-xl font-semibold text-foreground mb-2",children:"Email Us"}),l.jsx("p",{className:"text-muted-foreground",children:"gwyn@clinic.com"})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-8 text-center",children:[l.jsx("div",{className:"w-14 h-14 rounded-xl bg-accent flex items-center justify-center mx-auto mb-4",children:l.jsx(S4,{className:"h-6 w-6 text-primary"})}),l.jsx("h3",{className:"font-serif text-xl font-semibold text-foreground mb-2",children:"Visit Us"}),l.jsx("address",{children:l.jsx("p",{children:l.jsx("button",{type:"button","aria-pressed":"false","aria-labelledby":"label-react-aria1030714992-:r5g:","aria-live":"polite",children:"Mabini Street, Dipolog City"})})}),l.jsx("a",{className:"text-blue",href:"https://maps.google.com/?daddr=Mabini%20Street%2C%20Dipolog%20City%2C%20Zamboanga%20Peninsula","data-qa":"location-directions-link",id:"directions-link",target:"_blank",children:"Get directions"})]})]})})}),l.jsx("footer",{className:"py-12 border-t border-border",children:l.jsx("div",{className:"container mx-auto px-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("img",{src:"..gwyn.png",alt:"Gwyn Logo",className:"h-14 w-22 object-cover rounded-full"})}),l.jsx("p",{className:"text-muted-foreground text-sm",children:" 2024 Gwyn Aesthetic Clinic. All rights reserved."})]})})})]})},yt=p.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));yt.displayName="Input";var vB="Label",Zk=p.forwardRef((e,t)=>l.jsx(xe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Zk.displayName=vB;var Jk=Zk;const yB=qy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ms=p.forwardRef(({className:e,...t},n)=>l.jsx(Jk,{ref:n,className:K(yB(),e),...t}));ms.displayName=Jk.displayName;var We;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(We||(We={}));var v_;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(v_||(v_={}));const de=We.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Us=e=>{switch(typeof e){case"undefined":return de.undefined;case"string":return de.string;case"number":return Number.isNaN(e)?de.nan:de.number;case"boolean":return de.boolean;case"function":return de.function;case"bigint":return de.bigint;case"symbol":return de.symbol;case"object":return Array.isArray(e)?de.array:e===null?de.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?de.promise:typeof Map<"u"&&e instanceof Map?de.map:typeof Set<"u"&&e instanceof Set?de.set:typeof Date<"u"&&e instanceof Date?de.date:de.object;default:return de.unknown}},Y=We.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ss extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof Ss))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,We.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ss.create=e=>new Ss(e);const av=(e,t)=>{let n;switch(e.code){case Y.invalid_type:e.received===de.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Y.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,We.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:n=`Unrecognized key(s) in object: ${We.joinValues(e.keys,", ")}`;break;case Y.invalid_union:n="Invalid input";break;case Y.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${We.joinValues(e.options)}`;break;case Y.invalid_enum_value:n=`Invalid enum value. Expected ${We.joinValues(e.options)}, received '${e.received}'`;break;case Y.invalid_arguments:n="Invalid function arguments";break;case Y.invalid_return_type:n="Invalid function return type";break;case Y.invalid_date:n="Invalid date";break;case Y.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:We.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Y.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Y.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Y.custom:n="Invalid input";break;case Y.invalid_intersection_types:n="Intersection results could not be merged";break;case Y.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Y.not_finite:n="Number must be finite";break;default:n=t.defaultError,We.assertNever(e)}return{message:n}};let xB=av;function wB(){return xB}const bB=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:t,defaultError:a}).message;return{...s,path:i,message:a}};function ie(e,t){const n=wB(),r=bB({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===av?void 0:av].filter(s=>!!s)});e.common.issues.push(r)}class $n{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Ee;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return $n.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ee;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const Ee=Object.freeze({status:"aborted"}),Bl=e=>({status:"dirty",value:e}),sr=e=>({status:"valid",value:e}),y_=e=>e.status==="aborted",x_=e=>e.status==="dirty",qa=e=>e.status==="valid",Tf=e=>typeof Promise<"u"&&e instanceof Promise;var pe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(pe||(pe={}));class vi{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const w_=(e,t)=>{if(qa(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ss(e.common.issues);return this._error=n,this._error}}};function Le(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,a)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:c??n??a.defaultError}},description:s}}class Ue{get description(){return this._def.description}_getType(t){return Us(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Us(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new $n,ctx:{common:t.parent.common,data:t.data,parsedType:Us(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Tf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Us(t)},s=this._parseSync({data:t,path:r.path,parent:r});return w_(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Us(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return qa(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>qa(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Us(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(Tf(s)?s:Promise.resolve(s));return w_(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=t(s),a=()=>i.addIssue({code:Y.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new Qa({schema:this,typeName:Ne.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ui.create(this,this._def)}nullable(){return Xa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qr.create(this)}promise(){return Of.create(this,this._def)}or(t){return Af.create([this,t],this._def)}and(t){return Rf.create(this,t,this._def)}transform(t){return new Qa({...Le(this._def),schema:this,typeName:Ne.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new uv({...Le(this._def),innerType:this,defaultValue:n,typeName:Ne.ZodDefault})}brand(){return new WB({typeName:Ne.ZodBranded,type:this,...Le(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new dv({...Le(this._def),innerType:this,catchValue:n,typeName:Ne.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Ex.create(this,t)}readonly(){return fv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _B=/^c[^\s-]{8,}$/i,SB=/^[0-9a-z]+$/,jB=/^[0-9A-HJKMNP-TV-Z]{26}$/i,CB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,EB=/^[a-z0-9_-]{21}$/i,NB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,TB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,PB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tp;const AB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,RB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,OB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,MB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,DB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,IB=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",LB=new RegExp(`^${eT}$`);function tT(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function FB(e){return new RegExp(`^${tT(e)}$`)}function $B(e){let t=`${eT}T${tT(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function VB(e,t){return!!((t==="v4"||!t)&&AB.test(e)||(t==="v6"||!t)&&OB.test(e))}function BB(e,t){if(!NB.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function UB(e,t){return!!((t==="v4"||!t)&&RB.test(e)||(t==="v6"||!t)&&MB.test(e))}class ps extends Ue{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==de.string){const i=this._getOrReturnCtx(t);return ie(i,{code:Y.invalid_type,expected:de.string,received:i.parsedType}),Ee}const r=new $n;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),ie(s,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),ie(s,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,a=t.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(t,s),o?ie(s,{code:Y.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ie(s,{code:Y.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")TB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"email",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")tp||(tp=new RegExp(PB,"u")),tp.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"emoji",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")CB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"uuid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")EB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"nanoid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")_B.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"cuid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")SB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"cuid2",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")jB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"ulid",code:Y.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ie(s,{validation:"url",code:Y.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"regex",code:Y.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),ie(s,{code:Y.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),ie(s,{code:Y.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),ie(s,{code:Y.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?$B(i).test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{code:Y.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?LB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{code:Y.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?FB(i).test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{code:Y.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?kB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"duration",code:Y.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?VB(t.data,i.version)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"ip",code:Y.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?BB(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"jwt",code:Y.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?UB(t.data,i.version)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"cidr",code:Y.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?DB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"base64",code:Y.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?IB.test(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{validation:"base64url",code:Y.invalid_string,message:i.message}),r.dirty()):We.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:Y.invalid_string,...pe.errToObj(r)})}_addCheck(t){return new ps({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...pe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...pe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...pe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...pe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...pe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...pe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...pe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...pe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...pe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...pe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...pe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...pe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...pe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...pe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...pe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...pe.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...pe.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...pe.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...pe.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...pe.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...pe.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...pe.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...pe.errToObj(n)})}nonempty(t){return this.min(1,pe.errToObj(t))}trim(){return new ps({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ps({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ps({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ps.create=e=>new ps({checks:[],typeName:Ne.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Le(e)});function zB(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class bo extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==de.number){const i=this._getOrReturnCtx(t);return ie(i,{code:Y.invalid_type,expected:de.number,received:i.parsedType}),Ee}let r;const s=new $n;for(const i of this._def.checks)i.kind==="int"?We.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),ie(r,{code:Y.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),ie(r,{code:Y.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),ie(r,{code:Y.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?zB(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),ie(r,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),ie(r,{code:Y.not_finite,message:i.message}),s.dirty()):We.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,pe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,pe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,pe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,pe.toString(n))}setLimit(t,n,r,s){return new bo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:pe.toString(s)}]})}_addCheck(t){return new bo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:pe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:pe.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:pe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pe.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&We.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}bo.create=e=>new bo({checks:[],typeName:Ne.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Le(e)});class _o extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==de.bigint)return this._getInvalidInput(t);let r;const s=new $n;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),ie(r,{code:Y.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),ie(r,{code:Y.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),ie(r,{code:Y.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):We.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return ie(n,{code:Y.invalid_type,expected:de.bigint,received:n.parsedType}),Ee}gte(t,n){return this.setLimit("min",t,!0,pe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,pe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,pe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,pe.toString(n))}setLimit(t,n,r,s){return new _o({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:pe.toString(s)}]})}_addCheck(t){return new _o({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:pe.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}_o.create=e=>new _o({checks:[],typeName:Ne.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Le(e)});class Pf extends Ue{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==de.boolean){const r=this._getOrReturnCtx(t);return ie(r,{code:Y.invalid_type,expected:de.boolean,received:r.parsedType}),Ee}return sr(t.data)}}Pf.create=e=>new Pf({typeName:Ne.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Le(e)});class Ga extends Ue{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==de.date){const i=this._getOrReturnCtx(t);return ie(i,{code:Y.invalid_type,expected:de.date,received:i.parsedType}),Ee}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ie(i,{code:Y.invalid_date}),Ee}const r=new $n;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),ie(s,{code:Y.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),ie(s,{code:Y.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):We.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ga({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:pe.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:pe.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Ga.create=e=>new Ga({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ne.ZodDate,...Le(e)});class b_ extends Ue{_parse(t){if(this._getType(t)!==de.symbol){const r=this._getOrReturnCtx(t);return ie(r,{code:Y.invalid_type,expected:de.symbol,received:r.parsedType}),Ee}return sr(t.data)}}b_.create=e=>new b_({typeName:Ne.ZodSymbol,...Le(e)});class __ extends Ue{_parse(t){if(this._getType(t)!==de.undefined){const r=this._getOrReturnCtx(t);return ie(r,{code:Y.invalid_type,expected:de.undefined,received:r.parsedType}),Ee}return sr(t.data)}}__.create=e=>new __({typeName:Ne.ZodUndefined,...Le(e)});class S_ extends Ue{_parse(t){if(this._getType(t)!==de.null){const r=this._getOrReturnCtx(t);return ie(r,{code:Y.invalid_type,expected:de.null,received:r.parsedType}),Ee}return sr(t.data)}}S_.create=e=>new S_({typeName:Ne.ZodNull,...Le(e)});class j_ extends Ue{constructor(){super(...arguments),this._any=!0}_parse(t){return sr(t.data)}}j_.create=e=>new j_({typeName:Ne.ZodAny,...Le(e)});class C_ extends Ue{constructor(){super(...arguments),this._unknown=!0}_parse(t){return sr(t.data)}}C_.create=e=>new C_({typeName:Ne.ZodUnknown,...Le(e)});class yi extends Ue{_parse(t){const n=this._getOrReturnCtx(t);return ie(n,{code:Y.invalid_type,expected:de.never,received:n.parsedType}),Ee}}yi.create=e=>new yi({typeName:Ne.ZodNever,...Le(e)});class E_ extends Ue{_parse(t){if(this._getType(t)!==de.undefined){const r=this._getOrReturnCtx(t);return ie(r,{code:Y.invalid_type,expected:de.void,received:r.parsedType}),Ee}return sr(t.data)}}E_.create=e=>new E_({typeName:Ne.ZodVoid,...Le(e)});class Qr extends Ue{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==de.array)return ie(n,{code:Y.invalid_type,expected:de.array,received:n.parsedType}),Ee;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(ie(n,{code:o?Y.too_big:Y.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ie(n,{code:Y.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ie(n,{code:Y.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new vi(n,o,n.path,a)))).then(o=>$n.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new vi(n,o,n.path,a)));return $n.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new Qr({...this._def,minLength:{value:t,message:pe.toString(n)}})}max(t,n){return new Qr({...this._def,maxLength:{value:t,message:pe.toString(n)}})}length(t,n){return new Qr({...this._def,exactLength:{value:t,message:pe.toString(n)}})}nonempty(t){return this.min(1,t)}}Qr.create=(e,t)=>new Qr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ne.ZodArray,...Le(t)});function Xo(e){if(e instanceof mt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=ui.create(Xo(r))}return new mt({...e._def,shape:()=>t})}else return e instanceof Qr?new Qr({...e._def,type:Xo(e.element)}):e instanceof ui?ui.create(Xo(e.unwrap())):e instanceof Xa?Xa.create(Xo(e.unwrap())):e instanceof So?So.create(e.items.map(t=>Xo(t))):e}class mt extends Ue{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=We.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==de.object){const u=this._getOrReturnCtx(t);return ie(u,{code:Y.invalid_type,expected:de.object,received:u.parsedType}),Ee}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof yi&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new vi(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof yi){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(ie(s,{code:Y.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new vi(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>$n.mergeObjectSync(r,u)):$n.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return pe.errToObj,new mt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:pe.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new mt({...this._def,unknownKeys:"strip"})}passthrough(){return new mt({...this._def,unknownKeys:"passthrough"})}extend(t){return new mt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new mt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ne.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new mt({...this._def,catchall:t})}pick(t){const n={};for(const r of We.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new mt({...this._def,shape:()=>n})}omit(t){const n={};for(const r of We.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new mt({...this._def,shape:()=>n})}deepPartial(){return Xo(this)}partial(t){const n={};for(const r of We.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new mt({...this._def,shape:()=>n})}required(t){const n={};for(const r of We.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ui;)i=i._def.innerType;n[r]=i}return new mt({...this._def,shape:()=>n})}keyof(){return nT(We.objectKeys(this.shape))}}mt.create=(e,t)=>new mt({shape:()=>e,unknownKeys:"strip",catchall:yi.create(),typeName:Ne.ZodObject,...Le(t)});mt.strictCreate=(e,t)=>new mt({shape:()=>e,unknownKeys:"strict",catchall:yi.create(),typeName:Ne.ZodObject,...Le(t)});mt.lazycreate=(e,t)=>new mt({shape:e,unknownKeys:"strip",catchall:yi.create(),typeName:Ne.ZodObject,...Le(t)});class Af extends Ue{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Ss(a.ctx.common.issues));return ie(n,{code:Y.invalid_union,unionErrors:o}),Ee}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Ss(c));return ie(n,{code:Y.invalid_union,unionErrors:a}),Ee}}get options(){return this._def.options}}Af.create=(e,t)=>new Af({options:e,typeName:Ne.ZodUnion,...Le(t)});function lv(e,t){const n=Us(e),r=Us(t);if(e===t)return{valid:!0,data:e};if(n===de.object&&r===de.object){const s=We.objectKeys(t),i=We.objectKeys(e).filter(a=>s.indexOf(a)!==-1),o={...e,...t};for(const a of i){const c=lv(e[a],t[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===de.array&&r===de.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],a=t[i],c=lv(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===de.date&&r===de.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Rf extends Ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,o)=>{if(y_(i)||y_(o))return Ee;const a=lv(i.value,o.value);return a.valid?((x_(i)||x_(o))&&n.dirty(),{status:n.value,value:a.data}):(ie(r,{code:Y.invalid_intersection_types}),Ee)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Rf.create=(e,t,n)=>new Rf({left:e,right:t,typeName:Ne.ZodIntersection,...Le(n)});class So extends Ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.array)return ie(r,{code:Y.invalid_type,expected:de.array,received:r.parsedType}),Ee;if(r.data.length<this._def.items.length)return ie(r,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ee;!this._def.rest&&r.data.length>this._def.items.length&&(ie(r,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new vi(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>$n.mergeArray(n,o)):$n.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new So({...this._def,rest:t})}}So.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new So({items:e,typeName:Ne.ZodTuple,rest:null,...Le(t)})};class N_ extends Ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.map)return ie(r,{code:Y.invalid_type,expected:de.map,received:r.parsedType}),Ee;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],u)=>({key:s._parse(new vi(r,a,r.path,[u,"key"])),value:i._parse(new vi(r,c,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ee;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ee;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}N_.create=(e,t,n)=>new N_({valueType:t,keyType:e,typeName:Ne.ZodMap,...Le(n)});class Dc extends Ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==de.set)return ie(r,{code:Y.invalid_type,expected:de.set,received:r.parsedType}),Ee;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ie(r,{code:Y.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ie(r,{code:Y.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ee;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((c,u)=>i._parse(new vi(r,c,r.path,u)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(t,n){return new Dc({...this._def,minSize:{value:t,message:pe.toString(n)}})}max(t,n){return new Dc({...this._def,maxSize:{value:t,message:pe.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Dc.create=(e,t)=>new Dc({valueType:e,minSize:null,maxSize:null,typeName:Ne.ZodSet,...Le(t)});class k_ extends Ue{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}k_.create=(e,t)=>new k_({getter:e,typeName:Ne.ZodLazy,...Le(t)});class cv extends Ue{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ie(n,{received:n.data,code:Y.invalid_literal,expected:this._def.value}),Ee}return{status:"valid",value:t.data}}get value(){return this._def.value}}cv.create=(e,t)=>new cv({value:e,typeName:Ne.ZodLiteral,...Le(t)});function nT(e,t){return new Ya({values:e,typeName:Ne.ZodEnum,...Le(t)})}class Ya extends Ue{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return ie(n,{expected:We.joinValues(r),received:n.parsedType,code:Y.invalid_type}),Ee}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return ie(n,{received:n.data,code:Y.invalid_enum_value,options:r}),Ee}return sr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ya.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ya.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Ya.create=nT;class T_ extends Ue{_parse(t){const n=We.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==de.string&&r.parsedType!==de.number){const s=We.objectValues(n);return ie(r,{expected:We.joinValues(s),received:r.parsedType,code:Y.invalid_type}),Ee}if(this._cache||(this._cache=new Set(We.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=We.objectValues(n);return ie(r,{received:r.data,code:Y.invalid_enum_value,options:s}),Ee}return sr(t.data)}get enum(){return this._def.values}}T_.create=(e,t)=>new T_({values:e,typeName:Ne.ZodNativeEnum,...Le(t)});class Of extends Ue{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==de.promise&&n.common.async===!1)return ie(n,{code:Y.invalid_type,expected:de.promise,received:n.parsedType}),Ee;const r=n.parsedType===de.promise?n.data:Promise.resolve(n.data);return sr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Of.create=(e,t)=>new Of({type:e,typeName:Ne.ZodPromise,...Le(t)});class Qa extends Ue{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{ie(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Ee;const c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?Ee:c.status==="dirty"||n.value==="dirty"?Bl(c.value):c});{if(n.value==="aborted")return Ee;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Ee:a.status==="dirty"||n.value==="dirty"?Bl(a.value):a}}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ee:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ee:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!qa(o))return Ee;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>qa(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):Ee);We.assertNever(s)}}Qa.create=(e,t,n)=>new Qa({schema:e,typeName:Ne.ZodEffects,effect:t,...Le(n)});Qa.createWithPreprocess=(e,t,n)=>new Qa({schema:t,effect:{type:"preprocess",transform:e},typeName:Ne.ZodEffects,...Le(n)});class ui extends Ue{_parse(t){return this._getType(t)===de.undefined?sr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ui.create=(e,t)=>new ui({innerType:e,typeName:Ne.ZodOptional,...Le(t)});class Xa extends Ue{_parse(t){return this._getType(t)===de.null?sr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xa.create=(e,t)=>new Xa({innerType:e,typeName:Ne.ZodNullable,...Le(t)});class uv extends Ue{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===de.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}uv.create=(e,t)=>new uv({innerType:e,typeName:Ne.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Le(t)});class dv extends Ue{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Tf(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ss(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ss(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}dv.create=(e,t)=>new dv({innerType:e,typeName:Ne.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Le(t)});class P_ extends Ue{_parse(t){if(this._getType(t)!==de.nan){const r=this._getOrReturnCtx(t);return ie(r,{code:Y.invalid_type,expected:de.nan,received:r.parsedType}),Ee}return{status:"valid",value:t.data}}}P_.create=e=>new P_({typeName:Ne.ZodNaN,...Le(e)});class WB extends Ue{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ex extends Ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ee:i.status==="dirty"?(n.dirty(),Bl(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ee:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new Ex({in:t,out:n,typeName:Ne.ZodPipeline})}}class fv extends Ue{_parse(t){const n=this._def.innerType._parse(t),r=s=>(qa(s)&&(s.value=Object.freeze(s.value)),s);return Tf(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}fv.create=(e,t)=>new fv({innerType:e,typeName:Ne.ZodReadonly,...Le(t)});mt.lazycreate;var Ne;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ne||(Ne={}));const vt=ps.create;bo.create;_o.create;const rT=Pf.create;Ga.create;yi.create;Qr.create;const ou=mt.create;mt.strictCreate;Af.create;Rf.create;So.create;const sT=cv.create;Ya.create;Of.create;ui.create;Xa.create;const A_={string:e=>ps.create({...e,coerce:!0}),number:e=>bo.create({...e,coerce:!0}),boolean:e=>Pf.create({...e,coerce:!0}),bigint:e=>_o.create({...e,coerce:!0}),date:e=>Ga.create({...e,coerce:!0})},HB=ou({email:vt().trim().email("Invalid email address"),password:vt().min(6,"Password must be at least 6 characters")}),KB=ou({fullName:vt().trim().min(2,"Name must be at least 2 characters").max(100,"Name is too long"),email:vt().trim().email("Invalid email address"),password:vt().min(6,"Password must be at least 6 characters"),confirmPassword:vt()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),qB=()=>{const[e,t]=p.useState(!0),[n,r]=p.useState(""),[s,i]=p.useState(""),[o,a]=p.useState(""),[c,u]=p.useState(""),[d,f]=p.useState(!1),[h,m]=p.useState(!1),[x,v]=p.useState({}),y=Rh(),{signIn:b,signUp:g}=rr(),{toast:w}=qC(),_=async S=>{S.preventDefault(),v({}),m(!0);try{if(e){const C=HB.safeParse({email:n,password:s});if(!C.success){const E={};C.error.errors.forEach(k=>{k.path[0]&&(E[k.path[0]]=k.message)}),v(E),m(!1);return}const{error:j}=await b(n,s);j?w({title:"Login failed",description:j.message==="Invalid login credentials"?"Incorrect email or password. Please try again.":j.message,variant:"destructive"}):(w({title:"Welcome back!"}),y("/dashboard"))}else{const C=KB.safeParse({fullName:c,email:n,password:s,confirmPassword:o});if(!C.success){const E={};C.error.errors.forEach(k=>{k.path[0]&&(E[k.path[0]]=k.message)}),v(E),m(!1);return}const{error:j}=await g(n,s,c);j?w({title:"Signup failed",description:j.message.includes("already registered")?"This email is already registered. Please login instead.":j.message,variant:"destructive"}):(w({title:"Account created!",description:"Welcome to Gwyn Aesthetic Clinic!"}),y("/dashboard"))}}finally{m(!1)}};return l.jsxs("div",{className:"min-h-screen bg-background flex",children:[l.jsxs("div",{className:"hidden lg:flex lg:w-1/2 hero-gradient relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-1/4 -right-20 w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-1/4 -left-20 w-80 h-80 bg-accent/30 rounded-full blur-3xl"})]}),l.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-16",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[l.jsx(Rg,{className:"h-10 w-10 text-primary"}),l.jsx("span",{className:"font-serif text-4xl font-semibold text-foreground",children:"Gwyn Aesthetic Clinic"})]}),l.jsx("h2",{className:"font-serif text-4xl font-semibold text-foreground mb-4",children:e?"Welcome Back":"Join Our Community"}),l.jsx("p",{className:"text-muted-foreground text-lg max-w-md",children:e?"Access your account to manage appointments and explore our premium services.":"Create an account to book appointments and experience our exceptional aesthetic services."})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col justify-center px-8 lg:px-16",children:[l.jsxs(en,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground mb-8 w-fit",children:[l.jsx(qi,{className:"h-4 w-4"}),"Back to home"]}),l.jsxs("div",{className:"lg:hidden flex items-center gap-2 mb-8",children:[l.jsx(Rg,{className:"h-6 w-6 text-primary"}),l.jsx("span",{className:"font-serif text-2xl font-semibold text-foreground",children:"Gwyn Aesthetic Clinic"})]}),l.jsxs("div",{className:"max-w-md w-full mx-auto lg:mx-0",children:[l.jsx("h1",{className:"font-serif text-3xl font-semibold text-foreground mb-2",children:e?"Sign In":"Create Account"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:e?"Enter your credentials to access your account":"Fill in your details to get started"}),l.jsxs("form",{onSubmit:_,className:"space-y-5",children:[!e&&l.jsxs("div",{children:[l.jsx(ms,{htmlFor:"fullName",children:"Full Name"}),l.jsxs("div",{className:"relative mt-1.5",children:[l.jsx(bh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(yt,{id:"fullName",type:"text",placeholder:"John Doe",value:c,onChange:S=>u(S.target.value),className:"pl-10",disabled:h})]}),x.fullName&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:x.fullName})]}),l.jsxs("div",{children:[l.jsx(ms,{htmlFor:"email",children:"Email"}),l.jsxs("div",{className:"relative mt-1.5",children:[l.jsx(eu,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(yt,{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:S=>r(S.target.value),className:"pl-10",disabled:h})]}),x.email&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:x.email})]}),l.jsxs("div",{children:[l.jsx(ms,{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative mt-1.5",children:[l.jsx(vb,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(yt,{id:"password",type:d?"text":"password",placeholder:"",value:s,onChange:S=>i(S.target.value),className:"pl-10 pr-10",disabled:h}),l.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:d?l.jsx(y4,{className:"h-4 w-4"}):l.jsx(x4,{className:"h-4 w-4"})})]}),x.password&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:x.password})]}),!e&&l.jsxs("div",{children:[l.jsx(ms,{htmlFor:"confirmPassword",children:"Confirm Password"}),l.jsxs("div",{className:"relative mt-1.5",children:[l.jsx(vb,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(yt,{id:"confirmPassword",type:d?"text":"password",placeholder:"",value:o,onChange:S=>a(S.target.value),className:"pl-10",disabled:h})]}),x.confirmPassword&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:x.confirmPassword})]}),l.jsx(Z,{type:"submit",className:"w-full",disabled:h,children:h?"Please wait...":e?"Sign In":"Create Account"})]}),l.jsxs("p",{className:"mt-6 text-center text-muted-foreground",children:[e?"Don't have an account? ":"Already have an account? ",l.jsx("button",{type:"button",onClick:()=>{t(!e),v({})},className:"text-primary hover:underline font-medium",children:e?"Sign Up":"Sign In"})]})]})]})]})};function Ie(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Vn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ge(e,t){const n=Ie(e);return isNaN(t)?Vn(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ar(e,t){const n=Ie(e);if(isNaN(t))return Vn(e,NaN);if(!t)return n;const r=n.getDate(),s=Vn(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const Nx=6048e5,GB=864e5,iT=6e4,oT=36e5;let YB={};function au(){return YB}function Tn(e,t){var a,c,u,d;const n=au(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ie(e),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function jo(e){return Tn(e,{weekStartsOn:1})}function aT(e){const t=Ie(e),n=t.getFullYear(),r=Vn(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=jo(r),i=Vn(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=jo(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Za(e){const t=Ie(e);return t.setHours(0,0,0,0),t}function Mf(e){const t=Ie(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Wr(e,t){const n=Za(e),r=Za(t),s=+n-Mf(n),i=+r-Mf(r);return Math.round((s-i)/GB)}function QB(e){const t=aT(e),n=Vn(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),jo(n)}function Ic(e,t){const n=t*7;return Ge(e,n)}function XB(e,t){return Ar(e,t*12)}function ZB(e){let t;return e.forEach(function(n){const r=Ie(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function JB(e){let t;return e.forEach(n=>{const r=Ie(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Lt(e,t){const n=Za(e),r=Za(t);return+n==+r}function kx(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function eU(e){if(!kx(e)&&typeof e!="number")return!1;const t=Ie(e);return!isNaN(Number(t))}function Lc(e,t){const n=Ie(e),r=Ie(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function tU(e,t,n){const r=Tn(e,n),s=Tn(t,n),i=+r-Mf(r),o=+s-Mf(s);return Math.round((i-o)/Nx)}function lu(e){const t=Ie(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function nU(e,t){const n=Ie(e.start),r=Ie(e.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let a=1;const c=[];for(;+o<=i;)c.push(Ie(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return s?c.reverse():c}function rn(e){const t=Ie(e);return t.setDate(1),t.setHours(0,0,0,0),t}function lT(e){const t=Ie(e),n=Vn(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Tx(e,t){var a,c,u,d;const n=au(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ie(e),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function cT(e){return Tx(e,{weekStartsOn:1})}const rU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sU=(e,t,n)=>{let r;const s=rU[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function np(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const iU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lU={date:np({formats:iU,defaultWidth:"full"}),time:np({formats:oU,defaultWidth:"full"}),dateTime:np({formats:aU,defaultWidth:"full"})},cU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uU=(e,t,n,r)=>cU[e];function kl(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const dU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vU=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},yU={ordinalNumber:vU,era:kl({values:dU,defaultWidth:"wide"}),quarter:kl({values:fU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:kl({values:hU,defaultWidth:"wide"}),day:kl({values:mU,defaultWidth:"wide"}),dayPeriod:kl({values:pU,defaultWidth:"wide",formattingValues:gU,defaultFormattingWidth:"wide"})};function Tl(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?wU(a,f=>f.test(o)):xU(a,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function xU(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function wU(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function bU(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(s.length);return{value:o,rest:a}}}const _U=/^(\d+)(th|st|nd|rd)?/i,SU=/\d+/i,jU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},CU={any:[/^b/i,/^(a|c)/i]},EU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NU={any:[/1/i,/2/i,/3/i,/4/i]},kU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},AU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MU={ordinalNumber:bU({matchPattern:_U,parsePattern:SU,valueCallback:e=>parseInt(e,10)}),era:Tl({matchPatterns:jU,defaultMatchWidth:"wide",parsePatterns:CU,defaultParseWidth:"any"}),quarter:Tl({matchPatterns:EU,defaultMatchWidth:"wide",parsePatterns:NU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Tl({matchPatterns:kU,defaultMatchWidth:"wide",parsePatterns:TU,defaultParseWidth:"any"}),day:Tl({matchPatterns:PU,defaultMatchWidth:"wide",parsePatterns:AU,defaultParseWidth:"any"}),dayPeriod:Tl({matchPatterns:RU,defaultMatchWidth:"any",parsePatterns:OU,defaultParseWidth:"any"})},uT={code:"en-US",formatDistance:sU,formatLong:lU,formatRelative:uU,localize:yU,match:MU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function DU(e){const t=Ie(e);return Wr(t,lT(t))+1}function dT(e){const t=Ie(e),n=+jo(t)-+QB(t);return Math.round(n/Nx)+1}function fT(e,t){var d,f,h,m;const n=Ie(e),r=n.getFullYear(),s=au(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Vn(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Tn(o,t),c=Vn(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Tn(c,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function IU(e,t){var a,c,u,d;const n=au(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=fT(e,t),i=Vn(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Tn(i,t)}function hT(e,t){const n=Ie(e),r=+Tn(n,t)-+IU(n,t);return Math.round(r/Nx)+1}function qe(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Is={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return qe(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):qe(n+1,2)},d(e,t){return qe(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return qe(e.getHours()%12||12,t.length)},H(e,t){return qe(e.getHours(),t.length)},m(e,t){return qe(e.getMinutes(),t.length)},s(e,t){return qe(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return qe(s,t.length)}},Wo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},R_={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Is.y(e,t)},Y:function(e,t,n,r){const s=fT(e,r),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return qe(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):qe(i,t.length)},R:function(e,t){const n=aT(e);return qe(n,t.length)},u:function(e,t){const n=e.getFullYear();return qe(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return qe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return qe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Is.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return qe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=hT(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):qe(s,t.length)},I:function(e,t,n){const r=dT(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):qe(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Is.d(e,t)},D:function(e,t,n){const r=DU(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):qe(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return qe(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return qe(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return qe(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Wo.noon:r===0?s=Wo.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Wo.evening:r>=12?s=Wo.afternoon:r>=4?s=Wo.morning:s=Wo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Is.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Is.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):qe(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):qe(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Is.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Is.s(e,t)},S:function(e,t){return Is.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return M_(r);case"XXXX":case"XX":return Hi(r);case"XXXXX":case"XXX":default:return Hi(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return M_(r);case"xxxx":case"xx":return Hi(r);case"xxxxx":case"xxx":default:return Hi(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+O_(r,":");case"OOOO":default:return"GMT"+Hi(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+O_(r,":");case"zzzz":default:return"GMT"+Hi(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return qe(r,t.length)},T:function(e,t,n){const r=e.getTime();return qe(r,t.length)}};function O_(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+qe(i,2)}function M_(e,t){return e%60===0?(e>0?"-":"+")+qe(Math.abs(e)/60,2):Hi(e,t)}function Hi(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=qe(Math.trunc(r/60),2),i=qe(r%60,2);return n+s+t+i}const D_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},mT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},LU=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return D_(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",D_(r,t)).replace("{{time}}",mT(s,t))},FU={p:mT,P:LU},$U=/^D+$/,VU=/^Y+$/,BU=["D","DD","YY","YYYY"];function UU(e){return $U.test(e)}function zU(e){return VU.test(e)}function WU(e,t,n){const r=HU(e,t,n);if(console.warn(r),BU.includes(e))throw new RangeError(r)}function HU(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GU=/^'([^]*?)'?$/,YU=/''/g,QU=/[a-zA-Z]/;function Pe(e,t,n){var d,f,h,m,x,v,y,b;const r=au(),s=(n==null?void 0:n.locale)??r.locale??uT,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((b=(y=r.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,a=Ie(e);if(!eU(a))throw new RangeError("Invalid time value");let c=t.match(qU).map(g=>{const w=g[0];if(w==="p"||w==="P"){const _=FU[w];return _(g,s.formatLong)}return g}).join("").match(KU).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:XU(g)};if(R_[w])return{isToken:!0,value:g};if(w.match(QU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const w=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&zU(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&UU(w))&&WU(w,t,String(e));const _=R_[w[0]];return _(a,w,s.localize,u)}).join("")}function XU(e){const t=e.match(GU);return t?t[1].replace(YU,"'"):e}function ZU(e){return Ie(e).getDay()}function JU(e){const t=Ie(e),n=t.getFullYear(),r=t.getMonth(),s=Vn(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function e6(e){return Math.trunc(+Ie(e)/1e3)}function t6(e){const t=Ie(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function n6(e,t){return tU(t6(e),rn(e),t)+1}function hv(e,t){const n=Ie(e),r=Ie(t);return n.getTime()>r.getTime()}function pT(e,t){const n=Ie(e),r=Ie(t);return+n<+r}function r6(e){return+Ie(e)>Date.now()}function s6(e){return+Ie(e)<Date.now()}function Px(e,t){const n=Ie(e),r=Ie(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function i6(e,t){const n=Ie(e),r=Ie(t);return n.getFullYear()===r.getFullYear()}function rp(e,t){return Ge(e,-t)}function wn(e,t){const r=c6(e);let s;if(r.date){const c=u6(r.date,2);s=d6(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,a;if(r.time&&(o=f6(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=h6(r.timezone),isNaN(a))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+a)}const id={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},o6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,a6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function c6(e){const t={},n=e.split(id.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],id.timeZoneDelimiter.test(t.date)&&(t.date=e.split(id.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=id.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function u6(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function d6(e,t){if(t===null)return new Date(NaN);const n=e.match(o6);if(!n)return new Date(NaN);const r=!!n[4],s=Pl(n[1]),i=Pl(n[2])-1,o=Pl(n[3]),a=Pl(n[4]),c=Pl(n[5])-1;if(r)return y6(t,a,c)?m6(t,a,c):new Date(NaN);{const u=new Date(0);return!g6(t,i,o)||!v6(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function Pl(e){return e?parseInt(e):1}function f6(e){const t=e.match(a6);if(!t)return NaN;const n=sp(t[1]),r=sp(t[2]),s=sp(t[3]);return x6(n,r,s)?n*oT+r*iT+s*1e3:NaN}function sp(e){return e&&parseFloat(e.replace(",","."))||0}function h6(e){if(e==="Z")return 0;const t=e.match(l6);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return w6(r,s)?n*(r*oT+s*iT):NaN}function m6(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const p6=[31,null,31,30,31,30,31,31,30,31,30,31];function gT(e){return e%400===0||e%4===0&&e%100!==0}function g6(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(p6[t]||(gT(e)?29:28))}function v6(e,t){return t>=1&&t<=(gT(e)?366:365)}function y6(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function x6(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function w6(e,t){return t>=0&&t<=59}function ip(e,t){const n=Ie(e),r=n.getFullYear(),s=n.getDate(),i=Vn(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=JU(i);return n.setMonth(t,Math.min(s,o)),n}function I_(e,t){const n=Ie(e);return isNaN(+n)?Vn(e,NaN):(n.setFullYear(t),n)}function b6(e,t){return Ic(e,-t)}const Ax=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!0),s=async()=>{try{const{data:c,error:u}=await he.from("staff").select("*").order("name");if(u)throw u;t(c||[])}catch(c){Ce.error("Failed to load staff"),console.error("Error fetching staff:",c)}finally{r(!1)}},i=async c=>{try{if(c.password&&c.password.length>=6){const{data:{session:f}}=await he.auth.getSession();if(!f)throw new Error("You must be logged in to create staff accounts");const{data:h,error:m}=await he.auth.signUp({email:c.email,password:c.password,options:{data:{full_name:c.name,user_type:"staff"}}});if(m)throw m;if(!h.user)throw new Error("Failed to create user account");const{error:x}=await he.auth.setSession({access_token:f.access_token,refresh_token:f.refresh_token});x&&console.error("Failed to restore admin session:",x);const{error:v}=await he.from("clients").delete().eq("user_id",h.user.id);v&&console.error("Failed to delete auto-created client:",v);const{error:y}=await he.from("user_roles").delete().eq("user_id",h.user.id).eq("role","client");y&&console.error("Failed to delete auto-created client role:",y);const{error:b}=await he.from("user_roles").insert({user_id:h.user.id,role:"staff"});if(b)throw console.error("Role creation error:",b),new Error("Failed to assign staff role");const{data:g,error:w}=await he.from("staff").insert([{user_id:h.user.id,name:c.name,email:c.email,phone:c.phone||null,title:c.title,bio:c.bio||null,is_active:c.is_active,avatar_url:c.avatar_url||null}]).select().single();if(w)throw w;return await s(),Ce.success("Staff account created successfully"),{success:!0}}const{data:u,error:d}=await he.from("staff").insert([{name:c.name,email:c.email,phone:c.phone||null,title:c.title,bio:c.bio||null,is_active:c.is_active,avatar_url:c.avatar_url||null}]).select().single();if(d)throw d;return t(f=>[...f,u]),Ce.success("Staff member created successfully"),{success:!0}}catch(u){const d=u instanceof Error?u.message:"Failed to create staff member";return Ce.error(d),console.error("Create staff error:",u),{success:!1,error:u}}},o=async(c,u)=>{try{const{data:d,error:f}=await he.from("staff").update({name:u.name,phone:u.phone||null,title:u.title,bio:u.bio||null,is_active:u.is_active,avatar_url:u.avatar_url||null}).eq("id",c).select().single();if(f)throw f;return t(h=>h.map(m=>m.id===c?d:m)),Ce.success("Staff member updated successfully"),{success:!0}}catch(d){const f=d instanceof Error?d.message:"Failed to update staff member";return Ce.error(f),{success:!1,error:d}}},a=async c=>{try{const{error:u}=await he.from("staff").delete().eq("id",c);if(u)throw u;return t(d=>d.filter(f=>f.id!==c)),Ce.success("Staff member deleted successfully"),{success:!0}}catch(u){const d=u instanceof Error?u.message:"Failed to delete staff member";return Ce.error(d),{success:!1,error:u}}};return p.useEffect(()=>{s()},[]),{staff:e,loading:n,createStaff:i,updateStaff:o,deleteStaff:a,refetch:s}},$h=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!0),s=async()=>{try{const{data:a,error:c}=await he.from("appointments").select("*").order("appointment_date",{ascending:!1});if(c)throw c;if(!a||a.length===0){t([]);return}const u=[...new Set(a.map(w=>w.client_id))],d=[...new Set(a.map(w=>w.staff_id))],f=[...new Set(a.flatMap(w=>w.service_ids))],{data:h}=await he.from("clients").select("id, name").in("id",u),{data:m}=await he.from("staff").select("id, name, avatar_url").in("id",d),{data:x}=await he.from("services").select("id, name").in("id",f),v=new Map((h==null?void 0:h.map(w=>[w.id,w.name]))||[]),y=new Map((m==null?void 0:m.map(w=>[w.id,{name:w.name,avatar_url:w.avatar_url}]))||[]),b=new Map((x==null?void 0:x.map(w=>[w.id,w.name]))||[]),g=a.map(w=>{var _,S;return{...w,client_name:v.get(w.client_id)||"Unknown Client",staff_name:((_=y.get(w.staff_id))==null?void 0:_.name)||"Unknown Staff",staff_avatar_url:((S=y.get(w.staff_id))==null?void 0:S.avatar_url)||null,service_names:w.service_ids.map(C=>b.get(C)||"Unknown Service")}});t(g)}catch(a){Ce.error("Failed to load appointments"),console.error("Error fetching appointments:",a)}finally{r(!1)}},i=async a=>{try{const{data:c,error:u}=await he.from("appointments").insert([a]).select().single();if(u)throw u;return Ce.success("Appointment booked successfully!"),await s(),{success:!0,data:c}}catch(c){return Ce.error(c.message||"Failed to create appointment"),{success:!1,error:c}}},o=async(a,c)=>{try{const{error:u}=await he.from("appointments").update({status:c}).eq("id",a);if(u)throw u;return t(d=>d.map(f=>f.id===a?{...f,status:c}:f)),Ce.success("Appointment updated successfully"),{success:!0}}catch(u){return Ce.error(u.message||"Failed to update appointment"),{success:!1,error:u}}};return p.useEffect(()=>{s();const a=he.channel("appointments-changes").on("postgres_changes",{event:"*",schema:"public",table:"appointments"},()=>{s()}).subscribe();return()=>{he.removeChannel(a)}},[]),{appointments:e,loading:n,createAppointment:i,updateAppointmentStatus:o,refetch:s}};var _6=p.createContext(void 0);function Vh(e){const t=p.useContext(_6);return e||t||"ltr"}function mv(e,[t,n]){return Math.min(n,Math.max(t,e))}function S6(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Rx="ScrollArea",[vT,HX]=zn(Rx),[j6,ir]=vT(Rx),yT=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,x]=p.useState(null),[v,y]=p.useState(null),[b,g]=p.useState(0),[w,_]=p.useState(0),[S,C]=p.useState(!1),[j,E]=p.useState(!1),k=Ae(t,W=>c(W)),R=Vh(s);return l.jsx(j6,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:j,onScrollbarYEnabledChange:E,onCornerWidthChange:g,onCornerHeightChange:_,children:l.jsx(xe.div,{dir:R,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});yT.displayName=Rx;var xT="ScrollAreaViewport",wT=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=ir(xT,n),a=p.useRef(null),c=Ae(t,a,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(xe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});wT.displayName=xT;var ts="ScrollAreaScrollbar",Ox=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ir(ts,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return p.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?l.jsx(C6,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(E6,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(bT,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(Mx,{...r,ref:t}):null});Ox.displayName=ts;var C6=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ir(ts,e.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(on,{present:n||i,children:l.jsx(bT,{"data-state":i?"visible":"hidden",...r,ref:t})})}),E6=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ir(ts,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Uh(()=>c("SCROLL_END"),100),[a,c]=S6("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),l.jsx(on,{present:n||a!=="hidden",children:l.jsx(Mx,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Q(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Q(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),bT=p.forwardRef((e,t)=>{const n=ir(ts,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=p.useState(!1),a=e.orientation==="horizontal",c=Uh(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return Ja(n.viewport,c),Ja(n.content,c),l.jsx(on,{present:r||i,children:l.jsx(Mx,{"data-state":i?"visible":"hidden",...s,ref:t})})}),Mx=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=ir(ts,e.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[a,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ET(a.viewport,a.content),d={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return R6(h,o.current,a,m)}return n==="horizontal"?l.jsx(N6,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=L_(h,a,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?l.jsx(k6,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=L_(h,a);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),N6=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=ir(ts,e.__scopeScrollArea),[o,a]=p.useState(),c=p.useRef(null),u=Ae(t,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(ST,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Bh(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),kT(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:If(o.paddingLeft),paddingEnd:If(o.paddingRight)}})}})}),k6=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=ir(ts,e.__scopeScrollArea),[o,a]=p.useState(),c=p.useRef(null),u=Ae(t,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(ST,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Bh(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),kT(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:If(o.paddingTop),paddingEnd:If(o.paddingBottom)}})}})}),[T6,_T]=vT(ts),ST=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=ir(ts,n),[x,v]=p.useState(null),y=Ae(t,k=>v(k)),b=p.useRef(null),g=p.useRef(""),w=m.viewport,_=r.content-r.viewport,S=bt(d),C=bt(c),j=Uh(f,10);function E(k){if(b.current){const R=k.clientX-b.current.left,W=k.clientY-b.current.top;u({x:R,y:W})}}return p.useEffect(()=>{const k=R=>{const W=R.target;(x==null?void 0:x.contains(W))&&S(R,_)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[w,x,_,S]),p.useEffect(C,[r,C]),Ja(x,j),Ja(m.content,j),l.jsx(T6,{scope:n,scrollbar:x,hasThumb:s,onThumbChange:bt(i),onThumbPointerUp:bt(o),onThumbPositionChange:C,onThumbPointerDown:bt(a),children:l.jsx(xe.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:Q(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),b.current=x.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(k))}),onPointerMove:Q(e.onPointerMove,E),onPointerUp:Q(e.onPointerUp,k=>{const R=k.target;R.hasPointerCapture(k.pointerId)&&R.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=g.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Df="ScrollAreaThumb",jT=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=_T(Df,e.__scopeScrollArea);return l.jsx(on,{present:n||s.hasThumb,children:l.jsx(P6,{ref:t,...r})})}),P6=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=ir(Df,n),o=_T(Df,n),{onThumbPositionChange:a}=o,c=Ae(t,f=>o.onThumbChange(f)),u=p.useRef(void 0),d=Uh(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=O6(f,a);u.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,a]),l.jsx(xe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Q(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),x=f.clientX-m.left,v=f.clientY-m.top;o.onThumbPointerDown({x,y:v})}),onPointerUp:Q(e.onPointerUp,o.onThumbPointerUp)})});jT.displayName=Df;var Dx="ScrollAreaCorner",CT=p.forwardRef((e,t)=>{const n=ir(Dx,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(A6,{...e,ref:t}):null});CT.displayName=Dx;var A6=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=ir(Dx,n),[i,o]=p.useState(0),[a,c]=p.useState(0),u=!!(i&&a);return Ja(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Ja(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?l.jsx(xe.div,{...r,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function If(e){return e?parseInt(e,10):0}function ET(e,t){const n=e/t;return isNaN(n)?0:n}function Bh(e){const t=ET(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function R6(e,t,n,r="ltr"){const s=Bh(n),i=s/2,o=t||i,a=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return NT([c,u],f)(e)}function L_(e,t,n="ltr"){const r=Bh(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=mv(e,c);return NT([0,o],[0,a])(u)}function NT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function kT(e,t){return e>0&&e<t}var O6=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Uh(e,t){const n=bt(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ja(e,t){const n=bt(t);Ut(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var TT=yT,M6=wT,D6=CT;const Ix=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(TT,{ref:r,className:K("relative overflow-hidden",e),...n,children:[l.jsx(M6,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(PT,{}),l.jsx(D6,{})]}));Ix.displayName=TT.displayName;const PT=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(Ox,{ref:r,orientation:t,className:K("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(jT,{className:"relative flex-1 rounded-full bg-border"})}));PT.displayName=Ox.displayName;var op=0;function zh(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??F_()),document.body.insertAdjacentElement("beforeend",e[1]??F_()),op++,()=>{op===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),op--}},[])}function F_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ap="focusScope.autoFocusOnMount",lp="focusScope.autoFocusOnUnmount",$_={bubbles:!1,cancelable:!0},I6="FocusScope",cu=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,c]=p.useState(null),u=bt(s),d=bt(i),f=p.useRef(null),h=Ae(t,v=>c(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(w){if(m.paused||!a)return;const _=w.target;a.contains(_)?f.current=_:Fs(f.current,{select:!0})},y=function(w){if(m.paused||!a)return;const _=w.relatedTarget;_!==null&&(a.contains(_)||Fs(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Fs(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const g=new MutationObserver(b);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),g.disconnect()}}},[r,a,m.paused]),p.useEffect(()=>{if(a){B_.add(m);const v=document.activeElement;if(!a.contains(v)){const b=new CustomEvent(ap,$_);a.addEventListener(ap,u),a.dispatchEvent(b),b.defaultPrevented||(L6(U6(AT(a)),{select:!0}),document.activeElement===v&&Fs(a))}return()=>{a.removeEventListener(ap,u),setTimeout(()=>{const b=new CustomEvent(lp,$_);a.addEventListener(lp,d),a.dispatchEvent(b),b.defaultPrevented||Fs(v??document.body,{select:!0}),a.removeEventListener(lp,d),B_.remove(m)},0)}}},[a,u,d,m]);const x=p.useCallback(v=>{if(!n&&!r||m.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(y&&b){const g=v.currentTarget,[w,_]=F6(g);w&&_?!v.shiftKey&&b===_?(v.preventDefault(),n&&Fs(w,{select:!0})):v.shiftKey&&b===w&&(v.preventDefault(),n&&Fs(_,{select:!0})):b===g&&v.preventDefault()}},[n,r,m.paused]);return l.jsx(xe.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});cu.displayName=I6;function L6(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Fs(r,{select:t}),document.activeElement!==n)return}function F6(e){const t=AT(e),n=V_(t,e),r=V_(t.reverse(),e);return[n,r]}function AT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function V_(e,t){for(const n of e)if(!$6(n,{upTo:t}))return n}function $6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function V6(e){return e instanceof HTMLInputElement&&"select"in e}function Fs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&V6(e)&&t&&e.select()}}var B_=B6();function B6(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=U_(e,t),e.unshift(t)},remove(t){var n;e=U_(e,t),(n=e[0])==null||n.resume()}}}function U_(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function U6(e){return e.filter(t=>t.tagName!=="A")}var z6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ho=new WeakMap,od=new WeakMap,ad={},cp=0,RT=function(e){return e&&(e.host||RT(e.parentNode))},W6=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=RT(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},H6=function(e,t,n,r){var s=W6(t,Array.isArray(e)?e:[e]);ad[n]||(ad[n]=new WeakMap);var i=ad[n],o=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),x=m!==null&&m!=="false",v=(Ho.get(h)||0)+1,y=(i.get(h)||0)+1;Ho.set(h,v),i.set(h,y),o.push(h),v===1&&x&&od.set(h,!0),y===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),a.clear(),cp++,function(){o.forEach(function(f){var h=Ho.get(f)-1,m=i.get(f)-1;Ho.set(f,h),i.set(f,m),h||(od.has(f)||f.removeAttribute(r),od.delete(f)),m||f.removeAttribute(n)}),cp--,cp||(Ho=new WeakMap,Ho=new WeakMap,od=new WeakMap,ad={})}},Wh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=z6(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),H6(r,s,n,"aria-hidden")):function(){return null}},Od="right-scroll-bar-position",Md="width-before-scroll-bar",K6="with-scroll-bars-hidden",q6="--removed-body-scroll-bar-size";function up(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function G6(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var Y6=typeof window<"u"?p.useLayoutEffect:p.useEffect,z_=new WeakMap;function Q6(e,t){var n=G6(null,function(r){return e.forEach(function(s){return up(s,r)})});return Y6(function(){var r=z_.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||up(a,null)}),i.forEach(function(a){s.has(a)||up(a,o)})}z_.set(n,e)},[e]),n}function X6(e){return e}function Z6(e,t){t===void 0&&(t=X6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function J6(e){e===void 0&&(e={});var t=Z6(null);return t.options=Yn({async:!0,ssr:!1},e),t}var OT=function(e){var t=e.sideCar,n=ki(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Yn({},n))};OT.isSideCarExport=!0;function e8(e,t){return e.useMedium(t),OT}var MT=J6(),dp=function(){},Hh=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:dp,onWheelCapture:dp,onTouchMoveCapture:dp}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,x=e.noIsolation,v=e.inert,y=e.allowPinchZoom,b=e.as,g=b===void 0?"div":b,w=e.gapMode,_=ki(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,C=Q6([n,t]),j=Yn(Yn({},_),s);return p.createElement(p.Fragment,null,d&&p.createElement(S,{sideCar:MT,removeScrollBar:u,shards:f,noRelative:m,noIsolation:x,inert:v,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?p.cloneElement(p.Children.only(a),Yn(Yn({},j),{ref:C})):p.createElement(g,Yn({},j,{className:c,ref:C}),a))});Hh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hh.classNames={fullWidth:Md,zeroRight:Od};var t8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function n8(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=t8();return t&&e.setAttribute("nonce",t),e}function r8(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function s8(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var i8=function(){var e=0,t=null;return{add:function(n){e==0&&(t=n8())&&(r8(t,n),s8(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},o8=function(){var e=i8();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},DT=function(){var e=o8(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},a8={left:0,top:0,right:0,gap:0},fp=function(e){return parseInt(e||"",10)||0},l8=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[fp(n),fp(r),fp(s)]},c8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return a8;var t=l8(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},u8=DT(),Ca="data-scroll-locked",d8=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(K6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ca,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Od,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Md,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Od," .").concat(Od,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Md," .").concat(Md,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ca,`] {
    `).concat(q6,": ").concat(a,`px;
  }
`)},W_=function(){var e=parseInt(document.body.getAttribute(Ca)||"0",10);return isFinite(e)?e:0},f8=function(){p.useEffect(function(){return document.body.setAttribute(Ca,(W_()+1).toString()),function(){var e=W_()-1;e<=0?document.body.removeAttribute(Ca):document.body.setAttribute(Ca,e.toString())}},[])},h8=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;f8();var i=p.useMemo(function(){return c8(s)},[s]);return p.createElement(u8,{styles:d8(i,!t,s,n?"":"!important")})},pv=!1;if(typeof window<"u")try{var ld=Object.defineProperty({},"passive",{get:function(){return pv=!0,!0}});window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,ld)}catch{pv=!1}var Ko=pv?{passive:!1}:!1,m8=function(e){return e.tagName==="TEXTAREA"},IT=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!m8(e)&&n[t]==="visible")},p8=function(e){return IT(e,"overflowY")},g8=function(e){return IT(e,"overflowX")},H_=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=LT(e,r);if(s){var i=FT(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},v8=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},y8=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},LT=function(e,t){return e==="v"?p8(t):g8(t)},FT=function(e,t){return e==="v"?v8(t):y8(t)},x8=function(e,t){return e==="h"&&t==="rtl"?-1:1},w8=function(e,t,n,r,s){var i=x8(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,c=t.contains(a),u=!1,d=o>0,f=0,h=0;do{if(!a)break;var m=FT(e,a),x=m[0],v=m[1],y=m[2],b=v-y-i*x;(x||b)&&LT(e,a)&&(f+=b,h+=x);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},cd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},K_=function(e){return[e.deltaX,e.deltaY]},q_=function(e){return e&&"current"in e?e.current:e},b8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},S8=0,qo=[];function j8(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(S8++)[0],i=p.useState(DT)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=vx([e.lockRef.current],(e.shards||[]).map(q_),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var b=cd(v),g=n.current,w="deltaX"in v?v.deltaX:g[0]-b[0],_="deltaY"in v?v.deltaY:g[1]-b[1],S,C=v.target,j=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in v&&j==="h"&&C.type==="range")return!1;var E=H_(j,C);if(!E)return!0;if(E?S=j:(S=j==="v"?"h":"v",E=H_(j,C)),!E)return!1;if(!r.current&&"changedTouches"in v&&(w||_)&&(r.current=S),!S)return!0;var k=r.current||S;return w8(k,y,v,k==="h"?w:_,!0)},[]),c=p.useCallback(function(v){var y=v;if(!(!qo.length||qo[qo.length-1]!==i)){var b="deltaY"in y?K_(y):cd(y),g=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&b8(S.delta,b)})[0];if(g&&g.should){y.cancelable&&y.preventDefault();return}if(!g){var w=(o.current.shards||[]).map(q_).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=w.length>0?a(y,w[0]):!o.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=p.useCallback(function(v,y,b,g){var w={name:v,delta:y,target:b,should:g,shadowParent:C8(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=p.useCallback(function(v){n.current=cd(v),r.current=void 0},[]),f=p.useCallback(function(v){u(v.type,K_(v),v.target,a(v,e.lockRef.current))},[]),h=p.useCallback(function(v){u(v.type,cd(v),v.target,a(v,e.lockRef.current))},[]);p.useEffect(function(){return qo.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ko),document.addEventListener("touchmove",c,Ko),document.addEventListener("touchstart",d,Ko),function(){qo=qo.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Ko),document.removeEventListener("touchmove",c,Ko),document.removeEventListener("touchstart",d,Ko)}},[]);var m=e.removeScrollBar,x=e.inert;return p.createElement(p.Fragment,null,x?p.createElement(i,{styles:_8(s)}):null,m?p.createElement(h8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function C8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const E8=e8(MT,j8);var uu=p.forwardRef(function(e,t){return p.createElement(Hh,Yn({},e,{ref:t,sideCar:E8}))});uu.classNames=Hh.classNames;var Kh="Popover",[$T,KX]=zn(Kh,[Ci]),du=Ci(),[N8,Pi]=$T(Kh),VT=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,a=du(t),c=p.useRef(null),[u,d]=p.useState(!1),[f,h]=mi({prop:r,defaultProp:s??!1,onChange:i,caller:Kh});return l.jsx(ix,{...a,children:l.jsx(N8,{scope:t,contentId:Gr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:o,children:n})})};VT.displayName=Kh;var BT="PopoverAnchor",k8=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Pi(BT,n),i=du(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return p.useEffect(()=>(o(),()=>a()),[o,a]),l.jsx(ru,{...i,...r,ref:t})});k8.displayName=BT;var UT="PopoverTrigger",zT=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Pi(UT,n),i=du(n),o=Ae(t,s.triggerRef),a=l.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":GT(s.open),...r,ref:o,onClick:Q(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(ru,{asChild:!0,...i,children:a})});zT.displayName=UT;var Lx="PopoverPortal",[T8,P8]=$T(Lx,{forceMount:void 0}),WT=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=Pi(Lx,t);return l.jsx(T8,{scope:t,forceMount:n,children:l.jsx(on,{present:n||i.open,children:l.jsx(ol,{asChild:!0,container:s,children:r})})})};WT.displayName=Lx;var el="PopoverContent",HT=p.forwardRef((e,t)=>{const n=P8(el,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=Pi(el,e.__scopePopover);return l.jsx(on,{present:r||i.open,children:i.modal?l.jsx(R8,{...s,ref:t}):l.jsx(O8,{...s,ref:t})})});HT.displayName=el;var A8=hi("PopoverContent.RemoveScroll"),R8=p.forwardRef((e,t)=>{const n=Pi(el,e.__scopePopover),r=p.useRef(null),s=Ae(t,r),i=p.useRef(!1);return p.useEffect(()=>{const o=r.current;if(o)return Wh(o)},[]),l.jsx(uu,{as:A8,allowPinchZoom:!0,children:l.jsx(KT,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,u=a.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Q(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),O8=p.forwardRef((e,t)=>{const n=Pi(el,e.__scopePopover),r=p.useRef(!1),s=p.useRef(!1);return l.jsx(KT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),KT=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Pi(el,n),m=du(n);return zh(),l.jsx(cu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(Ch,{"data-state":GT(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qT="PopoverClose",M8=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Pi(qT,n);return l.jsx(xe.button,{type:"button",...r,ref:t,onClick:Q(e.onClick,()=>s.onOpenChange(!1))})});M8.displayName=qT;var D8="PopoverArrow",I8=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=du(n);return l.jsx(Eh,{...s,...r,ref:t})});I8.displayName=D8;function GT(e){return e?"open":"closed"}var L8=VT,F8=zT,$8=WT,YT=HT;const V8=L8,B8=F8,QT=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>l.jsx($8,{children:l.jsx(YT,{ref:s,align:t,sideOffset:n,className:K("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));QT.displayName=YT.displayName;var je=function(){return je=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},je.apply(this,arguments)};function U8(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function XT(e,t,n){for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function fu(e){return e.mode==="multiple"}function hu(e){return e.mode==="range"}function qh(e){return e.mode==="single"}var z8={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function W8(e,t){return Pe(e,"LLLL y",t)}function H8(e,t){return Pe(e,"d",t)}function K8(e,t){return Pe(e,"LLLL",t)}function q8(e){return"".concat(e)}function G8(e,t){return Pe(e,"cccccc",t)}function Y8(e,t){return Pe(e,"yyyy",t)}var Q8=Object.freeze({__proto__:null,formatCaption:W8,formatDay:H8,formatMonthCaption:K8,formatWeekNumber:q8,formatWeekdayName:G8,formatYearCaption:Y8}),X8=function(e,t,n){return Pe(e,"do MMMM (EEEE)",n)},Z8=function(){return"Month: "},J8=function(){return"Go to next month"},ez=function(){return"Go to previous month"},tz=function(e,t){return Pe(e,"cccc",t)},nz=function(e){return"Week n. ".concat(e)},rz=function(){return"Year: "},sz=Object.freeze({__proto__:null,labelDay:X8,labelMonthDropdown:Z8,labelNext:J8,labelPrevious:ez,labelWeekNumber:nz,labelWeekday:tz,labelYearDropdown:rz});function iz(){var e="buttons",t=z8,n=uT,r={},s={},i=1,o={},a=new Date;return{captionLayout:e,classNames:t,formatters:Q8,labels:sz,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:o,today:a,mode:"default"}}function oz(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=rn(r):t&&(i=new Date(t,0,1)),s?o=lu(s):n&&(o=new Date(n,11,31)),{fromDate:i?Za(i):void 0,toDate:o?Za(o):void 0}}var ZT=p.createContext(void 0);function az(e){var t,n=e.initialProps,r=iz(),s=oz(n),i=s.fromDate,o=s.toDate,a=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;a!=="buttons"&&(!i||!o)&&(a="buttons");var c;(qh(n)||fu(n)||hu(n))&&(c=n.onSelect);var u=je(je(je({},r),n),{captionLayout:a,classNames:je(je({},r.classNames),n.classNames),components:je({},n.components),formatters:je(je({},r.formatters),n.formatters),fromDate:i,labels:je(je({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:je(je({},r.modifiers),n.modifiers),modifiersClassNames:je(je({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:je(je({},r.styles),n.styles),toDate:o});return l.jsx(ZT.Provider,{value:u,children:e.children})}function et(){var e=p.useContext(ZT);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function JT(e){var t=et(),n=t.locale,r=t.classNames,s=t.styles,i=t.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function lz(e){return l.jsx("svg",je({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function eP(e){var t,n,r=e.onChange,s=e.value,i=e.children,o=e.caption,a=e.className,c=e.style,u=et(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:lz;return l.jsxs("div",{className:a,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:i}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function cz(e){var t,n=et(),r=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var f=[];if(i6(r,s))for(var h=rn(r),m=r.getMonth();m<=s.getMonth();m++)f.push(ip(h,m));else for(var h=rn(new Date),m=0;m<=11;m++)f.push(ip(h,m));var x=function(y){var b=Number(y.target.value),g=ip(rn(e.displayMonth),b);e.onChange(g)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:eP;return l.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:a(e.displayMonth,{locale:o}),children:f.map(function(y){return l.jsx("option",{value:y.getMonth(),children:a(y,{locale:o})},y.getMonth())})})}function uz(e){var t,n=e.displayMonth,r=et(),s=r.fromDate,i=r.toDate,o=r.locale,a=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!s)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});for(var m=s.getFullYear(),x=i.getFullYear(),v=m;v<=x;v++)h.push(I_(lT(new Date),v));var y=function(g){var w=I_(rn(n),Number(g.target.value));e.onChange(w)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:eP;return l.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:a.dropdown_year,onChange:y,value:n.getFullYear(),caption:d(n,{locale:o}),children:h.map(function(g){return l.jsx("option",{value:g.getFullYear(),children:d(g,{locale:o})},g.getFullYear())})})}function dz(e,t){var n=p.useState(e),r=n[0],s=n[1],i=t===void 0?r:t;return[i,s]}function fz(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,i=e.toDate,o=e.fromDate,a=e.numberOfMonths,c=a===void 0?1:a;if(i&&Lc(i,s)<0){var u=-1*(c-1);s=Ar(i,u)}return o&&Lc(s,o)<0&&(s=o),rn(s)}function hz(){var e=et(),t=fz(e),n=dz(t,e.month),r=n[0],s=n[1],i=function(o){var a;if(!e.disableNavigation){var c=rn(o);s(c),(a=e.onMonthChange)===null||a===void 0||a.call(e,c)}};return[r,i]}function mz(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=rn(e),i=rn(Ar(s,r)),o=Lc(i,s),a=[],c=0;c<o;c++){var u=Ar(s,c);a.push(u)}return n&&(a=a.reverse()),a}function pz(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=rn(e);if(!n)return Ar(a,o);var c=Lc(n,e);if(!(c<i))return Ar(a,o)}}function gz(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=rn(e);if(!n)return Ar(a,-o);var c=Lc(a,n);if(!(c<=0))return Ar(a,-o)}}var tP=p.createContext(void 0);function vz(e){var t=et(),n=hz(),r=n[0],s=n[1],i=mz(r,t),o=pz(r,t),a=gz(r,t),c=function(f){return i.some(function(h){return Px(f,h)})},u=function(f,h){c(f)||(h&&pT(f,h)?s(Ar(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:a,nextMonth:o,isDateDisplayed:c};return l.jsx(tP.Provider,{value:d,children:e.children})}function mu(){var e=p.useContext(tP);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function G_(e){var t,n=et(),r=n.classNames,s=n.styles,i=n.components,o=mu().goToMonth,a=function(d){o(Ar(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:JT,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:u}),l.jsx(cz,{onChange:a,displayMonth:e.displayMonth}),l.jsx(uz,{onChange:a,displayMonth:e.displayMonth})]})}function yz(e){return l.jsx("svg",je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function xz(e){return l.jsx("svg",je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Lf=p.forwardRef(function(e,t){var n=et(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),a=je(je({},s.button_reset),s.button);return e.style&&Object.assign(a,e.style),l.jsx("button",je({},e,{ref:t,type:"button",className:o,style:a}))});function wz(e){var t,n,r=et(),s=r.dir,i=r.locale,o=r.classNames,a=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),x=d(e.nextMonth,{locale:i}),v=[o.nav_button,o.nav_button_next].join(" "),y=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:xz,b=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:yz;return l.jsxs("div",{className:o.nav,style:a.nav,children:[!e.hidePrevious&&l.jsx(Lf,{name:"previous-month","aria-label":h,className:m,style:a.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(y,{className:o.nav_icon,style:a.nav_icon}):l.jsx(b,{className:o.nav_icon,style:a.nav_icon})}),!e.hideNext&&l.jsx(Lf,{name:"next-month","aria-label":x,className:v,style:a.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(b,{className:o.nav_icon,style:a.nav_icon}):l.jsx(y,{className:o.nav_icon,style:a.nav_icon})})]})}function Y_(e){var t=et().numberOfMonths,n=mu(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(x){return Px(e.displayMonth,x)}),c=a===0,u=a===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){r&&i(r)},m=function(){s&&i(s)};return l.jsx(wz,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:h,onNextClick:m})}function bz(e){var t,n=et(),r=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,a=n.components,c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:JT,u;return s?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=l.jsx(G_,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(G_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(Y_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Y_,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:r.caption,style:i.caption,children:u})}function _z(e){var t=et(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?l.jsx("tfoot",{className:s,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function Sz(e,t,n){for(var r=n?jo(new Date):Tn(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var o=Ge(r,i);s.push(o)}return s}function jz(){var e=et(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,a=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Sz(s,i,o);return l.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&l.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,f){return l.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:a(d,{locale:s})},f)})]})}function Cz(){var e,t=et(),n=t.classNames,r=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:jz;return l.jsx("thead",{style:r.head,className:n.head,children:l.jsx(i,{})})}function Ez(e){var t=et(),n=t.locale,r=t.formatters.formatDay;return l.jsx(l.Fragment,{children:r(e.date,{locale:n})})}var Fx=p.createContext(void 0);function Nz(e){if(!fu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(Fx.Provider,{value:t,children:e.children})}return l.jsx(kz,{initialProps:e.initialProps,children:e.children})}function kz(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,i=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var x=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!x){var v=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!v){var y=r?XT([],r):[];if(d.selected){var b=y.findIndex(function(g){return Lt(u,g)});y.splice(b,1)}else y.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,y,u,d,f)}}},a={disabled:[]};r&&a.disabled.push(function(u){var d=i&&r.length>i-1,f=r.some(function(h){return Lt(h,u)});return!!(d&&!f)});var c={selected:r,onDayClick:o,modifiers:a};return l.jsx(Fx.Provider,{value:c,children:n})}function $x(){var e=p.useContext(Fx);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Tz(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?Lt(s,e)&&Lt(r,e)?void 0:Lt(s,e)?{from:s,to:void 0}:Lt(r,e)?void 0:hv(r,e)?{from:e,to:s}:{from:r,to:e}:s?hv(e,s)?{from:s,to:e}:{from:e,to:s}:r?pT(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Vx=p.createContext(void 0);function Pz(e){if(!hu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(Vx.Provider,{value:t,children:e.children})}return l.jsx(Az,{initialProps:e.initialProps,children:e.children})}function Az(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},i=s.from,o=s.to,a=t.min,c=t.max,u=function(m,x,v){var y,b;(y=t.onDayClick)===null||y===void 0||y.call(t,m,x,v);var g=Tz(m,r);(b=t.onSelect)===null||b===void 0||b.call(t,g,m,x,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Lt(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),a&&(i&&!o&&d.disabled.push({after:rp(i,a-1),before:Ge(i,a-1)}),i&&o&&d.disabled.push({after:i,before:Ge(i,a-1)}),!i&&o&&d.disabled.push({after:rp(o,a-1),before:Ge(o,a-1)})),c){if(i&&!o&&(d.disabled.push({before:Ge(i,-c+1)}),d.disabled.push({after:Ge(i,c-1)})),i&&o){var f=Wr(o,i)+1,h=c-f;d.disabled.push({before:rp(i,h)}),d.disabled.push({after:Ge(o,h)})}!i&&o&&(d.disabled.push({before:Ge(o,-c+1)}),d.disabled.push({after:Ge(o,c-1)}))}return l.jsx(Vx.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function Bx(){var e=p.useContext(Vx);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Dd(e){return Array.isArray(e)?XT([],e):e!==void 0?[e]:[]}function Rz(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=Dd(s)}),t}var Rr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Rr||(Rr={}));var Oz=Rr.Selected,is=Rr.Disabled,Mz=Rr.Hidden,Dz=Rr.Today,hp=Rr.RangeEnd,mp=Rr.RangeMiddle,pp=Rr.RangeStart,Iz=Rr.Outside;function Lz(e,t,n){var r,s=(r={},r[Oz]=Dd(e.selected),r[is]=Dd(e.disabled),r[Mz]=Dd(e.hidden),r[Dz]=[e.today],r[hp]=[],r[mp]=[],r[pp]=[],r[Iz]=[],r);return e.fromDate&&s[is].push({before:e.fromDate}),e.toDate&&s[is].push({after:e.toDate}),fu(e)?s[is]=s[is].concat(t.modifiers[is]):hu(e)&&(s[is]=s[is].concat(n.modifiers[is]),s[pp]=n.modifiers[pp],s[mp]=n.modifiers[mp],s[hp]=n.modifiers[hp]),s}var nP=p.createContext(void 0);function Fz(e){var t=et(),n=$x(),r=Bx(),s=Lz(t,n,r),i=Rz(t.modifiers),o=je(je({},s),i);return l.jsx(nP.Provider,{value:o,children:e.children})}function rP(){var e=p.useContext(nP);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function $z(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Vz(e){return!!(e&&typeof e=="object"&&"from"in e)}function Bz(e){return!!(e&&typeof e=="object"&&"after"in e)}function Uz(e){return!!(e&&typeof e=="object"&&"before"in e)}function zz(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Wz(e,t){var n,r=t.from,s=t.to;if(r&&s){var i=Wr(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var o=Wr(e,r)>=0&&Wr(s,e)>=0;return o}return s?Lt(s,e):r?Lt(r,e):!1}function Hz(e){return kx(e)}function Kz(e){return Array.isArray(e)&&e.every(kx)}function qz(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Hz(n))return Lt(e,n);if(Kz(n))return n.includes(e);if(Vz(n))return Wz(e,n);if(zz(n))return n.dayOfWeek.includes(e.getDay());if($z(n)){var r=Wr(n.before,e),s=Wr(n.after,e),i=r>0,o=s<0,a=hv(n.before,n.after);return a?o&&i:i||o}return Bz(n)?Wr(e,n.after)>0:Uz(n)?Wr(n.before,e)>0:typeof n=="function"?n(e):!1})}function Ux(e,t,n){var r=Object.keys(t).reduce(function(i,o){var a=t[o];return qz(e,a)&&i.push(o),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!Px(e,n)&&(s.outside=!0),s}function Gz(e,t){for(var n=rn(e[0]),r=lu(e[e.length-1]),s,i,o=n;o<=r;){var a=Ux(o,t),c=!a.disabled&&!a.hidden;if(!c){o=Ge(o,1);continue}if(a.selected)return o;a.today&&!i&&(i=o),s||(s=o),o=Ge(o,1)}return i||s}var Yz=365;function sP(e,t){var n=t.moveBy,r=t.direction,s=t.context,i=t.modifiers,o=t.retry,a=o===void 0?{count:0,lastFocused:e}:o,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,h={day:Ge,week:Ic,month:Ar,year:XB,startOfWeek:function(y){return s.ISOWeek?jo(y):Tn(y,{locale:f,weekStartsOn:c})},endOfWeek:function(y){return s.ISOWeek?cT(y):Tx(y,{locale:f,weekStartsOn:c})}},m=h[n](e,r==="after"?1:-1);r==="before"&&u?m=ZB([u,m]):r==="after"&&d&&(m=JB([d,m]));var x=!0;if(i){var v=Ux(m,i);x=!v.disabled&&!v.hidden}return x?m:a.count>Yz?a.lastFocused:sP(m,{moveBy:n,direction:r,context:s,modifiers:i,retry:je(je({},a),{count:a.count+1})})}var iP=p.createContext(void 0);function Qz(e){var t=mu(),n=rP(),r=p.useState(),s=r[0],i=r[1],o=p.useState(),a=o[0],c=o[1],u=Gz(t.displayMonths,n),d=s??(a&&t.isDateDisplayed(a))?a:u,f=function(){c(s),i(void 0)},h=function(y){i(y)},m=et(),x=function(y,b){if(s){var g=sP(s,{moveBy:y,direction:b,context:m,modifiers:n});Lt(s,g)||(t.goToDate(g,s),h(g))}},v={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return l.jsx(iP.Provider,{value:v,children:e.children})}function zx(){var e=p.useContext(iP);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Xz(e,t){var n=rP(),r=Ux(e,n,t);return r}var Wx=p.createContext(void 0);function Zz(e){if(!qh(e.initialProps)){var t={selected:void 0};return l.jsx(Wx.Provider,{value:t,children:e.children})}return l.jsx(Jz,{initialProps:e.initialProps,children:e.children})}function Jz(e){var t=e.initialProps,n=e.children,r=function(i,o,a){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,a),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,a);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,a)},s={selected:t.selected,onDayClick:r};return l.jsx(Wx.Provider,{value:s,children:n})}function oP(){var e=p.useContext(Wx);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function eW(e,t){var n=et(),r=oP(),s=$x(),i=Bx(),o=zx(),a=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,x=o.focusMonthAfter,v=o.focusYearBefore,y=o.focusYearAfter,b=o.focusStartOfWeek,g=o.focusEndOfWeek,w=function(O){var T,P,V,te;qh(n)?(T=r.onDayClick)===null||T===void 0||T.call(r,e,t,O):fu(n)?(P=s.onDayClick)===null||P===void 0||P.call(s,e,t,O):hu(n)?(V=i.onDayClick)===null||V===void 0||V.call(i,e,t,O):(te=n.onDayClick)===null||te===void 0||te.call(n,e,t,O)},_=function(O){var T;h(e),(T=n.onDayFocus)===null||T===void 0||T.call(n,e,t,O)},S=function(O){var T;f(),(T=n.onDayBlur)===null||T===void 0||T.call(n,e,t,O)},C=function(O){var T;(T=n.onDayMouseEnter)===null||T===void 0||T.call(n,e,t,O)},j=function(O){var T;(T=n.onDayMouseLeave)===null||T===void 0||T.call(n,e,t,O)},E=function(O){var T;(T=n.onDayPointerEnter)===null||T===void 0||T.call(n,e,t,O)},k=function(O){var T;(T=n.onDayPointerLeave)===null||T===void 0||T.call(n,e,t,O)},R=function(O){var T;(T=n.onDayTouchCancel)===null||T===void 0||T.call(n,e,t,O)},W=function(O){var T;(T=n.onDayTouchEnd)===null||T===void 0||T.call(n,e,t,O)},D=function(O){var T;(T=n.onDayTouchMove)===null||T===void 0||T.call(n,e,t,O)},q=function(O){var T;(T=n.onDayTouchStart)===null||T===void 0||T.call(n,e,t,O)},$=function(O){var T;(T=n.onDayKeyUp)===null||T===void 0||T.call(n,e,t,O)},ne=function(O){var T;switch(O.key){case"ArrowLeft":O.preventDefault(),O.stopPropagation(),n.dir==="rtl"?a():c();break;case"ArrowRight":O.preventDefault(),O.stopPropagation(),n.dir==="rtl"?c():a();break;case"ArrowDown":O.preventDefault(),O.stopPropagation(),u();break;case"ArrowUp":O.preventDefault(),O.stopPropagation(),d();break;case"PageUp":O.preventDefault(),O.stopPropagation(),O.shiftKey?v():m();break;case"PageDown":O.preventDefault(),O.stopPropagation(),O.shiftKey?y():x();break;case"Home":O.preventDefault(),O.stopPropagation(),b();break;case"End":O.preventDefault(),O.stopPropagation(),g();break}(T=n.onDayKeyDown)===null||T===void 0||T.call(n,e,t,O)},H={onClick:w,onFocus:_,onBlur:S,onKeyDown:ne,onKeyUp:$,onMouseEnter:C,onMouseLeave:j,onPointerEnter:E,onPointerLeave:k,onTouchCancel:R,onTouchEnd:W,onTouchMove:D,onTouchStart:q};return H}function tW(){var e=et(),t=oP(),n=$x(),r=Bx(),s=qh(e)?t.selected:fu(e)?n.selected:hu(e)?r.selected:void 0;return s}function nW(e){return Object.values(Rr).includes(e)}function rW(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(nW(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function sW(e,t){var n=je({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=je(je({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function iW(e,t,n){var r,s,i,o=et(),a=zx(),c=Xz(e,t),u=eW(e,c),d=tW(),f=!!(o.onDayClick||o.mode!=="default");p.useEffect(function(){var C;c.outside||a.focusedDay&&f&&Lt(a.focusedDay,e)&&((C=n.current)===null||C===void 0||C.focus())},[a.focusedDay,e,n,f,c.outside]);var h=rW(o,c).join(" "),m=sW(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:Ez,y=l.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),b={style:m,className:h,children:y,role:"gridcell"},g=a.focusTarget&&Lt(a.focusTarget,e)&&!c.outside,w=a.focusedDay&&Lt(a.focusedDay,e),_=je(je(je({},b),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=w||g?0:-1,r)),u),S={isButton:f,isHidden:x,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:b};return S}function oW(e){var t=p.useRef(null),n=iW(e.date,e.displayMonth,t);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(Lf,je({name:"day",ref:t},n.buttonProps)):l.jsx("div",je({},n.divProps))}function aW(e){var t=e.number,n=e.dates,r=et(),s=r.onWeekNumberClick,i=r.styles,o=r.classNames,a=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:a});if(!s)return l.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:a}),h=function(m){s(t,n,m)};return l.jsx(Lf,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function lW(e){var t,n,r=et(),s=r.styles,i=r.classNames,o=r.showWeekNumber,a=r.components,c=(t=a==null?void 0:a.Day)!==null&&t!==void 0?t:oW,u=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:aW,d;return o&&(d=l.jsx("td",{className:i.cell,style:s.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:i.row,style:s.row,children:[d,e.dates.map(function(f){return l.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:f})},e6(f))})]})}function Q_(e,t,n){for(var r=n!=null&&n.ISOWeek?cT(t):Tx(t,n),s=n!=null&&n.ISOWeek?jo(e):Tn(e,n),i=Wr(r,s),o=[],a=0;a<=i;a++)o.push(Ge(s,a));var c=o.reduce(function(u,d){var f=n!=null&&n.ISOWeek?dT(d):hT(d,n),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function cW(e,t){var n=Q_(rn(e),lu(e),t);if(t!=null&&t.useFixedWeeks){var r=n6(e,t);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=Ic(i,6-r),a=Q_(Ic(i,1),o,t);n.push.apply(n,a)}}return n}function uW(e){var t,n,r,s=et(),i=s.locale,o=s.classNames,a=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,m=s.ISOWeek,x=cW(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),v=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Cz,y=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:lW,b=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:_z;return l.jsxs("table",{id:e.id,className:o.table,style:a.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(v,{}),l.jsx("tbody",{className:o.tbody,style:a.tbody,children:x.map(function(g){return l.jsx(y,{displayMonth:e.displayMonth,dates:g.dates,weekNumber:g.weekNumber},g.weekNumber)})}),l.jsx(b,{displayMonth:e.displayMonth})]})}function dW(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var fW=dW()?p.useLayoutEffect:p.useEffect,gp=!1,hW=0;function X_(){return"react-day-picker-".concat(++hW)}function mW(e){var t,n=e??(gp?X_():null),r=p.useState(n),s=r[0],i=r[1];return fW(function(){s===null&&i(X_())},[]),p.useEffect(function(){gp===!1&&(gp=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function pW(e){var t,n,r=et(),s=r.dir,i=r.classNames,o=r.styles,a=r.components,c=mu().displayMonths,u=mW(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,x=e.displayIndex===c.length-1,v=!m&&!x;s==="rtl"&&(t=[m,x],x=t[0],m=t[1]),m&&(f.push(i.caption_start),h=je(je({},h),o.caption_start)),x&&(f.push(i.caption_end),h=je(je({},h),o.caption_end)),v&&(f.push(i.caption_between),h=je(je({},h),o.caption_between));var y=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:bz;return l.jsxs("div",{className:f.join(" "),style:h,children:[l.jsx(y,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(uW,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function gW(e){var t=et(),n=t.classNames,r=t.styles;return l.jsx("div",{className:n.months,style:r.months,children:e.children})}function vW(e){var t,n,r=e.initialProps,s=et(),i=zx(),o=mu(),a=p.useState(!1),c=a[0],u=a[1];p.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=je(je({},s.styles.root),s.style),h=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,v){var y;return je(je({},x),(y={},y[v]=r[v],y))},{}),m=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:gW;return l.jsx("div",je({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:l.jsx(m,{children:o.displayMonths.map(function(x,v){return l.jsx(pW,{displayIndex:v,displayMonth:x},v)})})}))}function yW(e){var t=e.children,n=U8(e,["children"]);return l.jsx(az,{initialProps:n,children:l.jsx(vz,{children:l.jsx(Zz,{initialProps:n,children:l.jsx(Nz,{initialProps:n,children:l.jsx(Pz,{initialProps:n,children:l.jsx(Fz,{children:l.jsx(Qz,{children:t})})})})})})})}function xW(e){return l.jsx(yW,je({},e,{children:l.jsx(vW,{initialProps:e})}))}function aP({className:e,classNames:t,showOutsideDays:n=!0,...r}){return l.jsx(xW,{showOutsideDays:n,className:K("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:K(Mc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:K(Mc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>l.jsx(Ji,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(_n,{className:"h-4 w-4"})},...r})}aP.displayName="Calendar";const wW=()=>{var we;const e=Rh();Ni();const[t,n]=p.useState("service"),[r,s]=p.useState([]),[i,o]=p.useState(null),[a,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(!1);p.useState(Tn(new Date,{weekStartsOn:1})),p.useState({name:"",email:"",phone:"",notes:""});const{services:m,categories:x,loading:v}=hl(),{staff:y,loading:b}=Ax(),{user:g,loading:w}=rr(),{createAppointment:_}=$h(),[S,C]=p.useState(Tn(new Date,{weekStartsOn:1})),[j,E]=p.useState({name:"",email:"",phone:"",notes:""});p.useEffect(()=>{g||e("/auth",{replace:!0})},[g,e]),p.useEffect(()=>{g&&E(M=>{var ce,De;return{...M,name:((ce=g.user_metadata)==null?void 0:ce.full_name)||M.name,email:g.email||M.email,phone:((De=g.user_metadata)==null?void 0:De.phone)||M.phone}})},[g]);const[k,R]=p.useState([]),[W,D]=p.useState([]),[q,$]=p.useState(!0);if(p.useEffect(()=>{R(m),D(y),$(w)},[m,y,w]),q)return l.jsx("div",{children:"Loading..."});if(!g)return l.jsx(mx,{to:"/auth",replace:!0});const ne=k.filter(M=>M.is_active),H=W.filter(M=>M.is_active),O=Array.from({length:7},(M,ce)=>Ge(S,ce)),P=(()=>{const M=[];for(let L=10;L<=17;L++)for(let ue=0;ue<60&&!(L===17&&ue>0);ue+=15){const $e=L>=12?"PM":"AM",lt=`${(L>12?L-12:L===0?12:L).toString().padStart(2,"0")}:${ue.toString().padStart(2,"0")} ${$e}`,N=`${L.toString().padStart(2,"0")}:${ue.toString().padStart(2,"0")}`;M.push({display:lt,value:N})}return M})(),V=[{key:"service",label:"Services"},{key:"staff",label:"Specialist"},{key:"datetime",label:"Date & Time"},{key:"details",label:"Your Details"},{key:"confirm",label:"Confirm"}],te=V.findIndex(M=>M.key===t),J=()=>{const M=te+1;M<V.length&&n(V[M].key)},fe=()=>{const M=te-1;M>=0&&n(V[M].key)},ge=M=>{s(ce=>ce.find(L=>L.id===M.id)?ce.filter(L=>L.id!==M.id):[...ce,M])},Me=M=>{s(ce=>ce.filter(De=>De.id!==M))},z=r.reduce((M,ce)=>M+Number(ce.price),0),B=r.reduce((M,ce)=>M+ce.duration,0),ve=H.find(M=>M.id===i),ye=()=>{C(M=>b6(M,1))},_e=()=>{C(M=>Ic(M,1))};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"sticky top-0 z-50 glass-panel border-b border-border",children:l.jsx("div",{className:"container mx-auto px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(en,{to:"/",className:"flex items-center gap-2",children:l.jsx("img",{src:"/public/gwyn.png",alt:"Gwyn Logo",className:"h-14 w-22 object-cover rounded-full"})}),l.jsx(en,{to:"/",children:l.jsxs(Z,{variant:"ghost",size:"sm",children:[l.jsx(qi,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})})}),l.jsxs("div",{className:"container mx-auto px-6 py-8",children:[l.jsx("div",{className:"mb-12",children:l.jsx("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:V.map((M,ce)=>l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:K("flex items-center gap-2",ce<=te?"text-foreground":"text-muted-foreground"),children:[l.jsx("div",{className:K("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all",ce<te?"bg-primary text-primary-foreground":ce===te?"bg-primary text-primary-foreground ring-4 ring-primary/20":"bg-muted text-muted-foreground"),children:ce<te?l.jsx(Cc,{className:"h-4 w-4"}):ce+1}),l.jsx("span",{className:"hidden md:block text-sm font-medium",children:M.label})]}),ce<V.length-1&&l.jsx(_n,{className:"h-4 w-4 mx-2 text-muted-foreground"})]},M.key))})}),l.jsxs("div",{className:"max-w-6xl mx-auto",children:[t==="service"&&l.jsxs("div",{className:"animate-fade-in",children:[l.jsx("h2",{className:"text-3xl font-serif font-semibold text-foreground mb-2 text-center",children:"Choose Your Treatments"}),l.jsx("p",{className:"text-muted-foreground text-center mb-8",children:"Select one or more services from our premium offerings"}),v?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2 glass-card rounded-2xl overflow-hidden",children:l.jsxs(Ix,{className:"h-[500px]",children:[x.map(M=>{const ce=ne.filter(De=>De.category===M);return ce.length===0?null:l.jsxs("div",{className:"border-b border-border last:border-b-0",children:[l.jsx("div",{className:"bg-muted/50 px-6 py-3 sticky top-0 z-10",children:l.jsx("h3",{className:"font-semibold text-foreground",children:M})}),l.jsx("div",{className:"divide-y divide-border",children:ce.map(De=>{const L=r.some(ue=>ue.id===De.id);return l.jsxs("div",{className:K("flex items-center justify-between px-6 py-4 transition-colors",L&&"bg-primary/5"),children:[l.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[l.jsx("h4",{className:"font-medium text-foreground",children:De.name}),l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:De.description||"No description"}),l.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[l.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(kr,{className:"h-3 w-3"}),De.duration," min"]}),l.jsx("span",{className:"text-sm font-semibold text-primary",children:Number(De.price)===0?"Free":`${De.price}`})]})]}),l.jsx(Z,{variant:L?"default":"outline",size:"icon",className:"shrink-0 h-10 w-10 rounded-full",onClick:()=>ge(De),children:L?l.jsx(Ag,{className:"h-4 w-4"}):l.jsx(Gn,{className:"h-4 w-4"})})]},De.id)})})]},M)}),ne.length===0&&l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6",children:[l.jsx(Rg,{className:"h-12 w-12 text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No services available at the moment."})]})]})}),l.jsxs("div",{className:"glass-card rounded-2xl p-6 h-fit lg:sticky lg:top-24",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(EE,{className:"h-5 w-5 text-primary"}),l.jsx("h3",{className:"font-semibold text-foreground",children:"Selected Services"})]}),r.length===0?l.jsx("p",{className:"text-muted-foreground text-sm py-8 text-center",children:"No services selected yet. Click the + button to add services."}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-3 mb-6",children:r.map(M=>l.jsxs("div",{className:"flex items-start justify-between gap-2 p-3 rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-foreground text-sm",children:M.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsxs("span",{className:"text-xs text-muted-foreground",children:[M.duration," min"]}),l.jsxs("span",{className:"text-xs font-semibold text-primary",children:["",M.price]})]})]}),l.jsx("button",{onClick:()=>Me(M.id),className:"text-muted-foreground hover:text-destructive transition-colors",children:l.jsx(ji,{className:"h-4 w-4"})})]},M.id))}),l.jsxs("div",{className:"border-t border-border pt-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Duration"}),l.jsxs("span",{className:"font-medium text-foreground",children:[B," min"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Price"}),l.jsxs("span",{className:"font-semibold text-primary text-lg",children:["",z]})]})]})]}),l.jsxs("center",{children:[" ",l.jsxs(Z,{variant:"hero",size:"lg",disabled:r.length===0,onClick:J,children:["Continue",l.jsx(_n,{className:"h-4 w-4 ml-2"})]})]})]})]})]}),t==="staff"&&l.jsxs("div",{className:"animate-fade-in",children:[l.jsx("h2",{className:"text-3xl font-serif font-semibold text-foreground mb-2 text-center",children:"Choose Your Specialist"}),l.jsx("p",{className:"text-muted-foreground text-center mb-8",children:"Select a specialist or let us assign the best available"}),b?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[H.map(M=>l.jsxs("button",{onClick:()=>o(M.id),className:K("glass-card rounded-xl p-6 text-left transition-all duration-300 hover:shadow-lg",i===M.id&&"ring-2 ring-primary bg-primary/5"),children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-accent flex items-center justify-center mb-4 overflow-hidden",children:M.avatar_url?l.jsx("img",{src:M.avatar_url||"/placeholder.svg",alt:M.name,className:"w-full h-full object-cover"}):l.jsx("span",{className:"text-xl font-semibold text-accent-foreground",children:M.name.split(" ").map(ce=>ce[0]).join("")})}),l.jsx("h4",{className:"font-semibold text-foreground text-lg mb-1",children:M.name}),l.jsx("p",{className:"text-primary text-sm font-medium mb-2",children:M.title}),l.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2",children:M.bio||"No bio available"})]},M.id)),H.length===0&&l.jsx("div",{className:"col-span-full glass-card rounded-xl p-12 text-center",children:l.jsx("p",{className:"text-muted-foreground",children:"No specialists available at the moment."})})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs(Z,{variant:"outline",size:"lg",onClick:fe,children:[l.jsx(qi,{className:"h-4 w-4 mr-2"}),"Back"]}),l.jsxs(Z,{variant:"hero",size:"lg",disabled:!i,onClick:J,children:["Continue",l.jsx(_n,{className:"h-4 w-4 ml-2"})]})]})]}),t==="datetime"&&l.jsxs("div",{className:"animate-fade-in",children:[l.jsx("h2",{className:"text-3xl font-serif font-semibold text-foreground mb-2 text-center",children:"Select Date & Time"}),l.jsx("p",{className:"text-muted-foreground text-center mb-8",children:"Choose your preferred appointment slot"}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"font-semibold text-foreground flex items-center gap-2",children:[l.jsx(Rt,{className:"h-5 w-5 text-primary"}),"Select Date"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Z,{variant:"outline",size:"sm",onClick:ye,children:[l.jsx(Ji,{className:"h-4 w-4 mr-1"}),"Previous Week"]}),l.jsxs(V8,{children:[l.jsx(B8,{asChild:!0,children:l.jsxs(Z,{variant:"outline",size:"sm",children:[l.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Pick Date"]})}),l.jsx(QT,{className:"w-auto p-0",align:"center",children:l.jsx(aP,{mode:"single",selected:a||void 0,onSelect:M=>{M&&(c(M),C(Tn(M,{weekStartsOn:1})))},disabled:M=>M<new Date,initialFocus:!0})})]}),l.jsxs(Z,{variant:"outline",size:"sm",onClick:_e,children:["Next Week",l.jsx(_n,{className:"h-4 w-4 ml-1"})]})]})]}),l.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 -mx-2 px-2",children:O.map(M=>l.jsxs("button",{onClick:()=>c(M),className:K("flex-shrink-0 w-20 rounded-xl p-4 text-center transition-all duration-200",(a==null?void 0:a.toDateString())===M.toDateString()?"bg-primary text-primary-foreground shadow-md":"bg-card border border-border hover:border-primary/50"),children:[l.jsx("p",{className:"text-xs font-medium opacity-80",children:Pe(M,"EEE")}),l.jsx("p",{className:"text-2xl font-semibold",children:Pe(M,"d")}),l.jsx("p",{className:"text-xs opacity-80",children:Pe(M,"MMM")})]},M.toISOString()))})]}),a&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("h3",{className:"font-semibold text-foreground mb-4 flex items-center gap-2",children:[l.jsx(kr,{className:"h-5 w-5 text-primary"}),"Select Time"]}),l.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-3",children:P.map(M=>l.jsx("button",{onClick:()=>d(M.value),className:K("rounded-lg py-3 px-4 text-sm font-medium transition-all duration-200",u===M.value?"bg-primary text-primary-foreground shadow-md":"bg-card border border-border hover:border-primary/50"),children:M.display},M.value))})]}),l.jsxs("div",{className:"flex justify-between mt-8",children:[l.jsxs(Z,{variant:"outline",size:"lg",onClick:fe,children:[l.jsx(qi,{className:"h-4 w-4 mr-2"}),"Back"]}),l.jsxs(Z,{variant:"hero",size:"lg",disabled:!a||!u,onClick:J,children:["Continue",l.jsx(_n,{className:"h-4 w-4 ml-2"})]})]})]}),t==="details"&&l.jsxs("div",{className:"animate-fade-in",children:[l.jsx("h2",{className:"text-3xl font-serif font-semibold text-foreground mb-2 text-center",children:"Your Details"}),l.jsx("p",{className:"text-muted-foreground text-center mb-8",children:"Please provide your contact information"}),l.jsx("div",{className:"max-w-2xl mx-auto glass-card rounded-2xl p-8 mb-8",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-foreground mb-2",children:[l.jsx(bh,{className:"h-4 w-4 text-primary"}),"Full Name"]}),l.jsx("input",{type:"text",value:j.name,onChange:M=>E(ce=>({...ce,name:M.target.value})),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all",placeholder:"Enter your full name"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-foreground mb-2",children:[l.jsx(eu,{className:"h-4 w-4 text-primary"}),"Email Address"]}),l.jsx("input",{type:"email",value:j.email,onChange:M=>E(ce=>({...ce,email:M.target.value})),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all",placeholder:"your.email@example.com"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-foreground mb-2",children:[l.jsx(xh,{className:"h-4 w-4 text-primary"}),"Phone Number"]}),l.jsx("input",{type:"tel",value:j.phone,onChange:M=>E(ce=>({...ce,phone:M.target.value})),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all",placeholder:"+63 XXX XXX XXXX"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Notes (Optional)"}),l.jsx("textarea",{value:j.notes,onChange:M=>E(ce=>({...ce,notes:M.target.value})),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all resize-none",placeholder:"Any special requests or notes...",rows:4})]})]})}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs(Z,{variant:"outline",size:"lg",onClick:fe,children:[l.jsx(qi,{className:"h-4 w-4 mr-2"}),"Back"]}),l.jsxs(Z,{variant:"hero",size:"lg",disabled:!j.name||!j.email||!j.phone,onClick:J,children:["Continue",l.jsx(_n,{className:"h-4 w-4 ml-2"})]})]})]}),t==="confirm"&&l.jsxs("div",{className:"animate-fade-in",children:[l.jsx("h2",{className:"text-3xl font-serif font-semibold text-foreground mb-2 text-center",children:"Confirm Your Booking"}),l.jsx("p",{className:"text-muted-foreground text-center mb-8",children:"Please review your appointment details before confirming"}),l.jsxs("div",{className:"max-w-2xl mx-auto glass-card rounded-2xl p-8",children:[l.jsx("h3",{className:"font-serif text-xl font-semibold text-foreground mb-6",children:"Booking Summary"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"py-3 border-b border-border",children:[l.jsx("span",{className:"text-muted-foreground text-sm",children:"Services"}),l.jsx("div",{className:"mt-2 space-y-2",children:r.map(M=>l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-foreground",children:M.name}),l.jsxs("span",{className:"text-muted-foreground",children:["",M.price]})]},M.id))})]}),l.jsxs("div",{className:"flex justify-between py-3 border-b border-border",children:[l.jsx("span",{className:"text-muted-foreground",children:"Specialist"}),l.jsx("span",{className:"font-semibold text-foreground",children:ve==null?void 0:ve.name})]}),l.jsxs("div",{className:"flex justify-between py-3 border-b border-border",children:[l.jsx("span",{className:"text-muted-foreground",children:"Date"}),l.jsx("span",{className:"font-semibold text-foreground",children:a&&Pe(a,"EEEE, MMMM d, yyyy")})]}),l.jsxs("div",{className:"flex justify-between py-3 border-b border-border",children:[l.jsx("span",{className:"text-muted-foreground",children:"Time"}),l.jsx("span",{className:"font-semibold text-foreground",children:u&&((we=P.find(M=>M.value===u))==null?void 0:we.display)})]}),l.jsxs("div",{className:"flex justify-between py-3 border-b border-border",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Duration"}),l.jsxs("span",{className:"font-semibold text-foreground",children:[B," minutes"]})]}),l.jsxs("div",{className:"flex justify-between py-3",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Price"}),l.jsxs("span",{className:"font-semibold text-primary text-xl",children:["",z]})]})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[l.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Contact Details"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",j.name]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",j.email]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",j.phone]})]})]})]}),l.jsxs("div",{className:"flex justify-between mt-8 max-w-2xl mx-auto",children:[l.jsxs(Z,{variant:"outline",size:"lg",onClick:fe,children:[l.jsx(qi,{className:"h-4 w-4 mr-2"}),"Back"]}),l.jsxs(Z,{variant:"hero",size:"lg",disabled:f,onClick:async()=>{if(!g){Ce.error("Please login to book an appointment"),e("/auth");return}h(!0);try{const{data:M,error:ce}=await he.from("clients").select("id").eq("user_id",g.id).single();let De=M==null?void 0:M.id;if(!De){const{data:I,error:ee}=await he.from("clients").insert([{user_id:g.id,name:j.name,email:j.email,phone:j.phone}]).select().single();if(ee)throw ee;De=I.id}const[L,ue]=u.split(":").map(Number),$e=L*60+ue+B,He=Math.floor($e/60),lt=$e%60,N=`${String(He).padStart(2,"0")}:${String(lt).padStart(2,"0")}`;if(!i){Ce.error("No staff selected"),h(!1);return}(await _({client_id:De,staff_id:i,service_ids:r.map(I=>I.id),appointment_date:Pe(a,"yyyy-MM-dd"),start_time:u,end_time:N,total_duration:B,total_price:z,notes:j.notes||void 0,status:"confirmed"})).success&&e("/")}catch(M){Ce.error(M.message||"Failed to book appointment")}finally{h(!1)}},children:[l.jsx(Cc,{className:"h-4 w-4 mr-2"}),f?"Booking...":"Confirm Booking"]})]})]})]})]})]})};var Gh="Dialog",[lP,cP]=zn(Gh),[bW,Or]=lP(Gh),uP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=p.useRef(null),c=p.useRef(null),[u,d]=mi({prop:r,defaultProp:s??!1,onChange:i,caller:Gh});return l.jsx(bW,{scope:t,triggerRef:a,contentRef:c,contentId:Gr(),titleId:Gr(),descriptionId:Gr(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};uP.displayName=Gh;var dP="DialogTrigger",fP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Or(dP,n),i=Ae(t,s.triggerRef);return l.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qx(s.open),...r,ref:i,onClick:Q(e.onClick,s.onOpenToggle)})});fP.displayName=dP;var Hx="DialogPortal",[_W,hP]=lP(Hx,{forceMount:void 0}),mP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Or(Hx,t);return l.jsx(_W,{scope:t,forceMount:n,children:p.Children.map(r,o=>l.jsx(on,{present:n||i.open,children:l.jsx(ol,{asChild:!0,container:s,children:o})}))})};mP.displayName=Hx;var Ff="DialogOverlay",pP=p.forwardRef((e,t)=>{const n=hP(Ff,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Or(Ff,e.__scopeDialog);return i.modal?l.jsx(on,{present:r||i.open,children:l.jsx(jW,{...s,ref:t})}):null});pP.displayName=Ff;var SW=hi("DialogOverlay.RemoveScroll"),jW=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Or(Ff,n);return l.jsx(uu,{as:SW,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(xe.div,{"data-state":qx(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Co="DialogContent",gP=p.forwardRef((e,t)=>{const n=hP(Co,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Or(Co,e.__scopeDialog);return l.jsx(on,{present:r||i.open,children:i.modal?l.jsx(CW,{...s,ref:t}):l.jsx(EW,{...s,ref:t})})});gP.displayName=Co;var CW=p.forwardRef((e,t)=>{const n=Or(Co,e.__scopeDialog),r=p.useRef(null),s=Ae(t,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return Wh(i)},[]),l.jsx(vP,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Q(e.onFocusOutside,i=>i.preventDefault())})}),EW=p.forwardRef((e,t)=>{const n=Or(Co,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return l.jsx(vP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),vP=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Or(Co,n),c=p.useRef(null),u=Ae(t,c);return zh(),l.jsxs(l.Fragment,{children:[l.jsx(cu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Ao,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":qx(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(kW,{titleId:a.titleId}),l.jsx(PW,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Kx="DialogTitle",yP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Or(Kx,n);return l.jsx(xe.h2,{id:s.titleId,...r,ref:t})});yP.displayName=Kx;var xP="DialogDescription",wP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Or(xP,n);return l.jsx(xe.p,{id:s.descriptionId,...r,ref:t})});wP.displayName=xP;var bP="DialogClose",_P=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Or(bP,n);return l.jsx(xe.button,{type:"button",...r,ref:t,onClick:Q(e.onClick,()=>s.onOpenChange(!1))})});_P.displayName=bP;function qx(e){return e?"open":"closed"}var SP="DialogTitleWarning",[NW,jP]=xI(SP,{contentName:Co,titleName:Kx,docsSlug:"dialog"}),kW=({titleId:e})=>{const t=jP(SP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},TW="DialogDescriptionWarning",PW=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jP(TW).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},CP=uP,AW=fP,EP=mP,Gx=pP,Yx=gP,Qx=yP,Xx=wP,Zx=_P;const Oo=CP,RW=EP,NP=p.forwardRef(({className:e,...t},n)=>l.jsx(Gx,{ref:n,className:K("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));NP.displayName=Gx.displayName;const Ai=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(RW,{children:[l.jsx(NP,{}),l.jsxs(Yx,{ref:r,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(Zx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(ji,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ai.displayName=Yx.displayName;const Mo=({className:e,...t})=>l.jsx("div",{className:K("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Mo.displayName="DialogHeader";const Do=p.forwardRef(({className:e,...t},n)=>l.jsx(Qx,{ref:n,className:K("text-lg font-semibold leading-none tracking-tight",e),...t}));Do.displayName=Qx.displayName;const OW=p.forwardRef(({className:e,...t},n)=>l.jsx(Xx,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));OW.displayName=Xx.displayName;const MW=({open:e,onOpenChange:t})=>{const{user:n,role:r}=rr(),[s,i]=p.useState(!1),[o,a]=p.useState({full_name:"",email:"",phone:""});p.useEffect(()=>{(async()=>{var d,f,h,m,x,v;if(!(!n||!e))try{if(a({full_name:((d=n.user_metadata)==null?void 0:d.full_name)||"",email:n.email||"",phone:((f=n.user_metadata)==null?void 0:f.phone)||""}),r==="client"){const{data:y}=await he.from("clients").select("name, email, phone").eq("user_id",n.id).single();y&&a({full_name:y.name||((h=n.user_metadata)==null?void 0:h.full_name)||"",email:y.email||n.email||"",phone:y.phone||((m=n.user_metadata)==null?void 0:m.phone)||""})}if(r==="staff"){const{data:y}=await he.from("staff").select("name, email, phone").eq("user_id",n.id).single();y&&a({full_name:y.name||((x=n.user_metadata)==null?void 0:x.full_name)||"",email:y.email||n.email||"",phone:y.phone||((v=n.user_metadata)==null?void 0:v.phone)||""})}}catch(y){console.error("Error loading profile:",y)}})()},[n,r,e]);const c=async()=>{if(n){i(!0);try{const{error:u}=await he.auth.updateUser({data:{full_name:o.full_name,phone:o.phone}});if(u)throw u;if(r==="client"){const{error:d}=await he.from("clients").update({name:o.full_name,phone:o.phone}).eq("user_id",n.id);if(d)throw d}if(r==="staff"){const{error:d}=await he.from("staff").update({name:o.full_name,phone:o.phone}).eq("user_id",n.id);if(d)throw d}Ce.success("Profile updated successfully"),t(!1)}catch(u){Ce.error(u.message||"Failed to update profile"),console.error("Error updating profile:",u)}finally{i(!1)}}};return l.jsx(Oo,{open:e,onOpenChange:t,children:l.jsxs(Ai,{className:"max-w-md",children:[l.jsx(Mo,{children:l.jsx(Do,{children:"Edit Profile"})}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ms,{htmlFor:"full_name",children:"Full Name"}),l.jsx(yt,{id:"full_name",value:o.full_name,onChange:u=>a({...o,full_name:u.target.value}),placeholder:"Enter your full name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ms,{htmlFor:"email",children:"Email"}),l.jsx(yt,{id:"email",value:o.email,disabled:!0,className:"bg-muted"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ms,{htmlFor:"phone",children:"Phone"}),l.jsx(yt,{id:"phone",value:o.phone,onChange:u=>a({...o,phone:u.target.value}),placeholder:"Enter your phone number"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(Z,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),l.jsxs(Z,{onClick:c,disabled:s,children:[s&&l.jsx(_4,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Changes"]})]})]})})},DW=[{path:"/dashboard",label:"Dashboard",icon:b4},{path:"/dashboard/appointments",label:"Appointments",icon:Rt},{path:"/dashboard/clients",label:"Clients",icon:tc,adminStaffOnly:!0},{path:"/dashboard/services",label:"Services",icon:d4},{path:"/dashboard/staff",label:"Staff",icon:m4,adminOnly:!0},{path:"/dashboard/sales",label:"Sales",icon:Nd,adminStaffOnly:!0}],IW=()=>{var m,x,v;const[e,t]=p.useState(!1),[n,r]=p.useState(!1),s=Ni(),{user:i,role:o,loading:a,signOut:c}=rr();if(a)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!i)return l.jsx(mx,{to:"/auth",replace:!0});const u=DW.filter(y=>!(y.adminOnly&&o!=="admin"||y.adminStaffOnly&&o==="client")),d=async()=>{await c()},f=((m=i.user_metadata)==null?void 0:m.full_name)||((x=i.email)==null?void 0:x.split("@")[0])||"User",h=f.split(" ").map(y=>y[0]).join("").toUpperCase().slice(0,2);return l.jsxs("div",{className:"min-h-screen bg-muted/30 flex w-full",children:[e&&l.jsx("div",{className:"fixed inset-0 bg-foreground/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>t(!1)}),l.jsxs("aside",{className:K("fixed lg:sticky top-0 left-0 z-50 h-screen w-64 bg-card border-r border-border flex flex-col transition-transform duration-300",e?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[l.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[l.jsx(en,{to:"/",className:"flex items-center gap-2",children:l.jsx("img",{src:"/gwyn.png",alt:"Gwyn Logo",className:"h-14 w-22 object-cover rounded-full"})}),l.jsx(Z,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>t(!1),children:l.jsx(ji,{className:"h-5 w-5"})})]}),l.jsx("nav",{className:"flex-1 p-4 space-y-1",children:u.map(y=>{const b=s.pathname===y.path||y.path!=="/dashboard"&&s.pathname.startsWith(y.path);return l.jsxs(en,{to:y.path,onClick:()=>t(!1),className:K("flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200",b?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[l.jsx(y.icon,{className:"h-5 w-5"}),y.label]},y.path)})}),l.jsx("div",{className:"p-4 border-t border-border",children:l.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-3 px-4 py-3 w-full rounded-lg hover:bg-accent transition-colors text-left",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-accent flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-semibold text-accent-foreground",children:h})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:f}),l.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:o||"User"})]})]})})]}),l.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[l.jsx("header",{className:"sticky top-0 z-30 bg-card/80 backdrop-blur-lg border-b border-border px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Z,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>t(!0),children:l.jsx(CE,{className:"h-5 w-5"})}),l.jsx("div",{className:"flex-1",children:l.jsx("h1",{className:"font-serif text-xl font-semibold text-foreground",children:((v=u.find(y=>s.pathname===y.path||y.path!=="/dashboard"&&s.pathname.startsWith(y.path)))==null?void 0:v.label)||"Dashboard"})}),l.jsxs(Z,{variant:"outline",className:"p-2 hover:bg-red-50 rounded-xl transition-colors text-red-500 bg-transparent",onClick:d,children:[l.jsx(jE,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})}),l.jsx("main",{className:"flex-1 p-6",children:l.jsx(L3,{})})]}),l.jsx(MW,{open:n,onOpenChange:r})]})},Jx=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!0),s=async()=>{try{const{data:c,error:u}=await he.from("clients").select("*").order("name");if(u)throw u;t(c||[])}catch(c){Ce.error("Failed to load clients"),console.error("Error fetching clients:",c)}finally{r(!1)}},i=async c=>{var u;try{if(c.password&&c.password.length>=6){const{data:h}=await he.auth.getSession();if(!h.session)throw new Error("You must be logged in to create clients");const m=await he.functions.invoke("create-user-account",{body:{email:c.email,password:c.password,fullName:c.name,phone:c.phone,userType:"client",additionalData:{date_of_birth:c.date_of_birth,notes:c.notes}}});if(m.error)throw new Error(m.error.message||"Failed to create user account");if((u=m.data)!=null&&u.error)throw new Error(m.data.error);return await s(),Ce.success("Client account created successfully"),{success:!0}}const{data:d,error:f}=await he.from("clients").insert([{name:c.name,email:c.email,phone:c.phone||null,date_of_birth:c.date_of_birth||null,notes:c.notes||null}]).select().single();if(f)throw f;return t(h=>[...h,d]),Ce.success("Client created successfully"),{success:!0}}catch(d){const f=d instanceof Error?d.message:"Failed to create client";return Ce.error(f),{success:!1,error:d}}},o=async(c,u)=>{try{const{data:d,error:f}=await he.from("clients").update({name:u.name,phone:u.phone||null,date_of_birth:u.date_of_birth||null,notes:u.notes||null}).eq("id",c).select().single();if(f)throw f;return t(h=>h.map(m=>m.id===c?d:m)),Ce.success("Client updated successfully"),{success:!0}}catch(d){const f=d instanceof Error?d.message:"Failed to update client";return Ce.error(f),{success:!1,error:d}}},a=async c=>{try{const{error:u}=await he.from("clients").delete().eq("id",c);if(u)throw u;return t(d=>d.filter(f=>f.id!==c)),Ce.success("Client deleted successfully"),{success:!0}}catch(u){const d=u instanceof Error?u.message:"Failed to delete client";return Ce.error(d),{success:!1,error:u}}};return p.useEffect(()=>{s()},[]),{clients:e,loading:n,createClient:i,updateClient:o,deleteClient:a,refetch:s}},kP=p.createContext({});function LW(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const e0=typeof window<"u",FW=e0?p.useLayoutEffect:p.useEffect,t0=p.createContext(null);function n0(e,t){e.indexOf(t)===-1&&e.push(t)}function r0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const js=(e,t,n)=>n>t?t:n<e?e:n;let $f=()=>{};const Cs={},TP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function PP(e){return typeof e=="object"&&e!==null}const AP=e=>/^0[^.\s]+$/u.test(e);function s0(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jn=e=>e,$W=(e,t)=>n=>t(e(n)),pu=(...e)=>e.reduce($W),Fc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class i0{constructor(){this.subscriptions=[]}add(t){return n0(this.subscriptions,t),()=>r0(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xr=e=>e*1e3,Xn=e=>e/1e3;function RP(e,t){return t?e*(1e3/t):0}const OP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,VW=1e-7,BW=12;function UW(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=OP(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>VW&&++a<BW);return o}function gu(e,t,n,r){if(e===t&&n===r)return Jn;const s=i=>UW(i,0,1,e,n);return i=>i===0||i===1?i:OP(s(i),t,r)}const MP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,DP=e=>t=>1-e(1-t),IP=gu(.33,1.53,.69,.99),o0=DP(IP),LP=MP(o0),FP=e=>(e*=2)<1?.5*o0(e):.5*(2-Math.pow(2,-10*(e-1))),a0=e=>1-Math.sin(Math.acos(e)),$P=DP(a0),VP=MP(a0),zW=gu(.42,0,1,1),WW=gu(0,0,.58,1),BP=gu(.42,0,.58,1),HW=e=>Array.isArray(e)&&typeof e[0]!="number",UP=e=>Array.isArray(e)&&typeof e[0]=="number",Z_={linear:Jn,easeIn:zW,easeInOut:BP,easeOut:WW,circIn:a0,circInOut:VP,circOut:$P,backIn:o0,backInOut:LP,backOut:IP,anticipate:FP},KW=e=>typeof e=="string",J_=e=>{if(UP(e)){$f(e.length===4);const[t,n,r,s]=e;return gu(t,n,r,s)}else if(KW(e))return $f(Z_[e]!==void 0),Z_[e];return e},ud=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],eS={value:null,addProjectionMetrics:null};function qW(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){o.has(f)&&(d.schedule(f),e()),c++,f(a)}const d={schedule:(f,h=!1,m=!1)=>{const v=m&&s?n:r;return h&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),t&&eS.value&&eS.value.frameloop[t].push(c),c=0,n.clear(),s=!1,i&&(i=!1,d.process(f))}};return d}const GW=40;function zP(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ud.reduce((w,_)=>(w[_]=qW(i,t?_:void 0),w),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:x}=o,v=()=>{const w=Cs.useManualTiming?s.timestamp:performance.now();n=!1,Cs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,GW),1)),s.timestamp=w,s.isProcessing=!0,a.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),m.process(s),x.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(v))},y=()=>{n=!0,r=!0,s.isProcessing||e(v)};return{schedule:ud.reduce((w,_)=>{const S=o[_];return w[_]=(C,j=!1,E=!1)=>(n||y(),S.schedule(C,j,E)),w},{}),cancel:w=>{for(let _=0;_<ud.length;_++)o[ud[_]].cancel(w)},state:s,steps:o}}const{schedule:at,cancel:xi,state:Kt,steps:vp}=zP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0);let Id;function YW(){Id=void 0}const Cn={now:()=>(Id===void 0&&Cn.set(Kt.isProcessing||Cs.useManualTiming?Kt.timestamp:performance.now()),Id),set:e=>{Id=e,queueMicrotask(YW)}},WP=e=>t=>typeof t=="string"&&t.startsWith(e),HP=WP("--"),QW=WP("var(--"),l0=e=>QW(e)?XW.test(e.split("/*")[0].trim()):!1,XW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ml={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$c={...ml,transform:e=>js(0,1,e)},dd={...ml,default:1},nc=e=>Math.round(e*1e5)/1e5,c0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZW(e){return e==null}const JW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,u0=(e,t)=>n=>!!(typeof n=="string"&&JW.test(n)&&n.startsWith(e)||t&&!ZW(n)&&Object.prototype.hasOwnProperty.call(n,t)),KP=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(c0);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},e9=e=>js(0,255,e),yp={...ml,transform:e=>Math.round(e9(e))},to={test:u0("rgb","red"),parse:KP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+yp.transform(e)+", "+yp.transform(t)+", "+yp.transform(n)+", "+nc($c.transform(r))+")"};function t9(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const gv={test:u0("#"),parse:t9,transform:to.transform},vu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$s=vu("deg"),Zr=vu("%"),Se=vu("px"),n9=vu("vh"),r9=vu("vw"),tS={...Zr,parse:e=>Zr.parse(e)/100,transform:e=>Zr.transform(e*100)},ua={test:u0("hsl","hue"),parse:KP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Zr.transform(nc(t))+", "+Zr.transform(nc(n))+", "+nc($c.transform(r))+")"},Nt={test:e=>to.test(e)||gv.test(e)||ua.test(e),parse:e=>to.test(e)?to.parse(e):ua.test(e)?ua.parse(e):gv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?to.transform(e):ua.transform(e),getAnimatableNone:e=>{const t=Nt.parse(e);return t.alpha=0,Nt.transform(t)}},s9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function i9(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(c0))==null?void 0:t.length)||0)+(((n=e.match(s9))==null?void 0:n.length)||0)>0}const qP="number",GP="color",o9="var",a9="var(",nS="${}",l9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(l9,c=>(Nt.test(c)?(r.color.push(i),s.push(GP),n.push(Nt.parse(c))):c.startsWith(a9)?(r.var.push(i),s.push(o9),n.push(c)):(r.number.push(i),s.push(qP),n.push(parseFloat(c))),++i,nS)).split(nS);return{values:n,split:a,indexes:r,types:s}}function YP(e){return Vc(e).values}function QP(e){const{split:t,types:n}=Vc(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===qP?i+=nc(s[o]):a===GP?i+=Nt.transform(s[o]):i+=s[o]}return i}}const c9=e=>typeof e=="number"?0:Nt.test(e)?Nt.getAnimatableNone(e):e;function u9(e){const t=YP(e);return QP(e)(t.map(c9))}const wi={test:i9,parse:YP,createTransformer:QP,getAnimatableNone:u9};function xp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function d9({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;s=xp(c,a,e+1/3),i=xp(c,a,e),o=xp(c,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Vf(e,t){return n=>n>0?t:e}const ut=(e,t,n)=>e+(t-e)*n,wp=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},f9=[gv,to,ua],h9=e=>f9.find(t=>t.test(e));function rS(e){const t=h9(e);if(!t)return!1;let n=t.parse(e);return t===ua&&(n=d9(n)),n}const sS=(e,t)=>{const n=rS(e),r=rS(t);if(!n||!r)return Vf(e,t);const s={...n};return i=>(s.red=wp(n.red,r.red,i),s.green=wp(n.green,r.green,i),s.blue=wp(n.blue,r.blue,i),s.alpha=ut(n.alpha,r.alpha,i),to.transform(s))},vv=new Set(["none","hidden"]);function m9(e,t){return vv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function p9(e,t){return n=>ut(e,t,n)}function d0(e){return typeof e=="number"?p9:typeof e=="string"?l0(e)?Vf:Nt.test(e)?sS:y9:Array.isArray(e)?XP:typeof e=="object"?Nt.test(e)?sS:g9:Vf}function XP(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>d0(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function g9(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=d0(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function v9(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const y9=(e,t)=>{const n=wi.createTransformer(t),r=Vc(e),s=Vc(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?vv.has(e)&&!s.values.length||vv.has(t)&&!r.values.length?m9(e,t):pu(XP(v9(r,s),s.values),n):Vf(e,t)};function ZP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ut(e,t,n):d0(e)(e,t)}const x9=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>at.update(t,n),stop:()=>xi(t),now:()=>Kt.isProcessing?Kt.timestamp:Cn.now()}},JP=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Bf=2e4;function f0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Bf;)t+=n,r=e.next(t);return t>=Bf?1/0:t}function w9(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(f0(r),Bf);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Xn(s)}}const b9=5;function eA(e,t,n){const r=Math.max(t-b9,0);return RP(n-e(r),t-r)}const pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bp=.001;function _9({duration:e=pt.duration,bounce:t=pt.bounce,velocity:n=pt.velocity,mass:r=pt.mass}){let s,i,o=1-t;o=js(pt.minDamping,pt.maxDamping,o),e=js(pt.minDuration,pt.maxDuration,Xn(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-n,m=yv(u,o),x=Math.exp(-f);return bp-h/m*x},i=u=>{const f=u*o*e,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-f),v=yv(Math.pow(u,2),o);return(-s(u)+bp>0?-1:1)*((h-m)*x)/v}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-bp+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,c=j9(s,i,a);if(e=Xr(e),isNaN(c))return{stiffness:pt.stiffness,damping:pt.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const S9=12;function j9(e,t,n){let r=n;for(let s=1;s<S9;s++)r=r-e(r)/t(r);return r}function yv(e,t){return e*Math.sqrt(1-t*t)}const C9=["duration","bounce"],E9=["stiffness","damping","mass"];function iS(e,t){return t.some(n=>e[n]!==void 0)}function N9(e){let t={velocity:pt.velocity,stiffness:pt.stiffness,damping:pt.damping,mass:pt.mass,isResolvedFromDuration:!1,...e};if(!iS(e,E9)&&iS(e,C9))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*js(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:pt.mass,stiffness:s,damping:i}}else{const n=_9(e);t={...t,...n,mass:pt.mass},t.isResolvedFromDuration=!0}return t}function Uf(e=pt.visualDuration,t=pt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=N9({...n,velocity:-Xn(n.velocity||0)}),x=h||0,v=u/(2*Math.sqrt(c*d)),y=o-i,b=Xn(Math.sqrt(c/d)),g=Math.abs(y)<5;r||(r=g?pt.restSpeed.granular:pt.restSpeed.default),s||(s=g?pt.restDelta.granular:pt.restDelta.default);let w;if(v<1){const S=yv(b,v);w=C=>{const j=Math.exp(-v*b*C);return o-j*((x+v*b*y)/S*Math.sin(S*C)+y*Math.cos(S*C))}}else if(v===1)w=S=>o-Math.exp(-b*S)*(y+(x+b*y)*S);else{const S=b*Math.sqrt(v*v-1);w=C=>{const j=Math.exp(-v*b*C),E=Math.min(S*C,300);return o-j*((x+v*b*y)*Math.sinh(E)+S*y*Math.cosh(E))/S}}const _={calculatedDuration:m&&f||null,next:S=>{const C=w(S);if(m)a.done=S>=f;else{let j=S===0?x:0;v<1&&(j=S===0?Xr(x):eA(w,S,C));const E=Math.abs(j)<=r,k=Math.abs(o-C)<=s;a.done=E&&k}return a.value=a.done?o:C,a},toString:()=>{const S=Math.min(f0(_),Bf),C=JP(j=>_.next(S*j).value,S,30);return S+"ms "+C},toTransition:()=>{}};return _}Uf.applyToOptions=e=>{const t=w9(e,100,Uf);return e.ease=t.ease,e.duration=Xr(t.duration),e.type="keyframes",e};function xv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=E=>a!==void 0&&E<a||c!==void 0&&E>c,x=E=>a===void 0?c:c===void 0||Math.abs(a-E)<Math.abs(c-E)?a:c;let v=n*t;const y=f+v,b=o===void 0?y:o(y);b!==y&&(v=b-f);const g=E=>-v*Math.exp(-E/r),w=E=>b+g(E),_=E=>{const k=g(E),R=w(E);h.done=Math.abs(k)<=u,h.value=h.done?b:R};let S,C;const j=E=>{m(h.value)&&(S=E,C=Uf({keyframes:[h.value,x(h.value)],velocity:eA(w,E,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:E=>{let k=!1;return!C&&S===void 0&&(k=!0,_(E),j(E)),S!==void 0&&E>=S?C.next(E-S):(!k&&_(E),h)}}}function k9(e,t,n){const r=[],s=n||Cs.mix||ZP,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Jn:t;a=pu(c,a)}r.push(a)}return r}function T9(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if($f(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=k9(t,r,s),c=a.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Fc(e[f],e[f+1],d);return a[f](h)};return n?d=>u(js(e[0],e[i-1],d)):u}function P9(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Fc(0,t,r);e.push(ut(n,1,s))}}function A9(e){const t=[0];return P9(t,e.length-1),t}function R9(e,t){return e.map(n=>n*t)}function O9(e,t){return e.map(()=>t||BP).splice(0,e.length-1)}function rc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=HW(r)?r.map(J_):J_(r),i={done:!1,value:t[0]},o=R9(n&&n.length===t.length?n:A9(t),e),a=T9(o,t,{ease:Array.isArray(s)?s:O9(t,s)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}const M9=e=>e!==null;function h0(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(M9),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const D9={decay:xv,inertia:xv,tween:rc,keyframes:rc,spring:Uf};function tA(e){typeof e.type=="string"&&(e.type=D9[e.type])}class m0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const I9=e=>e/100;class p0 extends m0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;tA(t);const{type:n=rc,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const c=n||rc;c!==rc&&typeof a[0]!="number"&&(this.mixKeyframes=pu(I9,ZP(a[0],a[1])),a=[0,100]);const u=c({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=f0(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:x,onUpdate:v,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?b<0:b>s;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,_=r;if(f){const E=Math.min(this.currentTime,s)/a;let k=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&k--,k=Math.min(k,f+1),!!(k%2)&&(h==="reverse"?(R=1-R,m&&(R-=m/a)):h==="mirror"&&(_=o)),w=js(0,1,R)*a}const S=g?{done:!1,value:d[0]}:_.next(w);i&&(S.value=i(S.value));let{done:C}=S;!g&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return j&&x!==xv&&(S.value=h0(d,this.options,y,this.speed)),v&&v(S.value),j&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(this.currentTime)}set time(t){var n;t=Xr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Cn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Xn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=x9,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function L9(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const no=e=>e*180/Math.PI,wv=e=>{const t=no(Math.atan2(e[1],e[0]));return bv(t)},F9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:wv,rotateZ:wv,skewX:e=>no(Math.atan(e[1])),skewY:e=>no(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},bv=e=>(e=e%360,e<0&&(e+=360),e),oS=wv,aS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),lS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),$9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:aS,scaleY:lS,scale:e=>(aS(e)+lS(e))/2,rotateX:e=>bv(no(Math.atan2(e[6],e[5]))),rotateY:e=>bv(no(Math.atan2(-e[2],e[0]))),rotateZ:oS,rotate:oS,skewX:e=>no(Math.atan(e[4])),skewY:e=>no(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function _v(e){return e.includes("scale")?1:0}function Sv(e,t){if(!e||e==="none")return _v(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=$9,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=F9,s=a}if(!s)return _v(t);const i=r[t],o=s[1].split(",").map(B9);return typeof i=="function"?i(o):o[i]}const V9=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Sv(n,t)};function B9(e){return parseFloat(e.trim())}const pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gl=new Set(pl),cS=e=>e===ml||e===Se,U9=new Set(["x","y","z"]),z9=pl.filter(e=>!U9.has(e));function W9(e){const t=[];return z9.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ho={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Sv(t,"x"),y:(e,{transform:t})=>Sv(t,"y")};ho.translateX=ho.x;ho.translateY=ho.y;const mo=new Set;let jv=!1,Cv=!1,Ev=!1;function nA(){if(Cv){const e=Array.from(mo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=W9(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Cv=!1,jv=!1,mo.forEach(e=>e.complete(Ev)),mo.clear()}function rA(){mo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Cv=!0)})}function H9(){Ev=!0,rA(),nA(),Ev=!1}class g0{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(mo.add(this),jv||(jv=!0,at.read(rA),at.resolveKeyframes(nA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}L9(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),mo.delete(this)}cancel(){this.state==="scheduled"&&(mo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const K9=e=>e.startsWith("--");function q9(e,t,n){K9(t)?e.style.setProperty(t,n):e.style[t]=n}const G9=s0(()=>window.ScrollTimeline!==void 0),Y9={};function Q9(e,t){const n=s0(e);return()=>Y9[t]??n()}const sA=Q9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ul=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,uS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ul([0,.65,.55,1]),circOut:Ul([.55,0,1,.45]),backIn:Ul([.31,.01,.66,-.59]),backOut:Ul([.33,1.53,.69,.99])};function iA(e,t){if(e)return typeof e=="function"?sA()?JP(e,t):"ease-out":UP(e)?Ul(e):Array.isArray(e)?e.map(n=>iA(n,t)||uS.easeOut):uS[e]}function X9(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const f=iA(a,s);Array.isArray(f)&&(d.easing=f);const h={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function oA(e){return typeof e=="function"&&"applyToOptions"in e}function Z9({type:e,...t}){return oA(e)&&sA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class J9 extends m0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,$f(typeof t.type!="string");const u=Z9(t);this.animation=X9(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=h0(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):q9(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Xn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Xr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&G9()?(this.animation.timeline=t,Jn):n(this)}}const aA={anticipate:FP,backInOut:LP,circInOut:VP};function eH(e){return e in aA}function tH(e){typeof e.ease=="string"&&eH(e.ease)&&(e.ease=aA[e.ease])}const dS=10;class nH extends J9{constructor(t){tH(t),tA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new p0({...o,autoplay:!1}),c=Xr(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-dS).value,a.sample(c).value,dS),a.stop()}}const fS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(wi.test(e)||e==="0")&&!e.startsWith("url("));function rH(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function sH(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=fS(s,t),a=fS(i,t);return!o||!a?!1:rH(e)||(n==="spring"||oA(n))&&r}function Nv(e){e.duration=0,e.type="keyframes"}const iH=new Set(["opacity","clipPath","filter","transform"]),oH=s0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aH(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return oH()&&n&&iH.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const lH=40;class cH extends m0{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:c,motionValue:u,element:d,...f}){var x;super(),this.stop=()=>{var v,y;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Cn.now();const h={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||g0;this.keyframeResolver=new m(a,(v,y,b)=>this.onKeyframesResolved(v,y,h,!b),c,u,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Cn.now(),sH(t,i,o,a)||((Cs.instantAnimations||!c)&&(d==null||d(h0(t,r,n))),t[0]=t[t.length-1],Nv(r),r.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>lH?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&aH(h)?new nH({...h,element:h.motionValue.owner.current}):new p0(h);m.finished.then(()=>this.notifyFinished()).catch(Jn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),H9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const uH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dH(e){const t=uH.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function lA(e,t,n=1){const[r,s]=dH(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return TP(o)?parseFloat(o):o}return l0(s)?lA(s,t,n+1):s}function v0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const cA=new Set(["width","height","top","left","right","bottom",...pl]),fH={test:e=>e==="auto",parse:e=>e},uA=e=>t=>t.test(e),dA=[ml,Se,Zr,$s,r9,n9,fH],hS=e=>dA.find(uA(e));function hH(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||AP(e):!0}const mH=new Set(["brightness","contrast","saturate","opacity"]);function pH(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(c0)||[];if(!r)return e;const s=n.replace(r,"");let i=mH.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const gH=/\b([a-z-]*)\(.*?\)/gu,kv={...wi,getAnimatableNone:e=>{const t=e.match(gH);return t?t.map(pH).join(" "):e}},mS={...ml,transform:Math.round},vH={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:dd,scaleX:dd,scaleY:dd,scaleZ:dd,skew:$s,skewX:$s,skewY:$s,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:$c,originX:tS,originY:tS,originZ:Se},y0={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se,...vH,zIndex:mS,fillOpacity:$c,strokeOpacity:$c,numOctaves:mS},yH={...y0,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:kv,WebkitFilter:kv},fA=e=>yH[e];function hA(e,t){let n=fA(e);return n!==kv&&(n=wi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xH=new Set(["auto","none","0"]);function wH(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!xH.has(i)&&Vc(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=hA(n,s)}class bH extends g0{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),l0(u))){const d=lA(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!cA.has(r)||t.length!==2)return;const[s,i]=t,o=hS(s),a=hS(i);if(o!==a)if(cS(o)&&cS(a))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else ho[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||hH(t[s]))&&r.push(s);r.length&&wH(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ho[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=ho[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function _H(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const mA=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function SH(e){return PP(e)&&"offsetHeight"in e}const pS=30,jH=e=>!isNaN(parseFloat(e));class CH{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Cn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=jH(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new i0);const r=this.events[t].add(n);return t==="change"?()=>{r(),at.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>pS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pS);return RP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tl(e,t){return new CH(e,t)}const{schedule:x0,cancel:qX}=zP(queueMicrotask,!1),hr={x:!1,y:!1};function pA(){return hr.x||hr.y}function EH(e){return e==="x"||e==="y"?hr[e]?null:(hr[e]=!0,()=>{hr[e]=!1}):hr.x||hr.y?null:(hr.x=hr.y=!0,()=>{hr.x=hr.y=!1})}function gA(e,t){const n=_H(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function gS(e){return!(e.pointerType==="touch"||pA())}function NH(e,t,n={}){const[r,s,i]=gA(e,n),o=a=>{if(!gS(a))return;const{target:c}=a,u=t(c,a);if(typeof u!="function"||!c)return;const d=f=>{gS(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const vA=(e,t)=>t?e===t?!0:vA(e,t.parentElement):!1,w0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,kH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TH(e){return kH.has(e.tagName)||e.tabIndex!==-1}const Ld=new WeakSet;function vS(e){return t=>{t.key==="Enter"&&e(t)}}function _p(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const PH=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=vS(()=>{if(Ld.has(n))return;_p(n,"down");const s=vS(()=>{_p(n,"up")}),i=()=>_p(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function yS(e){return w0(e)&&!pA()}function AH(e,t,n={}){const[r,s,i]=gA(e,n),o=a=>{const c=a.currentTarget;if(!yS(a))return;Ld.add(c);const u=t(c,a),d=(m,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Ld.has(c)&&Ld.delete(c),yS(m)&&typeof u=="function"&&u(m,{success:x})},f=m=>{d(m,c===window||c===document||n.useGlobalTarget||vA(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),SH(a)&&(a.addEventListener("focus",u=>PH(u,s)),!TH(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function yA(e){return PP(e)&&"ownerSVGElement"in e}function RH(e){return yA(e)&&e.tagName==="svg"}const nn=e=>!!(e&&e.getVelocity),OH=[...dA,Nt,wi],MH=e=>OH.find(uA(e)),xA=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function DH(e=!0){const t=p.useContext(t0);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=p.useId();p.useEffect(()=>{if(e)return s(i)},[e]);const o=p.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const wA=p.createContext({strict:!1}),xS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nl={};for(const e in xS)nl[e]={isEnabled:t=>xS[e].some(n=>!!t[n])};function IH(e){for(const t in e)nl[t]={...nl[t],...e[t]}}const LH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||LH.has(e)}let bA=e=>!zf(e);function FH(e){typeof e=="function"&&(bA=t=>t.startsWith("on")?!zf(t):e(t))}try{FH(require("@emotion/is-prop-valid").default)}catch{}function $H(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(bA(s)||n===!0&&zf(s)||!t&&!zf(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Yh=p.createContext({});function Qh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Bc(e){return typeof e=="string"||Array.isArray(e)}const b0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_0=["initial",...b0];function Xh(e){return Qh(e.animate)||_0.some(t=>Bc(e[t]))}function _A(e){return!!(Xh(e)||e.variants)}function VH(e,t){if(Xh(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Bc(n)?n:void 0,animate:Bc(r)?r:void 0}}return e.inherit!==!1?t:{}}function BH(e){const{initial:t,animate:n}=VH(e,p.useContext(Yh));return p.useMemo(()=>({initial:t,animate:n}),[wS(t),wS(n)])}function wS(e){return Array.isArray(e)?e.join(" "):e}function bS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Al={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Se.test(e))e=parseFloat(e);else return e;const n=bS(e,t.target.x),r=bS(e,t.target.y);return`${n}% ${r}%`}},UH={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=wi.parse(e);if(s.length>5)return r;const i=wi.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=c;const u=ut(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},Tv={borderRadius:{...Al,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Al,borderTopRightRadius:Al,borderBottomLeftRadius:Al,borderBottomRightRadius:Al,boxShadow:UH};function SA(e,{layout:t,layoutId:n}){return gl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Tv[e]||e==="opacity")}const zH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WH=pl.length;function HH(e,t,n){let r="",s=!0;for(let i=0;i<WH;i++){const o=pl[i],a=e[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=mA(a,y0[o]);if(!c){s=!1;const d=zH[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function S0(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const c in t){const u=t[c];if(gl.has(c)){o=!0;continue}else if(HP(c)){s[c]=u;continue}else{const d=mA(u,y0[c]);c.startsWith("origin")?(a=!0,i[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=HH(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const j0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jA(e,t,n){for(const r in t)!nn(t[r])&&!SA(r,n)&&(e[r]=t[r])}function KH({transformTemplate:e},t){return p.useMemo(()=>{const n=j0();return S0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function qH(e,t){const n=e.style||{},r={};return jA(r,n,e),Object.assign(r,KH(e,t)),r}function GH(e,t){const n={},r=qH(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const YH={offset:"stroke-dashoffset",array:"stroke-dasharray"},QH={offset:"strokeDashoffset",array:"strokeDasharray"};function XH(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?YH:QH;e[i.offset]=Se.transform(-r);const o=Se.transform(t),a=Se.transform(n);e[i.array]=`${o} ${a}`}function CA(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},c,u,d){if(S0(e,a,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&XH(f,s,i,o,!1)}const EA=()=>({...j0(),attrs:{}}),NA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ZH(e,t,n,r){const s=p.useMemo(()=>{const i=EA();return CA(i,t,NA(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};jA(i,e.style,e),s.style={...i,...s.style}}return s}const JH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function C0(e){return typeof e!="string"||e.includes("-")?!1:!!(JH.indexOf(e)>-1||/[A-Z]/u.test(e))}function e7(e,t,n,{latestValues:r},s,i=!1){const a=(C0(e)?ZH:GH)(t,r,s,e),c=$H(t,typeof e=="string",i),u=e!==p.Fragment?{...c,...a,ref:n}:{},{children:d}=t,f=p.useMemo(()=>nn(d)?d.get():d,[d]);return p.createElement(e,{...u,children:f})}function _S(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function E0(e,t,n,r){if(typeof t=="function"){const[s,i]=_S(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=_S(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function Fd(e){return nn(e)?e.get():e}function t7({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:n7(n,r,s,e),renderState:t()}}function n7(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=Fd(i[h]);let{initial:o,animate:a}=e;const c=Xh(e),u=_A(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!Qh(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const x=E0(e,h[m]);if(x){const{transitionEnd:v,transition:y,...b}=x;for(const g in b){let w=b[g];if(Array.isArray(w)){const _=d?w.length-1:0;w=w[_]}w!==null&&(s[g]=w)}for(const g in v)s[g]=v[g]}}}return s}const kA=e=>(t,n)=>{const r=p.useContext(Yh),s=p.useContext(t0),i=()=>t7(e,t,r,s);return n?i():LW(i)};function N0(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(nn(r[o])||t.style&&nn(t.style[o])||SA(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const r7=kA({scrapeMotionValuesFromProps:N0,createRenderState:j0});function TA(e,t,n){const r=N0(e,t,n);for(const s in e)if(nn(e[s])||nn(t[s])){const i=pl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const s7=kA({scrapeMotionValuesFromProps:TA,createRenderState:EA}),i7=Symbol.for("motionComponentSymbol");function da(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function o7(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):da(n)&&(n.current=r))},[t])}const k0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),a7="framerAppearId",PA="data-"+k0(a7),AA=p.createContext({});function l7(e,t,n,r,s){var v,y;const{visualElement:i}=p.useContext(Yh),o=p.useContext(wA),a=p.useContext(t0),c=p.useContext(xA).reducedMotion,u=p.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=p.useContext(AA);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&c7(u.current,n,s,f);const h=p.useRef(!1);p.useInsertionEffect(()=>{d&&h.current&&d.update(n,a)});const m=n[PA],x=p.useRef(!!m&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,m))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,m)));return FW(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),p.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,m)}),x.current=!1),d.enteringChildren=void 0)}),d}function c7(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:RA(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&da(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function RA(e){if(e)return e.options.allowProjection!==!1?e.projection:RA(e.parent)}function Sp(e,{forwardMotionProps:t=!1}={},n,r){n&&IH(n);const s=C0(e)?s7:r7;function i(a,c){let u;const d={...p.useContext(xA),...a,layoutId:u7(a)},{isStatic:f}=d,h=BH(a),m=s(a,f);if(!f&&e0){d7();const x=f7(d);u=x.MeasureLayout,h.visualElement=l7(e,m,d,r,x.ProjectionNode)}return l.jsxs(Yh.Provider,{value:h,children:[u&&h.visualElement?l.jsx(u,{visualElement:h.visualElement,...d}):null,e7(e,a,o7(m,h.visualElement,c),m,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=p.forwardRef(i);return o[i7]=e,o}function u7({layoutId:e}){const t=p.useContext(kP).id;return t&&e!==void 0?t+"-"+e:e}function d7(e,t){p.useContext(wA).strict}function f7(e){const{drag:t,layout:n}=nl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function h7(e,t){if(typeof Proxy>"u")return Sp;const n=new Map,r=(i,o)=>Sp(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Sp(o,void 0,e,t)),n.get(o))})}function OA({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function m7({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function p7(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jp(e){return e===void 0||e===1}function Pv({scale:e,scaleX:t,scaleY:n}){return!jp(e)||!jp(t)||!jp(n)}function Ki(e){return Pv(e)||MA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function MA(e){return SS(e.x)||SS(e.y)}function SS(e){return e&&e!=="0%"}function Wf(e,t,n){const r=e-n,s=t*r;return n+s}function jS(e,t,n,r,s){return s!==void 0&&(e=Wf(e,s,r)),Wf(e,n,r)+t}function Av(e,t=0,n=1,r,s){e.min=jS(e.min,t,n,r,s),e.max=jS(e.max,t,n,r,s)}function DA(e,{x:t,y:n}){Av(e.x,t.translate,t.scale,t.originPoint),Av(e.y,n.translate,n.scale,n.originPoint)}const CS=.999999999999,ES=1.0000000000001;function g7(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ha(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,DA(e,o)),r&&Ki(i.latestValues)&&ha(e,i.latestValues))}t.x<ES&&t.x>CS&&(t.x=1),t.y<ES&&t.y>CS&&(t.y=1)}function fa(e,t){e.min=e.min+t,e.max=e.max+t}function NS(e,t,n,r,s=.5){const i=ut(e.min,e.max,s);Av(e,t,n,i,r)}function ha(e,t){NS(e.x,t.x,t.scaleX,t.scale,t.originX),NS(e.y,t.y,t.scaleY,t.scale,t.originY)}function IA(e,t){return OA(p7(e.getBoundingClientRect(),t))}function v7(e,t,n){const r=IA(e,n),{scroll:s}=t;return s&&(fa(r.x,s.offset.x),fa(r.y,s.offset.y)),r}const kS=()=>({translate:0,scale:1,origin:0,originPoint:0}),ma=()=>({x:kS(),y:kS()}),TS=()=>({min:0,max:0}),Mt=()=>({x:TS(),y:TS()}),Rv={current:null},LA={current:!1};function y7(){if(LA.current=!0,!!e0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Rv.current=e.matches;e.addEventListener("change",t),t()}else Rv.current=!1}const x7=new WeakMap;function w7(e,t,n){for(const r in t){const s=t[r],i=n[r];if(nn(s))e.addValue(r,s);else if(nn(i))e.addValue(r,tl(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,tl(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const PS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class b7{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=g0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Cn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,at.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Xh(n),this.isVariantNode=_A(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&nn(m)&&m.set(c[h])}}mount(t){var n;this.current=t,x7.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),LA.current||y7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rv.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),xi(this.notifyUpdate),xi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=gl.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&at.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in nl){const n=nl[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<PS.length;r++){const s=PS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=w7(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=tl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(TP(r)||AP(r))?r=parseFloat(r):!MH(r)&&wi.test(n)&&(r=hA(t,n)),this.setBaseTarget(t,nn(r)?r.get():r)),nn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=E0(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!nn(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new i0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){x0.render(this.render)}}class FA extends b7{constructor(){super(...arguments),this.KeyframeResolver=bH}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;nn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $A(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function _7(e){return window.getComputedStyle(e)}class S7 extends FA{constructor(){super(...arguments),this.type="html",this.renderInstance=$A}readValueFromInstance(t,n){var r;if(gl.has(n))return(r=this.projection)!=null&&r.isProjecting?_v(n):V9(t,n);{const s=_7(t),i=(HP(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return IA(t,n)}build(t,n,r){S0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return N0(t,n,r)}}const VA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function j7(e,t,n,r){$A(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(VA.has(s)?s:k0(s),t.attrs[s])}class C7 extends FA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(gl.has(n)){const r=fA(n);return r&&r.default||0}return n=VA.has(n)?n:k0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return TA(t,n,r)}build(t,n,r){CA(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){j7(t,n,r,s)}mount(t){this.isSVGTag=NA(t.tagName),super.mount(t)}}const E7=(e,t)=>C0(e)?new C7(t):new S7(t,{allowProjection:e!==p.Fragment});function Ea(e,t,n){const r=e.getProps();return E0(r,t,n!==void 0?n:r.custom,e)}const Ov=e=>Array.isArray(e);function N7(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,tl(n))}function k7(e){return Ov(e)?e[e.length-1]||0:e}function T7(e,t){const n=Ea(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=k7(i[o]);N7(e,o,a)}}function P7(e){return!!(nn(e)&&e.add)}function Mv(e,t){const n=e.getValue("willChange");if(P7(n))return n.add(t);if(!n&&Cs.WillChange){const r=new Cs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function BA(e){return e.props[PA]}const A7=e=>e!==null;function R7(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(A7),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const O7={type:"spring",stiffness:500,damping:25,restSpeed:10},M7=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),D7={type:"keyframes",duration:.8},I7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},L7=(e,{keyframes:t})=>t.length>2?D7:gl.has(e)?e.startsWith("scale")?M7(t[1]):O7:I7;function F7({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const T0=(e,t,n,r={},s,i)=>o=>{const a=v0(r,e)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Xr(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};F7(a)||Object.assign(d,L7(e,d)),d.duration&&(d.duration=Xr(d.duration)),d.repeatDelay&&(d.repeatDelay=Xr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Nv(d),d.delay===0&&(f=!0)),(Cs.instantAnimations||Cs.skipAnimations)&&(f=!0,Nv(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!i&&t.get()!==void 0){const h=R7(d.keyframes,a);if(h!==void 0){at.update(()=>{d.onUpdate(h),d.onComplete()});return}}return a.isSync?new p0(d):new cH(d)};function $7({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function UA(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in a){const f=e.getValue(d,e.latestValues[d]??null),h=a[d];if(h===void 0||u&&$7(u,d))continue;const m={delay:n,...v0(i||{},d)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===x&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const b=BA(e);if(b){const g=window.MotionHandoffAnimation(b,d,at);g!==null&&(m.startTime=g,v=!0)}}Mv(e,d),f.start(T0(d,f,h,e.shouldReduceMotion&&cA.has(d)?{type:!1}:m,e,v));const y=f.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{at.update(()=>{o&&T7(e,o)})}),c}function zA(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function Dv(e,t,n={}){var c;const r=Ea(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(UA(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return V7(e,t,u,d,f,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,d]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function V7(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),a.push(Dv(c,t,{...o,delay:n+(typeof r=="function"?0:r)+zA(e.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(a)}function B7(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Dv(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Dv(e,t,n);else{const s=typeof t=="function"?Ea(e,t,n.custom):t;r=Promise.all(UA(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function WA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const U7=_0.length;function HA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?HA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<U7;n++){const r=_0[n],s=e.props[r];(Bc(s)||s===!1)&&(t[r]=s)}return t}const z7=[...b0].reverse(),W7=b0.length;function H7(e){return t=>Promise.all(t.map(({animation:n,options:r})=>B7(e,n,r)))}function K7(e){let t=H7(e),n=AS(),r=!0;const s=c=>(u,d)=>{var h;const f=Ea(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:x,...v}=f;u={...u,...v,...x}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=HA(e.parent)||{},f=[],h=new Set;let m={},x=1/0;for(let y=0;y<W7;y++){const b=z7[y],g=n[b],w=u[b]!==void 0?u[b]:d[b],_=Bc(w),S=b===c?g.isActive:null;S===!1&&(x=y);let C=w===d[b]&&w!==u[b]&&_;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),g.protectedKeys={...m},!g.isActive&&S===null||!w&&!g.prevProp||Qh(w)||typeof w=="boolean")continue;const j=q7(g.prevProp,w);let E=j||b===c&&g.isActive&&!C&&_||y>x&&_,k=!1;const R=Array.isArray(w)?w:[w];let W=R.reduce(s(b),{});S===!1&&(W={});const{prevResolvedValues:D={}}=g,q={...D,...W},$=O=>{E=!0,h.has(O)&&(k=!0,h.delete(O)),g.needsAnimating[O]=!0;const T=e.getValue(O);T&&(T.liveStyle=!1)};for(const O in q){const T=W[O],P=D[O];if(m.hasOwnProperty(O))continue;let V=!1;Ov(T)&&Ov(P)?V=!WA(T,P):V=T!==P,V?T!=null?$(O):h.add(O):T!==void 0&&h.has(O)?$(O):g.protectedKeys[O]=!0}g.prevProp=w,g.prevResolvedValues=W,g.isActive&&(m={...m,...W}),r&&e.blockInitialAnimation&&(E=!1);const ne=C&&j;E&&(!ne||k)&&f.push(...R.map(O=>{const T={type:b};if(typeof O=="string"&&r&&!ne&&e.manuallyAnimateOnMount&&e.parent){const{parent:P}=e,V=Ea(P,O);if(P.enteringChildren&&V){const{delayChildren:te}=V.transition||{};T.delay=zA(P.enteringChildren,e,te)}}return{animation:O,options:T}}))}if(h.size){const y={};if(typeof u.initial!="boolean"){const b=Ea(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(y.transition=b.transition)}h.forEach(b=>{const g=e.getBaseTarget(b),w=e.getValue(b);w&&(w.liveStyle=!0),y[b]=g??null}),f.push({animation:y})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(f):Promise.resolve()}function a(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=AS()}}}function q7(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!WA(t,e):!1}function $i(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AS(){return{animate:$i(!0),whileInView:$i(),whileHover:$i(),whileTap:$i(),whileDrag:$i(),whileFocus:$i(),exit:$i()}}class Ri{constructor(t){this.isMounted=!1,this.node=t}update(){}}class G7 extends Ri{constructor(t){super(t),t.animationState||(t.animationState=K7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Y7=0;class Q7 extends Ri{constructor(){super(...arguments),this.id=Y7++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const X7={animation:{Feature:G7},exit:{Feature:Q7}};function Uc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function yu(e){return{point:{x:e.pageX,y:e.pageY}}}const Z7=e=>t=>w0(t)&&e(t,yu(t));function sc(e,t,n,r){return Uc(e,t,Z7(n),r)}const KA=1e-4,J7=1-KA,eK=1+KA,qA=.01,tK=0-qA,nK=0+qA;function dn(e){return e.max-e.min}function rK(e,t,n){return Math.abs(e-t)<=n}function RS(e,t,n,r=.5){e.origin=r,e.originPoint=ut(t.min,t.max,e.origin),e.scale=dn(n)/dn(t),e.translate=ut(n.min,n.max,e.origin)-e.originPoint,(e.scale>=J7&&e.scale<=eK||isNaN(e.scale))&&(e.scale=1),(e.translate>=tK&&e.translate<=nK||isNaN(e.translate))&&(e.translate=0)}function ic(e,t,n,r){RS(e.x,t.x,n.x,r?r.originX:void 0),RS(e.y,t.y,n.y,r?r.originY:void 0)}function OS(e,t,n){e.min=n.min+t.min,e.max=e.min+dn(t)}function sK(e,t,n){OS(e.x,t.x,n.x),OS(e.y,t.y,n.y)}function MS(e,t,n){e.min=t.min-n.min,e.max=e.min+dn(t)}function Hf(e,t,n){MS(e.x,t.x,n.x),MS(e.y,t.y,n.y)}function Wn(e){return[e("x"),e("y")]}const GA=({current:e})=>e?e.ownerDocument.defaultView:null,DS=(e,t)=>Math.abs(e-t);function iK(e,t){const n=DS(e.x,t.x),r=DS(e.y,t.y);return Math.sqrt(n**2+r**2)}class YA{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ep(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,x=iK(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!x)return;const{point:v}=h,{timestamp:y}=Kt;this.history.push({...v,timestamp:y});const{onStart:b,onMove:g}=this.handlers;m||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Cp(m,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:x,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ep(h.type==="pointercancel"?this.lastMoveEventInfo:Cp(m,this.transformPagePoint),this.history);this.startEvent&&x&&x(h,b),v&&v(h,b)},!w0(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=yu(t),c=Cp(a,this.transformPagePoint),{point:u}=c,{timestamp:d}=Kt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Ep(c,this.history)),this.removeListeners=pu(sc(this.contextWindow,"pointermove",this.handlePointerMove),sc(this.contextWindow,"pointerup",this.handlePointerUp),sc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xi(this.updatePoint)}}function Cp(e,t){return t?{point:t(e.point)}:e}function IS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ep({point:e},t){return{point:e,delta:IS(e,QA(t)),offset:IS(e,oK(t)),velocity:aK(t,.1)}}function oK(e){return e[0]}function QA(e){return e[e.length-1]}function aK(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=QA(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Xr(t)));)n--;if(!r)return{x:0,y:0};const i=Xn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function lK(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ut(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ut(n,e,r.max):Math.min(e,n)),e}function LS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function cK(e,{top:t,left:n,bottom:r,right:s}){return{x:LS(e.x,n,s),y:LS(e.y,t,r)}}function FS(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function uK(e,t){return{x:FS(e.x,t.x),y:FS(e.y,t.y)}}function dK(e,t){let n=.5;const r=dn(e),s=dn(t);return s>r?n=Fc(t.min,t.max-r,e.min):r>s&&(n=Fc(e.min,e.max-s,t.min)),js(0,1,n)}function fK(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Iv=.35;function hK(e=Iv){return e===!1?e=0:e===!0&&(e=Iv),{x:$S(e,"left","right"),y:$S(e,"top","bottom")}}function $S(e,t,n){return{min:VS(e,t),max:VS(e,n)}}function VS(e,t){return typeof e=="number"?e:e[t]||0}const mK=new WeakMap;class pK{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yu(f).point)},o=(f,h)=>{const{drag:m,dragPropagation:x,onDragStart:v}=this.getProps();if(m&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EH(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(b=>{let g=this.getAxisMotionValue(b).get()||0;if(Zr.test(g)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[b];_&&(g=dn(_)*(parseFloat(g)/100))}}this.originPoint[b]=g}),v&&at.postRender(()=>v(f,h)),Mv(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:v,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=h;if(x&&this.currentDirection===null){this.currentDirection=gK(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),y&&y(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Wn(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new YA(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:GA(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&at.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!fd(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=lK(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&da(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=cK(r.layoutBox,t):this.constraints=!1,this.elastic=hK(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Wn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fK(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!da(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=v7(r,s.root,this.visualElement.getTransformPagePoint());let o=uK(s.layout.layoutBox,i);if(n){const a=n(m7(o));this.hasMutatedConstraints=!!a,a&&(o=OA(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Wn(d=>{if(!fd(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Mv(this.visualElement,t),r.start(T0(t,r,0,n,this.visualElement,!1))}stopAnimation(){Wn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Wn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Wn(n=>{const{drag:r}=this.getProps();if(!fd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-ut(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!da(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Wn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();s[o]=dK({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wn(o=>{if(!fd(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(ut(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;mK.set(this.visualElement,this);const t=this.visualElement.current,n=sc(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();da(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),at.read(r);const o=Uc(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Wn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Iv,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function fd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function gK(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class vK extends Ri{constructor(t){super(t),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new pK(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const BS=e=>(t,n)=>{e&&at.postRender(()=>e(t,n))};class yK extends Ri{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(t){this.session=new YA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:BS(t),onStart:BS(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&at.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=sc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $d={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Np=!1;class xK extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Np&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$d.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Np=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||at.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),x0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Np=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function XA(e){const[t,n]=DH(),r=p.useContext(kP);return l.jsx(xK,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(AA),isPresent:t,safeToRemove:n})}function wK(e,t,n){const r=nn(e)?e:tl(e);return r.start(T0("",r,t,n)),r.animation}const bK=(e,t)=>e.depth-t.depth;class _K{constructor(){this.children=[],this.isDirty=!1}add(t){n0(this.children,t),this.isDirty=!0}remove(t){r0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bK),this.isDirty=!1,this.children.forEach(t)}}function SK(e,t){const n=Cn.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(xi(r),e(i-t))};return at.setup(r,!0),()=>xi(r)}const ZA=["TopLeft","TopRight","BottomLeft","BottomRight"],jK=ZA.length,US=e=>typeof e=="string"?parseFloat(e):e,zS=e=>typeof e=="number"||Se.test(e);function CK(e,t,n,r,s,i){s?(e.opacity=ut(0,n.opacity??1,EK(r)),e.opacityExit=ut(t.opacity??1,0,NK(r))):i&&(e.opacity=ut(t.opacity??1,n.opacity??1,r));for(let o=0;o<jK;o++){const a=`border${ZA[o]}Radius`;let c=WS(t,a),u=WS(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||zS(c)===zS(u)?(e[a]=Math.max(ut(US(c),US(u),r),0),(Zr.test(u)||Zr.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=ut(t.rotate||0,n.rotate||0,r))}function WS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const EK=JA(0,.5,$P),NK=JA(.5,.95,Jn);function JA(e,t,n){return r=>r<e?0:r>t?1:n(Fc(e,t,r))}function HS(e,t){e.min=t.min,e.max=t.max}function dr(e,t){HS(e.x,t.x),HS(e.y,t.y)}function KS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qS(e,t,n,r,s){return e-=t,e=Wf(e,1/n,r),s!==void 0&&(e=Wf(e,1/s,r)),e}function kK(e,t=0,n=1,r=.5,s,i=e,o=e){if(Zr.test(t)&&(t=parseFloat(t),t=ut(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ut(i.min,i.max,r);e===i&&(a-=t),e.min=qS(e.min,t,n,a,s),e.max=qS(e.max,t,n,a,s)}function GS(e,t,[n,r,s],i,o){kK(e,t[n],t[r],t[s],t.scale,i,o)}const TK=["x","scaleX","originX"],PK=["y","scaleY","originY"];function YS(e,t,n,r){GS(e.x,t,TK,n?n.x:void 0,r?r.x:void 0),GS(e.y,t,PK,n?n.y:void 0,r?r.y:void 0)}function QS(e){return e.translate===0&&e.scale===1}function eR(e){return QS(e.x)&&QS(e.y)}function XS(e,t){return e.min===t.min&&e.max===t.max}function AK(e,t){return XS(e.x,t.x)&&XS(e.y,t.y)}function ZS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function tR(e,t){return ZS(e.x,t.x)&&ZS(e.y,t.y)}function JS(e){return dn(e.x)/dn(e.y)}function e1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class RK{constructor(){this.members=[]}add(t){n0(this.members,t),t.scheduleRender()}remove(t){if(r0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OK(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const kp=["","X","Y","Z"],MK=1e3;let DK=0;function Tp(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function nR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=BA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&nR(r)}function rR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=DK++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(FK),this.nodes.forEach(UK),this.nodes.forEach(zK),this.nodes.forEach($K)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new _K)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new i0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=yA(o)&&!RH(o),this.instance=o;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;at.read(()=>{f=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=SK(h,250),$d.hasAnimatedSinceResize&&($d.hasAnimatedSinceResize=!1,this.nodes.forEach(r1)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||GK,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=u.getProps(),b=!this.targetLayout||!tR(this.targetLayout,m),g=!f&&h;if(this.options.layoutRoot||this.resumeFrom||g||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...v0(x,"layout"),onPlay:v,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,g)}else f||r1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(n1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(BK),this.nodes.forEach(IK),this.nodes.forEach(LK)):this.nodes.forEach(n1),this.clearAllSnapshots();const a=Cn.now();Kt.delta=js(0,1e3/60,a-Kt.timestamp),Kt.timestamp=a,Kt.isProcessing=!0,vp.update.process(Kt),vp.preRender.process(Kt),vp.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,x0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VK),this.sharedNodes.forEach(HK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!eR(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ki(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),YK(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Mt();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(QK))){const{scroll:d}=this.root;d&&(fa(a.x,d.offset.x),fa(a.y,d.offset.y))}return a}removeElementScroll(o){var c;const a=Mt();if(dr(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&dr(a,o),fa(a.x,f.offset.x),fa(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const c=Mt();dr(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ha(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ki(d.latestValues)&&ha(c,d.latestValues)}return Ki(this.latestValues)&&ha(c,this.latestValues),c}removeTransform(o){const a=Mt();dr(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ki(u.latestValues))continue;Pv(u.latestValues)&&u.updateSnapshot();const d=Mt(),f=u.measurePageBox();dr(d,f),YS(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ki(this.latestValues)&&YS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=Kt.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Mt(),this.targetWithTransforms=Mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dr(this.target,this.layout.layoutBox),DA(this.target,this.targetDelta)):dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Pv(this.parent.latestValues)||MA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),Hf(this.relativeTargetOrigin,a,c),dr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;dr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;g7(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Mt());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KS(this.prevProjectionDelta.x,this.projectionDelta.x),KS(this.prevProjectionDelta.y,this.projectionDelta.y)),ic(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!e1(this.projectionDelta.x,this.prevProjectionDelta.x)||!e1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ma(),this.projectionDelta=ma(),this.projectionDeltaWithTransform=ma()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=ma();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Mt(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,v=m!==x,y=this.getStack(),b=!y||y.members.length<=1,g=!!(v&&!b&&this.options.crossfade===!0&&!this.path.some(qK));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const S=_/1e3;s1(f.x,o.x,S),s1(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KK(this.relativeTarget,this.relativeTargetOrigin,h,S),w&&AK(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Mt()),dr(w,this.relativeTarget)),v&&(this.animationValues=d,CK(d,u,this.latestValues,S,g,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(xi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{$d.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=tl(0)),this.currentAnimation=wK(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(MK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&sR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Mt();const f=dn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=dn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}dr(a,c),ha(a,d),ic(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new RK),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&Tp("z",o,u,this.animationValues);for(let d=0;d<kp.length;d++)Tp(`rotate${kp[d]}`,o,u,this.animationValues),Tp(`skew${kp[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Fd(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Fd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ki(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=OK(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Tv){if(d[x]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:b}=Tv[x],g=f==="none"?d[x]:v(d[x],u);if(y){const w=y.length;for(let _=0;_<w;_++)o[y[_]]=g}else b?this.options.visualElement.renderState.vars[x]=g:o[x]=g}this.options.layoutId&&(o.pointerEvents=u===this?Fd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(t1),this.root.sharedNodes.clear()}}}function IK(e){e.updateLayout()}function LK(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Wn(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=dn(h);h.min=r[f].min,h.max=h.min+m}):sR(i,t.layoutBox,r)&&Wn(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=dn(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=ma();ic(a,r,t.layoutBox);const c=ma();o?ic(c,e.applyTransform(s,!0),t.measuredBox):ic(c,r,t.layoutBox);const u=!eR(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const x=Mt();Hf(x,t.layoutBox,h.layoutBox);const v=Mt();Hf(v,r,m.layoutBox),tR(x,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function FK(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $K(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function VK(e){e.clearSnapshot()}function t1(e){e.clearMeasurements()}function n1(e){e.isLayoutDirty=!1}function BK(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function r1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function UK(e){e.resolveTargetDelta()}function zK(e){e.calcProjection()}function WK(e){e.resetSkewAndRotation()}function HK(e){e.removeLeadSnapshot()}function s1(e,t,n){e.translate=ut(t.translate,0,n),e.scale=ut(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function i1(e,t,n,r){e.min=ut(t.min,n.min,r),e.max=ut(t.max,n.max,r)}function KK(e,t,n,r){i1(e.x,t.x,n.x,r),i1(e.y,t.y,n.y,r)}function qK(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const GK={duration:.45,ease:[.4,0,.1,1]},o1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),a1=o1("applewebkit/")&&!o1("chrome/")?Math.round:Jn;function l1(e){e.min=a1(e.min),e.max=a1(e.max)}function YK(e){l1(e.x),l1(e.y)}function sR(e,t,n){return e==="position"||e==="preserve-aspect"&&!rK(JS(t),JS(n),.2)}function QK(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const XK=rR({attachResizeListener:(e,t)=>Uc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pp={current:void 0},iR=rR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Pp.current){const e=new XK({});e.mount(window),e.setOptions({layoutScroll:!0}),Pp.current=e}return Pp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ZK={pan:{Feature:yK},drag:{Feature:vK,ProjectionNode:iR,MeasureLayout:XA}};function c1(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&at.postRender(()=>i(t,yu(t)))}class JK extends Ri{mount(){const{current:t}=this.node;t&&(this.unmount=NH(t,(n,r)=>(c1(this.node,r,"Start"),s=>c1(this.node,s,"End"))))}unmount(){}}class eq extends Ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pu(Uc(this.node.current,"focus",()=>this.onFocus()),Uc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function u1(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&at.postRender(()=>i(t,yu(t)))}class tq extends Ri{mount(){const{current:t}=this.node;t&&(this.unmount=AH(t,(n,r)=>(u1(this.node,r,"Start"),(s,{success:i})=>u1(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lv=new WeakMap,Ap=new WeakMap,nq=e=>{const t=Lv.get(e.target);t&&t(e)},rq=e=>{e.forEach(nq)};function sq({root:e,...t}){const n=e||document;Ap.has(n)||Ap.set(n,{});const r=Ap.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(rq,{root:e,...t})),r[s]}function iq(e,t,n){const r=sq(t);return Lv.set(e,n),r.observe(e),()=>{Lv.delete(e),r.unobserve(e)}}const oq={some:0,all:1};class aq extends Ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:oq[s]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return iq(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(lq(t,n))&&this.startObserver()}unmount(){}}function lq({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const cq={inView:{Feature:aq},tap:{Feature:tq},focus:{Feature:eq},hover:{Feature:JK}},uq={layout:{ProjectionNode:iR,MeasureLayout:XA}},dq={...X7,...cq,...ZK,...uq},fq=h7(dq,E7),P0=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!0),{user:s}=rr(),i=async()=>{if(!s){r(!1);return}try{const{data:c,error:u}=await he.from("clients").select("id, name").eq("user_id",s.id).single();if(u||!c){t([]),r(!1);return}const{data:d,error:f}=await he.from("appointments").select("*").eq("client_id",c.id).order("appointment_date",{ascending:!1});if(f)throw f;if(!d||d.length===0){t([]),r(!1);return}const h=[...new Set(d.map(w=>w.staff_id))],m=[...new Set(d.flatMap(w=>w.service_ids))],{data:x}=await he.from("staff").select("id, name, avatar_url").in("id",h),{data:v}=await he.from("services").select("id, name").in("id",m),y=new Map((x==null?void 0:x.map(w=>[w.id,{name:w.name,avatar_url:w.avatar_url}]))||[]),b=new Map((v==null?void 0:v.map(w=>[w.id,w.name]))||[]),g=d.map(w=>{var _,S;return{...w,client_name:c.name,staff_name:((_=y.get(w.staff_id))==null?void 0:_.name)||"Unknown Staff",staff_avatar_url:((S=y.get(w.staff_id))==null?void 0:S.avatar_url)||null,service_names:w.service_ids.map(C=>b.get(C)||"Unknown Service")}});t(g)}catch(c){Ce.error("Failed to load appointments"),console.error("Error fetching appointments:",c)}finally{r(!1)}},o=async(c,u)=>{try{const{error:d}=await he.from("appointments").update(u).eq("id",c);if(d)throw d;return Ce.success("Appointment rescheduled successfully"),await i(),{success:!0}}catch(d){return Ce.error(d.message||"Failed to reschedule appointment"),{success:!1,error:d}}},a=async c=>{try{const{error:u}=await he.from("appointments").delete().eq("id",c);if(u)throw u;return Ce.success("Appointment cancelled successfully"),await i(),{success:!0}}catch(u){return Ce.error(u.message||"Failed to cancel appointment"),{success:!1,error:u}}};return p.useEffect(()=>{i();const c=he.channel("client-appointments-changes").on("postgres_changes",{event:"*",schema:"public",table:"appointments"},()=>{i()}).subscribe();return()=>{he.removeChannel(c)}},[s]),{appointments:e,loading:n,updateAppointment:o,cancelAppointment:a,refetch:i}},hq=()=>{const e=new Date,t=Pe(e,"yyyy-MM-dd"),{role:n}=rr(),{appointments:r,loading:s}=$h(),{appointments:i,loading:o}=P0(),{clients:a,loading:c}=Jx(),{services:u,loading:d}=hl(),f=n==="client"?i:r,h=n==="client"?o:s,m=(f==null?void 0:f.filter(g=>g.appointment_date===t))||[],x=m.reduce((g,w)=>g+Number(w.total_price||0),0);u!=null&&u.filter(g=>g.is_active).length;const v=n==="client"?[{label:"My Upcoming Appointments",value:(f==null?void 0:f.filter(g=>new Date(g.appointment_date)>=e).length.toString())||"0",icon:Rt,color:"text-primary"},{label:"Total Appointments",value:((f==null?void 0:f.length)||0).toString(),icon:tc,color:"text-[hsl(var(--status-confirmed))]"},{label:"Services Booked",value:(new Set(f==null?void 0:f.flatMap(g=>g.service_ids||[])).size||0).toString(),icon:kr,color:"text-[hsl(var(--status-completed))]"},{label:"Total Spent",value:`${f==null?void 0:f.reduce((g,w)=>g+Number(w.total_price||0),0).toLocaleString()}`,icon:pb}]:[{label:"Today's Appointments",value:m.length.toString(),icon:Rt,color:"text-primary"},{label:"Total Clients",value:((a==null?void 0:a.length)||0).toString(),icon:tc,color:"text-[hsl(var(--status-confirmed))]"},{label:"Services Offered",value:((u==null?void 0:u.length)||0).toString(),icon:kr,color:"text-[hsl(var(--status-completed))]"},{label:"Today's Revenue",value:`${x.toLocaleString()}`,icon:pb}],y=g=>{switch(g){case"confirmed":return"status-confirmed";case"pending":return"status-pending";case"cancelled":return"status-cancelled";case"completed":return"status-completed";default:return""}};return h||c||d?l.jsx("div",{className:"space-y-8 animate-fade-in",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(g=>l.jsxs("div",{className:"glass-card rounded-2xl p-6 animate-pulse",children:[l.jsx("div",{className:"h-12 w-12 rounded-xl bg-muted mb-4"}),l.jsx("div",{className:"h-8 w-20 bg-muted rounded mb-2"}),l.jsx("div",{className:"h-4 w-32 bg-muted rounded"})]},g))})}):l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsx(fq.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:l.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Welcome back!"})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:v.map((g,w)=>l.jsxs("div",{className:"glass-card rounded-2xl p-6 hover:shadow-lg transition-all duration-300",children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsx("div",{className:K("w-12 h-12 rounded-xl bg-accent flex items-center justify-center",g.color),children:l.jsx(g.icon,{className:"h-6 w-6"})})}),l.jsx("p",{className:"text-3xl font-serif font-semibold text-foreground mb-1",children:g.value}),l.jsx("p",{className:"text-muted-foreground text-sm",children:g.label})]},w))}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[n==="client"?l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h2",{className:"font-serif text-xl font-semibold text-foreground",children:"My Appointments"})}),(f==null?void 0:f.length)===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Rt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No appointments yet"})]}):l.jsx("div",{className:"space-y-4",children:f==null?void 0:f.slice(0,5).map(g=>{var w,_;return l.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-muted/50 hover:bg-muted transition-colors",children:[l.jsxs("div",{className:"text-center min-w-[60px]",children:[l.jsx("p",{className:"text-lg font-semibold text-foreground",children:(w=g.start_time)==null?void 0:w.slice(0,5)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:Pe(new Date(g.appointment_date),"MMM d")})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-foreground truncate",children:(_=g.service_names)==null?void 0:_.join(", ")}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:g.staff_name||"Staff"})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:"text-sm font-medium text-foreground",children:["",Number(g.total_price).toLocaleString()]})})]},g.id)})})]}):l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"font-serif text-xl font-semibold text-foreground",children:"Today's Schedule"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:Pe(e,"EEEE, MMMM d")})]}),m.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Rt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No appointments scheduled for today"})]}):l.jsx("div",{className:"space-y-4",children:m.slice(0,5).map(g=>{var w,_;return l.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-muted/50 hover:bg-muted transition-colors",children:[l.jsxs("div",{className:"text-center min-w-[60px]",children:[l.jsx("p",{className:"text-lg font-semibold text-foreground",children:(w=g.start_time)==null?void 0:w.slice(0,5)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:(_=g.end_time)==null?void 0:_.slice(0,5)})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-foreground truncate",children:g.client_name||"Client"}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:g.staff_name||"Staff"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:K("inline-block px-3 py-1 rounded-full text-xs font-medium border",y(g.status)),children:g.status}),l.jsxs("p",{className:"text-sm font-medium text-foreground mt-1",children:["",Number(g.total_price).toLocaleString()]})]})]},g.id)})})]}),n!=="client"&&l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("h2",{className:"font-serif text-xl font-semibold text-foreground mb-6",children:"Recent Clients"}),!a||a.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(tc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No clients yet"})]}):l.jsx("div",{className:"space-y-4",children:a.slice(0,5).map(g=>l.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-muted/50 hover:bg-muted transition-colors",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-accent flex items-center justify-center",children:l.jsx("span",{className:"font-semibold text-accent-foreground",children:g.name.split(" ").map(w=>w[0]).join("")})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-foreground truncate",children:g.name}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:g.email})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Joined ",Pe(new Date(g.created_at),"MMM d, yyyy")]})})]},g.id))})]})]})]})},Rp=768;function oR(){const[e,t]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Rp-1}px)`),r=()=>{t(window.innerWidth<Rp)};return n.addEventListener("change",r),t(window.innerWidth<Rp),()=>n.removeEventListener("change",r)},[]),!!e}const aR=({open:e,onOpenChange:t,preselectedDate:n,editingAppointment:r,onBookingComplete:s})=>{var M,ce,De;const[i,o]=p.useState("service"),[a,c]=p.useState([]),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,x]=p.useState(null),[v,y]=p.useState(!1),[b,g]=p.useState("all"),{services:w,categories:_,loading:S}=hl(),{staff:C,loading:j}=Ax(),{user:E,role:k}=rr(),{createAppointment:R}=$h(),W=oR(),{clients:D,loading:q,createClient:$}=Jx(),[ne,H]=p.useState({name:"",email:"",phone:"",notes:""}),O=n||new Date;p.useEffect(()=>{q||(async()=>{if(E&&k==="client"){const ue=D.find($e=>$e.user_id===E.id);ue&&(d(ue.id),H({name:ue.name||"",email:ue.email||"",phone:ue.phone||"",notes:ue.notes||""}))}})()},[E,k,D,q]),p.useEffect(()=>{if(r&&(c(w.filter(L=>{var ue;return(ue=r.service_ids)==null?void 0:ue.includes(L.id)})),d(r.client_id),h(r.staff_id),x(r.start_time),r.client_id)){const L=D.find(ue=>ue.id===r.client_id);L&&H({name:L.name||"",email:L.email||"",phone:L.phone||"",notes:L.notes||""})}},[r,w,D]);const T=k==="client"?[{key:"service",label:"Services"},{key:"staff",label:"Staff"},{key:"time",label:"Time"},{key:"confirm",label:"Confirm"}]:[{key:"service",label:"Services"},{key:"client",label:"Client"},{key:"staff",label:"Staff"},{key:"time",label:"Time"},{key:"confirm",label:"Confirm"}],P=T.findIndex(L=>L.key===i),V=()=>{const L=P+1;L<T.length&&o(T[L].key)},te=()=>{const L=P-1;L>=0&&o(T[L].key)},J=L=>{c(ue=>ue.find(He=>He.id===L.id)?ue.filter(He=>He.id!==L.id):[...ue,L])},fe=L=>{c(ue=>ue.filter($e=>$e.id!==L))},ge=a.reduce((L,ue)=>L+Number(ue.price),0),Me=a.reduce((L,ue)=>L+ue.duration,0),z=w.filter(L=>L.is_active),B=C.filter(L=>L.is_active),ve=b==="all"?z:z.filter(L=>L.category===b),_e=(()=>{const L=[];for(let He=10;He<=17;He++)for(let lt=0;lt<60&&!(He===17&&lt>0);lt+=15){const N=He>=12?"PM":"AM",I=`${(He>12?He-12:He===0?12:He).toString().padStart(2,"0")}:${lt.toString().padStart(2,"0")} ${N}`,ee=`${He.toString().padStart(2,"0")}:${lt.toString().padStart(2,"0")}`;L.push({display:I,value:ee})}return L})(),we=async()=>{if(!u||!f||!m||a.length===0){Ce.error("Please fill all required fields");return}y(!0);try{const[L,ue]=m.split(":").map(Number),$e=L*60+ue+Me,He=Math.floor($e/60),lt=$e%60,N=`${String(He).padStart(2,"0")}:${String(lt).padStart(2,"0")}`;if(r){const{error:A}=await he.from("appointments").update({client_id:u,staff_id:f,service_ids:a.map(I=>I.id),appointment_date:Pe(O,"yyyy-MM-dd"),start_time:m,end_time:N,total_duration:Me,total_price:ge,notes:ne.notes||void 0}).eq("id",r.id);if(A)throw A;Ce.success("Appointment updated successfully!")}else await R({client_id:u,staff_id:f,service_ids:a.map(A=>A.id),appointment_date:Pe(O,"yyyy-MM-dd"),start_time:m,end_time:N,total_duration:Me,total_price:ge,notes:ne.notes||void 0,status:"confirmed"});s&&s(),t(!1),c([]),d(null),h(null),x(null),H({name:"",email:"",phone:"",notes:""}),o("service"),g("all")}catch(L){Ce.error(L.message||"Failed to save appointment")}finally{y(!1)}};return p.useEffect(()=>{e||(o("service"),c([]),k!=="client"&&(d(null),H({name:"",email:"",phone:"",notes:""})),h(null),x(null),g("all"))},[e,k]),l.jsx(Oo,{open:e,onOpenChange:t,children:l.jsxs(Ai,{className:K("p-0 gap-0 flex flex-col",W?"w-screen h-screen max-w-none rounded-none m-0":"max-w-4xl max-h-[90vh] rounded-lg"),children:[l.jsxs(Mo,{className:"px-4 md:px-6 pt-4 md:pt-6 pb-3 md:pb-4 border-b shrink-0",children:[l.jsx(Do,{className:"text-lg md:text-2xl font-semibold",children:r?"Edit Appointment":"New Booking"}),l.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:Pe(O,"EEEE, MMMM d, yyyy")})]}),l.jsx("div",{className:"px-4 md:px-6 py-3 md:py-4 border-b shrink-0",children:l.jsx(Ix,{className:"w-full",children:l.jsx("div",{className:"flex items-center justify-start md:justify-center gap-1 md:gap-3 min-w-max pb-2",children:T.map((L,ue)=>l.jsxs("div",{className:"flex items-center flex-shrink-0",children:[l.jsxs("div",{className:K("flex items-center gap-1.5 md:gap-2",ue<=P?"text-foreground":"text-muted-foreground"),children:[l.jsx("div",{className:K("w-7 h-7 md:w-8 md:h-8 rounded-full flex items-center justify-center text-xs md:text-sm font-medium transition-all flex-shrink-0",ue<P?"bg-primary text-primary-foreground":ue===P?"bg-primary text-primary-foreground ring-2 md:ring-4 ring-primary/20":"bg-muted text-muted-foreground"),children:ue<P?l.jsx(Cc,{className:"h-3.5 w-3.5 md:h-4 md:w-4"}):ue+1}),l.jsx("span",{className:K("text-xs md:text-sm font-medium whitespace-nowrap"),children:L.label})]}),ue<T.length-1&&l.jsx(_n,{className:"h-4 w-4 mx-1 md:mx-2 text-muted-foreground flex-shrink-0"})]},L.key))})})}),l.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:l.jsxs("div",{className:"px-4 md:px-6 py-4 md:py-6",children:[i==="service"&&l.jsxs("div",{className:"animate-fade-in space-y-4",children:[l.jsx("h3",{className:"text-base md:text-lg font-semibold",children:"Select Services"}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 md:mb-6",children:[l.jsx("button",{onClick:()=>g("all"),className:K("px-3 md:px-4 py-1.5 md:py-2 rounded-full text-xs md:text-sm font-medium transition-colors",b==="all"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),children:"All Services"}),_.map(L=>z.filter($e=>$e.category===L).length===0?null:l.jsx("button",{onClick:()=>g(L),className:K("px-3 md:px-4 py-1.5 md:py-2 rounded-full text-xs md:text-sm font-medium transition-colors",b===L?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),children:L},L))]}),S?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:K("gap-4 md:gap-6",W?"space-y-4":"grid lg:grid-cols-3"),children:[l.jsx("div",{className:W?"":"lg:col-span-2",children:l.jsx("div",{className:"space-y-6",children:b==="all"?_.map(L=>{const ue=z.filter($e=>$e.category===L);return ue.length===0?null:l.jsx("div",{children:l.jsx("div",{className:"space-y-2",children:ue.map($e=>{const He=a.some(lt=>lt.id===$e.id);return l.jsxs("div",{className:K("flex items-center justify-between p-2.5 md:p-3 rounded-lg border transition-colors cursor-pointer",He?"border-primary bg-primary/5":"border-border hover:border-primary/50"),onClick:()=>J($e),children:[l.jsxs("div",{className:"flex-1 min-w-0 mr-2 md:mr-4",children:[l.jsx("h5",{className:"font-medium text-foreground text-sm md:text-base",children:$e.name}),l.jsxs("div",{className:"flex items-center gap-2 md:gap-4 mt-1",children:[l.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(kr,{className:"h-3 w-3"}),$e.duration," min"]}),l.jsxs("span",{className:"text-xs md:text-sm font-semibold text-primary",children:["",$e.price]})]})]}),l.jsx(Z,{variant:He?"default":"outline",size:"icon",className:"shrink-0 h-7 w-7 md:h-8 md:w-8 rounded-full",children:He?l.jsx(Ag,{className:"h-3.5 w-3.5 md:h-4 md:w-4"}):l.jsx(Gn,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})})]},$e.id)})})},L)}):l.jsxs("div",{children:[l.jsx("div",{className:"space-y-2",children:ve.map(L=>{const ue=a.some($e=>$e.id===L.id);return l.jsxs("div",{className:K("flex items-center justify-between p-2.5 md:p-3 rounded-lg border transition-colors cursor-pointer",ue?"border-primary bg-primary/5":"border-border hover:border-primary/50"),onClick:()=>J(L),children:[l.jsxs("div",{className:"flex-1 min-w-0 mr-2 md:mr-4",children:[l.jsx("h5",{className:"font-medium text-foreground text-sm md:text-base",children:L.name}),l.jsx("p",{className:"text-xs md:text-sm text-muted-foreground line-clamp-1",children:L.description||"No description"}),l.jsxs("div",{className:"flex items-center gap-2 md:gap-4 mt-1",children:[l.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(kr,{className:"h-3 w-3"}),L.duration," min"]}),l.jsxs("span",{className:"text-xs md:text-sm font-semibold text-primary",children:["",L.price]})]})]}),l.jsx(Z,{variant:ue?"default":"outline",size:"icon",className:"shrink-0 h-7 w-7 md:h-8 md:w-8 rounded-full",children:ue?l.jsx(Ag,{className:"h-3.5 w-3.5 md:h-4 md:w-4"}):l.jsx(Gn,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})})]},L.id)})}),ve.length===0&&l.jsx("p",{className:"text-muted-foreground text-center py-8 text-sm",children:"No services found in this category"})]})})}),l.jsxs("div",{className:"border rounded-lg p-3 md:p-4 h-fit sticky top-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4",children:[l.jsx(EE,{className:"h-4 w-4 md:h-5 md:w-5 text-primary"}),l.jsx("h4",{className:"font-semibold text-foreground text-sm md:text-base",children:"Selected Services"})]}),a.length===0?l.jsx("p",{className:"text-muted-foreground text-xs md:text-sm py-3 md:py-4 text-center",children:"No services selected"}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-2 md:space-y-3 mb-3 md:mb-4",children:a.map(L=>l.jsxs("div",{className:"flex items-start justify-between gap-2 p-2 rounded bg-muted/50",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-foreground text-xs md:text-sm",children:L.name}),l.jsxs("div",{className:"flex items-center gap-1 md:gap-2 mt-1",children:[l.jsxs("span",{className:"text-xs text-muted-foreground",children:[L.duration," min"]}),l.jsxs("span",{className:"text-xs font-semibold text-primary",children:["",L.price]})]})]}),l.jsx("button",{onClick:()=>fe(L.id),className:"text-muted-foreground hover:text-destructive transition-colors flex-shrink-0",children:l.jsx(ji,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})})]},L.id))}),l.jsxs("div",{className:"border-t pt-3 md:pt-4 space-y-1 md:space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Duration"}),l.jsxs("span",{className:"font-medium text-foreground",children:[Me," min"]})]}),l.jsxs("div",{className:"flex justify-between text-sm md:text-base",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Price"}),l.jsxs("span",{className:"font-semibold text-primary",children:["",ge]})]})]})]}),l.jsxs(Z,{className:"w-full mt-3 md:mt-4",onClick:V,disabled:a.length===0,size:W?"sm":"default",children:["Continue",l.jsx(_n,{className:"h-3.5 w-3.5 md:h-4 md:w-4 ml-1 md:ml-2"})]})]})]})]}),i==="client"&&k!=="client"&&l.jsxs("div",{className:"animate-fade-in space-y-4",children:[l.jsx("h3",{className:"text-base md:text-lg font-semibold",children:"Select Client"}),l.jsx("div",{className:K("gap-4 md:gap-6",W?"space-y-4":"grid md:grid-cols-2"),children:l.jsx("div",{children:l.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-2",children:q?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):l.jsxs(l.Fragment,{children:[D.map(L=>l.jsx("div",{className:K("p-2.5 md:p-3 rounded-lg border cursor-pointer transition-colors",u===L.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"),onClick:()=>d(L.id),children:l.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.jsx("div",{className:"w-7 h-7 md:w-8 md:h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(bh,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-primary"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-medium truncate text-sm md:text-base",children:L.name}),l.jsx("p",{className:"text-xs md:text-sm text-muted-foreground truncate",children:L.email})]})]})},L.id)),D.length===0&&l.jsx("p",{className:"text-muted-foreground text-center py-8 text-sm",children:"No clients found"})]})})})}),l.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[l.jsxs(Z,{variant:"outline",onClick:te,size:W?"sm":"default",children:[l.jsx(Ji,{className:"h-4 w-4 mr-1"}),"Back"]}),l.jsxs(Z,{onClick:V,disabled:!u,size:W?"sm":"default",children:["Continue",l.jsx(_n,{className:"h-4 w-4 ml-1"})]})]})]}),i==="staff"&&l.jsxs("div",{className:"animate-fade-in space-y-4",children:[l.jsx("h3",{className:"text-base md:text-lg font-semibold",children:"Select Staff"}),j?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:K("gap-3 md:gap-4",W?"space-y-3":"grid md:grid-cols-2 lg:grid-cols-3"),children:B.map(L=>l.jsx("div",{className:K("p-3 md:p-4 rounded-lg border cursor-pointer transition-all",f===L.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"),onClick:()=>h(L.id),children:l.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.jsx("div",{className:"w-9 h-9 md:w-12 md:h-12 rounded-full bg-accent flex items-center justify-center overflow-hidden flex-shrink-0",children:L.avatar_url?l.jsx("img",{src:L.avatar_url||"/placeholder.svg",alt:L.name,className:"w-full h-full object-cover"}):l.jsx("span",{className:"font-semibold text-accent-foreground text-xs md:text-sm",children:L.name.split(" ").map(ue=>ue[0]).join("")})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h4",{className:"font-semibold truncate text-sm md:text-base",children:L.name}),l.jsx("p",{className:"text-xs md:text-sm text-muted-foreground truncate",children:L.title})]})]})},L.id))}),B.length===0&&l.jsx("p",{className:"text-muted-foreground text-center py-8 text-sm",children:"No staff members available"}),l.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[l.jsxs(Z,{variant:"outline",onClick:te,size:W?"sm":"default",children:[l.jsx(Ji,{className:"h-4 w-4 mr-1"}),"Back"]}),l.jsxs(Z,{onClick:V,disabled:!f,size:W?"sm":"default",children:["Continue",l.jsx(_n,{className:"h-4 w-4 ml-1"})]})]})]})]}),i==="time"&&l.jsxs("div",{className:"animate-fade-in space-y-4",children:[l.jsx("h3",{className:"text-base md:text-lg font-semibold",children:"Select Time"}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Rt,{className:"h-4 w-4 md:h-5 w-5 text-primary"}),l.jsx("span",{className:"font-medium text-sm md:text-base",children:Pe(O,"EEEE, MMMM d, yyyy")})]}),l.jsx("div",{className:K("gap-2",W?"grid grid-cols-3":"grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8"),children:_e.map(L=>l.jsx("button",{onClick:()=>x(L.value),className:K("py-2 px-2 md:px-3 rounded border text-xs md:text-sm transition-all",m===L.value?"bg-primary text-primary-foreground border-primary":"border-border hover:border-primary/50"),children:L.display},L.value))})]}),l.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[l.jsxs(Z,{variant:"outline",onClick:te,size:W?"sm":"default",children:[l.jsx(Ji,{className:"h-4 w-4 mr-1"}),"Back"]}),l.jsxs(Z,{onClick:V,disabled:!m,size:W?"sm":"default",children:["Continue",l.jsx(_n,{className:"h-4 w-4 ml-1"})]})]})]}),i==="confirm"&&l.jsxs("div",{className:"animate-fade-in space-y-4",children:[l.jsx("h3",{className:"text-base md:text-lg font-semibold",children:"Confirm Booking"}),l.jsxs("div",{className:"border rounded-lg p-3 md:p-4",children:[l.jsx("h4",{className:"font-semibold mb-3 text-sm md:text-base",children:"Booking Summary"}),l.jsxs("div",{className:"space-y-2.5 md:space-y-3",children:[l.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Date"}),l.jsx("span",{className:"font-medium",children:Pe(O,"MMM d, yyyy")})]}),l.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Time"}),l.jsx("span",{className:"font-medium",children:(M=_e.find(L=>L.value===m))==null?void 0:M.display})]}),l.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Staff"}),l.jsx("span",{className:"font-medium truncate max-w-[60%]",children:(ce=C.find(L=>L.id===f))==null?void 0:ce.name})]}),l.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Client"}),l.jsx("span",{className:"font-medium truncate max-w-[60%]",children:(De=D.find(L=>L.id===u))==null?void 0:De.name})]}),l.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Services"}),l.jsx("div",{className:"text-right max-w-[60%] space-y-0.5",children:a.map(L=>l.jsxs("div",{className:"text-xs truncate",children:[L.name," - ",L.price]},L.id))})]}),l.jsx("div",{className:"border-t pt-2.5 md:pt-3",children:l.jsxs("div",{className:"flex justify-between font-semibold text-sm md:text-base",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["",ge]})]})})]})]}),l.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[l.jsxs(Z,{variant:"outline",onClick:te,size:W?"sm":"default",children:[l.jsx(Ji,{className:"h-4 w-4 mr-1"}),"Back"]}),l.jsx(Z,{onClick:we,disabled:v,size:W?"sm":"default",children:v?"Saving...":r?"Update":"Confirm"})]})]})]})})]})})};var Op="rovingFocusGroup.onEntryFocus",mq={bubbles:!1,cancelable:!0},xu="RovingFocusGroup",[Fv,lR,pq]=gh(xu),[gq,cR]=zn(xu,[pq]),[vq,yq]=gq(xu),uR=p.forwardRef((e,t)=>l.jsx(Fv.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Fv.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(xq,{...e,ref:t})})}));uR.displayName=xu;var xq=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=Ae(t,h),x=Vh(i),[v,y]=mi({prop:o,defaultProp:a??null,onChange:c,caller:xu}),[b,g]=p.useState(!1),w=bt(u),_=lR(n),S=p.useRef(!1),[C,j]=p.useState(0);return p.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(Op,w),()=>E.removeEventListener(Op,w)},[w]),l.jsx(vq,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(E=>y(E),[y]),onItemShiftTab:p.useCallback(()=>g(!0),[]),onFocusableItemAdd:p.useCallback(()=>j(E=>E+1),[]),onFocusableItemRemove:p.useCallback(()=>j(E=>E-1),[]),children:l.jsx(xe.div,{tabIndex:b||C===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Q(e.onMouseDown,()=>{S.current=!0}),onFocus:Q(e.onFocus,E=>{const k=!S.current;if(E.target===E.currentTarget&&k&&!b){const R=new CustomEvent(Op,mq);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const W=_().filter(H=>H.focusable),D=W.find(H=>H.active),q=W.find(H=>H.id===v),ne=[D,q,...W].filter(Boolean).map(H=>H.ref.current);hR(ne,d)}}S.current=!1}),onBlur:Q(e.onBlur,()=>g(!1))})})}),dR="RovingFocusGroupItem",fR=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=e,c=Gr(),u=i||c,d=yq(dR,n),f=d.currentTabStopId===u,h=lR(n),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:v}=d;return p.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),l.jsx(Fv.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:l.jsx(xe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:Q(e.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:Q(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Q(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=_q(y,d.orientation,d.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(y.currentTarget);w=d.loop?Sq(w,_+1):w.slice(_+1)}setTimeout(()=>hR(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});fR.displayName=dR;var wq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bq(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _q(e,t,n){const r=bq(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return wq[r]}function hR(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Sq(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var jq=uR,Cq=fR,$v=["Enter"," "],Eq=["ArrowDown","PageUp","Home"],mR=["ArrowUp","PageDown","End"],Nq=[...Eq,...mR],kq={ltr:[...$v,"ArrowRight"],rtl:[...$v,"ArrowLeft"]},Tq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wu="Menu",[zc,Pq,Aq]=gh(wu),[Io,pR]=zn(wu,[Aq,Ci,cR]),Zh=Ci(),gR=cR(),[Rq,Lo]=Io(wu),[Oq,bu]=Io(wu),vR=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=e,a=Zh(t),[c,u]=p.useState(null),d=p.useRef(!1),f=bt(i),h=Vh(s);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),l.jsx(ix,{...a,children:l.jsx(Rq,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(Oq,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};vR.displayName=wu;var Mq="MenuAnchor",A0=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Zh(n);return l.jsx(ru,{...s,...r,ref:t})});A0.displayName=Mq;var R0="MenuPortal",[Dq,yR]=Io(R0,{forceMount:void 0}),xR=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=Lo(R0,t);return l.jsx(Dq,{scope:t,forceMount:n,children:l.jsx(on,{present:n||i.open,children:l.jsx(ol,{asChild:!0,container:s,children:r})})})};xR.displayName=R0;var er="MenuContent",[Iq,O0]=Io(er),wR=p.forwardRef((e,t)=>{const n=yR(er,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Lo(er,e.__scopeMenu),o=bu(er,e.__scopeMenu);return l.jsx(zc.Provider,{scope:e.__scopeMenu,children:l.jsx(on,{present:r||i.open,children:l.jsx(zc.Slot,{scope:e.__scopeMenu,children:o.modal?l.jsx(Lq,{...s,ref:t}):l.jsx(Fq,{...s,ref:t})})})})}),Lq=p.forwardRef((e,t)=>{const n=Lo(er,e.__scopeMenu),r=p.useRef(null),s=Ae(t,r);return p.useEffect(()=>{const i=r.current;if(i)return Wh(i)},[]),l.jsx(M0,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Q(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Fq=p.forwardRef((e,t)=>{const n=Lo(er,e.__scopeMenu);return l.jsx(M0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$q=hi("MenuContent.ScrollLock"),M0=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:x,...v}=e,y=Lo(er,n),b=bu(er,n),g=Zh(n),w=gR(n),_=Pq(n),[S,C]=p.useState(null),j=p.useRef(null),E=Ae(t,j,y.onContentChange),k=p.useRef(0),R=p.useRef(""),W=p.useRef(0),D=p.useRef(null),q=p.useRef("right"),$=p.useRef(0),ne=x?uu:p.Fragment,H=x?{as:$q,allowPinchZoom:!0}:void 0,O=P=>{var B,ve;const V=R.current+P,te=_().filter(ye=>!ye.disabled),J=document.activeElement,fe=(B=te.find(ye=>ye.ref.current===J))==null?void 0:B.textValue,ge=te.map(ye=>ye.textValue),Me=Xq(ge,V,fe),z=(ve=te.find(ye=>ye.textValue===Me))==null?void 0:ve.ref.current;(function ye(_e){R.current=_e,window.clearTimeout(k.current),_e!==""&&(k.current=window.setTimeout(()=>ye(""),1e3))})(V),z&&setTimeout(()=>z.focus())};p.useEffect(()=>()=>window.clearTimeout(k.current),[]),zh();const T=p.useCallback(P=>{var te,J;return q.current===((te=D.current)==null?void 0:te.side)&&Jq(P,(J=D.current)==null?void 0:J.area)},[]);return l.jsx(Iq,{scope:n,searchRef:R,onItemEnter:p.useCallback(P=>{T(P)&&P.preventDefault()},[T]),onItemLeave:p.useCallback(P=>{var V;T(P)||((V=j.current)==null||V.focus(),C(null))},[T]),onTriggerLeave:p.useCallback(P=>{T(P)&&P.preventDefault()},[T]),pointerGraceTimerRef:W,onPointerGraceIntentChange:p.useCallback(P=>{D.current=P},[]),children:l.jsx(ne,{...H,children:l.jsx(cu,{asChild:!0,trapped:s,onMountAutoFocus:Q(i,P=>{var V;P.preventDefault(),(V=j.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:l.jsx(jq,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:Q(c,P=>{b.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Ch,{role:"menu","aria-orientation":"vertical","data-state":IR(y.open),"data-radix-menu-content":"",dir:b.dir,...g,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:Q(v.onKeyDown,P=>{const te=P.target.closest("[data-radix-menu-content]")===P.currentTarget,J=P.ctrlKey||P.altKey||P.metaKey,fe=P.key.length===1;te&&(P.key==="Tab"&&P.preventDefault(),!J&&fe&&O(P.key));const ge=j.current;if(P.target!==ge||!Nq.includes(P.key))return;P.preventDefault();const z=_().filter(B=>!B.disabled).map(B=>B.ref.current);mR.includes(P.key)&&z.reverse(),Yq(z)}),onBlur:Q(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(k.current),R.current="")}),onPointerMove:Q(e.onPointerMove,Wc(P=>{const V=P.target,te=$.current!==P.clientX;if(P.currentTarget.contains(V)&&te){const J=P.clientX>$.current?"right":"left";q.current=J,$.current=P.clientX}}))})})})})})})});wR.displayName=er;var Vq="MenuGroup",D0=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(xe.div,{role:"group",...r,ref:t})});D0.displayName=Vq;var Bq="MenuLabel",bR=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(xe.div,{...r,ref:t})});bR.displayName=Bq;var Kf="MenuItem",d1="menu.itemSelect",Jh=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=p.useRef(null),o=bu(Kf,e.__scopeMenu),a=O0(Kf,e.__scopeMenu),c=Ae(t,i),u=p.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(d1,{bubbles:!0,cancelable:!0});f.addEventListener(d1,m=>r==null?void 0:r(m),{once:!0}),zy(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return l.jsx(_R,{...s,ref:c,disabled:n,onClick:Q(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Q(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Q(e.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||$v.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Jh.displayName=Kf;var _R=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,o=O0(Kf,n),a=gR(n),c=p.useRef(null),u=Ae(t,c),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const x=c.current;x&&m((x.textContent??"").trim())},[i.children]),l.jsx(zc.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:l.jsx(Cq,{asChild:!0,...a,focusable:!r,children:l.jsx(xe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:Q(e.onPointerMove,Wc(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Q(e.onPointerLeave,Wc(x=>o.onItemLeave(x))),onFocus:Q(e.onFocus,()=>f(!0)),onBlur:Q(e.onBlur,()=>f(!1))})})})}),Uq="MenuCheckboxItem",SR=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return l.jsx(kR,{scope:e.__scopeMenu,checked:n,children:l.jsx(Jh,{role:"menuitemcheckbox","aria-checked":qf(n)?"mixed":n,...s,ref:t,"data-state":L0(n),onSelect:Q(s.onSelect,()=>r==null?void 0:r(qf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});SR.displayName=Uq;var jR="MenuRadioGroup",[zq,Wq]=Io(jR,{value:void 0,onValueChange:()=>{}}),CR=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=bt(r);return l.jsx(zq,{scope:e.__scopeMenu,value:n,onValueChange:i,children:l.jsx(D0,{...s,ref:t})})});CR.displayName=jR;var ER="MenuRadioItem",NR=p.forwardRef((e,t)=>{const{value:n,...r}=e,s=Wq(ER,e.__scopeMenu),i=n===s.value;return l.jsx(kR,{scope:e.__scopeMenu,checked:i,children:l.jsx(Jh,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":L0(i),onSelect:Q(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});NR.displayName=ER;var I0="MenuItemIndicator",[kR,Hq]=Io(I0,{checked:!1}),TR=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=Hq(I0,n);return l.jsx(on,{present:r||qf(i.checked)||i.checked===!0,children:l.jsx(xe.span,{...s,ref:t,"data-state":L0(i.checked)})})});TR.displayName=I0;var Kq="MenuSeparator",PR=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});PR.displayName=Kq;var qq="MenuArrow",AR=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Zh(n);return l.jsx(Eh,{...s,...r,ref:t})});AR.displayName=qq;var Gq="MenuSub",[YX,RR]=Io(Gq),zl="MenuSubTrigger",OR=p.forwardRef((e,t)=>{const n=Lo(zl,e.__scopeMenu),r=bu(zl,e.__scopeMenu),s=RR(zl,e.__scopeMenu),i=O0(zl,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.jsx(A0,{asChild:!0,...u,children:l.jsx(_R,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":IR(n.open),...e,ref:ph(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Q(e.onPointerMove,Wc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Q(e.onPointerLeave,Wc(f=>{var m,x;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const v=(x=n.content)==null?void 0:x.dataset.side,y=v==="right",b=y?-5:5,g=h[y?"left":"right"],w=h[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:g,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:g,y:h.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Q(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||kq[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});OR.displayName=zl;var MR="MenuSubContent",DR=p.forwardRef((e,t)=>{const n=yR(er,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Lo(er,e.__scopeMenu),o=bu(er,e.__scopeMenu),a=RR(MR,e.__scopeMenu),c=p.useRef(null),u=Ae(t,c);return l.jsx(zc.Provider,{scope:e.__scopeMenu,children:l.jsx(on,{present:r||i.open,children:l.jsx(zc.Slot,{scope:e.__scopeMenu,children:l.jsx(M0,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Q(e.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Q(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Q(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=Tq[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});DR.displayName=MR;function IR(e){return e?"open":"closed"}function qf(e){return e==="indeterminate"}function L0(e){return qf(e)?"indeterminate":e?"checked":"unchecked"}function Yq(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Qq(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Xq(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=Qq(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Zq(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],c=t[o],u=a.x,d=a.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function Jq(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Zq(n,t)}function Wc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var eG=vR,tG=A0,nG=xR,rG=wR,sG=D0,iG=bR,oG=Jh,aG=SR,lG=CR,cG=NR,uG=TR,dG=PR,fG=AR,hG=OR,mG=DR,em="DropdownMenu",[pG,QX]=zn(em,[pR]),pn=pR(),[gG,LR]=pG(em),FR=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,c=pn(t),u=p.useRef(null),[d,f]=mi({prop:s,defaultProp:i??!1,onChange:o,caller:em});return l.jsx(gG,{scope:t,triggerId:Gr(),triggerRef:u,contentId:Gr(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:a,children:l.jsx(eG,{...c,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};FR.displayName=em;var $R="DropdownMenuTrigger",VR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=LR($R,n),o=pn(n);return l.jsx(tG,{asChild:!0,...o,children:l.jsx(xe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ph(t,i.triggerRef),onPointerDown:Q(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Q(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});VR.displayName=$R;var vG="DropdownMenuPortal",BR=e=>{const{__scopeDropdownMenu:t,...n}=e,r=pn(t);return l.jsx(nG,{...r,...n})};BR.displayName=vG;var UR="DropdownMenuContent",zR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=LR(UR,n),i=pn(n),o=p.useRef(!1);return l.jsx(rG,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:Q(e.onCloseAutoFocus,a=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Q(e.onInteractOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zR.displayName=UR;var yG="DropdownMenuGroup",xG=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pn(n);return l.jsx(sG,{...s,...r,ref:t})});xG.displayName=yG;var wG="DropdownMenuLabel",WR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pn(n);return l.jsx(iG,{...s,...r,ref:t})});WR.displayName=wG;var bG="DropdownMenuItem",HR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pn(n);return l.jsx(oG,{...s,...r,ref:t})});HR.displayName=bG;var _G="DropdownMenuCheckboxItem",KR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pn(n);return l.jsx(aG,{...s,...r,ref:t})});KR.displayName=_G;var SG="DropdownMenuRadioGroup",jG=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pn(n);return l.jsx(lG,{...s,...r,ref:t})});jG.displayName=SG;var CG="DropdownMenuRadioItem",qR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pn(n);return l.jsx(cG,{...s,...r,ref:t})});qR.displayName=CG;var EG="DropdownMenuItemIndicator",GR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pn(n);return l.jsx(uG,{...s,...r,ref:t})});GR.displayName=EG;var NG="DropdownMenuSeparator",YR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pn(n);return l.jsx(dG,{...s,...r,ref:t})});YR.displayName=NG;var kG="DropdownMenuArrow",TG=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pn(n);return l.jsx(fG,{...s,...r,ref:t})});TG.displayName=kG;var PG="DropdownMenuSubTrigger",QR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pn(n);return l.jsx(hG,{...s,...r,ref:t})});QR.displayName=PG;var AG="DropdownMenuSubContent",XR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pn(n);return l.jsx(mG,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XR.displayName=AG;var RG=FR,OG=VR,MG=BR,ZR=zR,JR=WR,eO=HR,tO=KR,nO=qR,rO=GR,sO=YR,iO=QR,oO=XR;const DG=RG,IG=OG,LG=p.forwardRef(({className:e,inset:t,children:n,...r},s)=>l.jsxs(iO,{ref:s,className:K("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,l.jsx(_n,{className:"ml-auto h-4 w-4"})]}));LG.displayName=iO.displayName;const FG=p.forwardRef(({className:e,...t},n)=>l.jsx(oO,{ref:n,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));FG.displayName=oO.displayName;const aO=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(MG,{children:l.jsx(ZR,{ref:r,sideOffset:t,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));aO.displayName=ZR.displayName;const Vv=p.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(eO,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));Vv.displayName=eO.displayName;const $G=p.forwardRef(({className:e,children:t,checked:n,...r},s)=>l.jsxs(tO,{ref:s,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(rO,{children:l.jsx(Cc,{className:"h-4 w-4"})})}),t]}));$G.displayName=tO.displayName;const VG=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(nO,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(rO,{children:l.jsx(p4,{className:"h-2 w-2 fill-current"})})}),t]}));VG.displayName=nO.displayName;const BG=p.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(JR,{ref:r,className:K("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));BG.displayName=JR.displayName;const UG=p.forwardRef(({className:e,...t},n)=>l.jsx(sO,{ref:n,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));UG.displayName=sO.displayName;const zG=({open:e,onOpenChange:t,appointment:n,onCheckout:r})=>{const[s,i]=p.useState(!1),[o,a]=p.useState(!1),[c,u]=p.useState([]);p.useState(!1);const[d,f]=p.useState(!1),{services:h}=hl(),[m,x]=p.useState(!1);if(p.useEffect(()=>{n&&n.service_ids&&(u(n.service_ids),f(!1))},[n]),!n)return null;const v=async()=>{i(!0);try{const{error:S}=await he.from("appointments").update({status:"completed"}).eq("id",n.id);if(S)throw S;const{error:C}=await he.from("sales").insert([{appointment_id:n.id,client_id:n.client_id,staff_id:n.staff_id,service_ids:n.service_ids,amount:n.total_price,payment_method:"cash",payment_status:"completed"}]);if(C)throw C;Ce.success("Checkout completed successfully!"),t(!1),r&&r(n)}catch(S){Ce.error(S.message||"Failed to checkout")}finally{i(!1)}},y=S=>{u(C=>{const j=C.includes(S)?C.filter(E=>E!==S):[...C,S];return f(!0),j})},b=async()=>{try{const S=h.filter(k=>c.includes(k.id)),C=S.reduce((k,R)=>k+Number(R.price),0),j=S.reduce((k,R)=>k+R.duration,0),{error:E}=await he.from("appointments").update({service_ids:c,total_price:C,total_duration:j}).eq("id",n.id);if(E)throw E;Ce.success("Services updated successfully!"),a(!1),f(!1),t(!1),r&&r(n)}catch(S){Ce.error(S.message||"Failed to update services")}},g=async()=>{if(confirm("Are you sure you want to cancel this appointment?"))try{const{error:S}=await he.from("appointments").update({status:"cancelled"}).eq("id",n.id);if(S)throw S;Ce.success("Appointment cancelled successfully!"),t(!1),r&&r(n)}catch(S){Ce.error(S.message||"Failed to cancel appointment")}},w=S=>S.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2),_=h.filter(S=>{var C;return o?c.includes(S.id):(C=n.service_ids)==null?void 0:C.includes(S.id)});return l.jsxs(l.Fragment,{children:[l.jsx(Oo,{open:e,onOpenChange:t,children:l.jsxs(Ai,{className:"max-w-2xl p-0",children:[l.jsxs("div",{className:"bg-blue-500 text-white p-6 rounded-t-lg relative",children:[l.jsx("button",{onClick:()=>t(!1),className:"absolute top-4 left-4 text-white hover:bg-white/20 rounded-full p-1 transition-colors",children:l.jsx(ji,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:Pe(wn(n.appointment_date),"EEE d MMM")}),l.jsxs("div",{className:"flex items-center gap-2 text-white/90",children:[l.jsx(kr,{className:"h-4 w-4"}),l.jsx("span",{children:n.start_time}),l.jsx("span",{children:""}),l.jsx("span",{children:"Doesn't repeat"})]})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("span",{className:"px-4 py-1.5 bg-white/20 rounded-full text-sm font-medium border border-white/30",children:n.status.charAt(0).toUpperCase()+n.status.slice(1)})})]})]}),l.jsxs("div",{className:"flex",children:[l.jsxs("div",{className:"w-80 bg-slate-900 text-white p-6 flex flex-col items-center",children:[l.jsx("div",{className:"w-24 h-24 bg-indigo-600 rounded-full flex items-center justify-center text-3xl font-bold mb-4",children:w(n.client_name||"Unknown")}),l.jsx("h3",{className:"text-xl font-semibold mb-1",children:n.client_name}),l.jsx("p",{className:"text-slate-400 text-sm mb-8",children:"Client"}),l.jsxs("div",{className:"w-full space-y-3",children:[l.jsx("button",{className:"w-full py-2.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition-colors border border-white/20",children:"Actions"}),l.jsx("button",{className:"w-full py-2.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition-colors border border-white/20",children:"View profile"})]}),l.jsxs("div",{className:"mt-8 w-full space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),l.jsx("span",{className:"text-slate-400",children:"Add pronouns"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{className:"text-slate-400",children:"Add date of birth"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("span",{className:"text-white",children:["Created ",Pe(wn(n.created_at),"d MMM yyyy")]})]})]})]}),l.jsxs("div",{className:"flex-1 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Services"}),!o&&n.status!=="completed"&&l.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>a(!0),children:[l.jsx(tu,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),l.jsxs("div",{className:"space-y-4",children:[_.map((S,C)=>l.jsxs("div",{className:"flex items-start gap-3 pb-4 border-b border-slate-200",children:[l.jsx("div",{className:"w-1 h-16 bg-blue-500 rounded-full"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-slate-900",children:S.name}),l.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[n.start_time,"  in ",S.duration,"min  ",n.staff_name]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-semibold text-slate-900",children:["",S.price]}),o&&l.jsx("button",{onClick:()=>y(S.id),className:"mt-2 text-red-500 hover:text-red-700",children:l.jsx(yb,{className:"h-4 w-4"})})]})]},S.id)),o&&l.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Available Services:"}),l.jsx("div",{className:"space-y-2",children:h.filter(S=>!c.includes(S.id)&&S.is_active).map(S=>l.jsxs("button",{onClick:()=>y(S.id),className:"w-full flex items-center justify-between p-2 rounded-lg border border-slate-200 hover:bg-slate-50 transition-colors text-left",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-slate-900",children:S.name}),l.jsxs("p",{className:"text-sm text-slate-600",children:[S.duration,"min"]})]}),l.jsxs("p",{className:"font-semibold text-slate-900",children:["",S.price]})]},S.id))})]}),!o&&n.status!=="completed"&&l.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 text-blue-500 hover:text-blue-600 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),l.jsx("span",{className:"font-medium",children:"Add service"})]})]}),l.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("span",{className:"text-lg font-semibold",children:"Total"}),l.jsxs("span",{className:"text-2xl font-bold",children:["",o?_.reduce((S,C)=>S+Number(C.price),0):n.total_price]})]}),o?l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Z,{variant:"outline",onClick:()=>{a(!1),u(n.service_ids||[]),f(!1)},className:"flex-1",children:"Cancel"}),l.jsx(Z,{onClick:b,disabled:!d||c.length===0,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white font-semibold",children:"Save"})]}):l.jsxs("div",{className:"flex items-center gap-3",children:[n.status!=="completed"&&l.jsxs(DG,{children:[l.jsx(IG,{asChild:!0,children:l.jsx("button",{className:"p-3 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:l.jsx(v4,{className:"w-5 h-5"})})}),l.jsxs(aO,{align:"start",children:[l.jsxs(Vv,{onClick:()=>x(!0),children:[l.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Reschedule"]}),l.jsxs(Vv,{onClick:g,className:"text-red-600",children:[l.jsx(yb,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})]})]}),l.jsx(Z,{onClick:v,disabled:s||n.status==="completed"||n.status==="cancelled",className:"flex-1 bg-white hover:bg-slate-50 text-slate-900 border-2 border-slate-900 font-semibold py-6 text-lg rounded-full",children:s?"Processing...":n.status==="completed"?"Already Checked Out":n.status==="cancelled"?"Cancelled Appointment":"Checkout"})]})]})]})]})]})}),n&&l.jsx(aR,{open:m,onOpenChange:x,preselectedDate:wn(n.appointment_date),editingAppointment:n})]})};function lO(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var WG=[" ","Enter","ArrowUp","ArrowDown"],HG=[" ","Enter"],Eo="Select",[tm,nm,KG]=gh(Eo),[vl,XX]=zn(Eo,[KG,Ci]),rm=Ci(),[qG,Oi]=vl(Eo),[GG,YG]=vl(Eo),cO=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:x}=e,v=rm(t),[y,b]=p.useState(null),[g,w]=p.useState(null),[_,S]=p.useState(!1),C=Vh(u),[j,E]=mi({prop:r,defaultProp:s??!1,onChange:i,caller:Eo}),[k,R]=mi({prop:o,defaultProp:a,onChange:c,caller:Eo}),W=p.useRef(null),D=y?x||!!y.closest("form"):!0,[q,$]=p.useState(new Set),ne=Array.from(q).map(H=>H.props.value).join(";");return l.jsx(ix,{...v,children:l.jsxs(qG,{required:m,scope:t,trigger:y,onTriggerChange:b,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Gr(),value:k,onValueChange:R,open:j,onOpenChange:E,dir:C,triggerPointerDownPosRef:W,disabled:h,children:[l.jsx(tm.Provider,{scope:t,children:l.jsx(GG,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(H=>{$(O=>new Set(O).add(H))},[]),onNativeOptionRemove:p.useCallback(H=>{$(O=>{const T=new Set(O);return T.delete(H),T})},[]),children:n})}),D?l.jsxs(OO,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:H=>R(H.target.value),disabled:h,form:x,children:[k===void 0?l.jsx("option",{value:""}):null,Array.from(q)]},ne):null]})})};cO.displayName=Eo;var uO="SelectTrigger",dO=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=rm(n),o=Oi(uO,n),a=o.disabled||r,c=Ae(t,o.onTriggerChange),u=nm(n),d=p.useRef("touch"),[f,h,m]=DO(v=>{const y=u().filter(w=>!w.disabled),b=y.find(w=>w.value===o.value),g=IO(y,v,b);g!==void 0&&o.onValueChange(g.value)}),x=v=>{a||(o.onOpenChange(!0),m()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(ru,{asChild:!0,...i,children:l.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":MO(o.value)?"":void 0,...s,ref:c,onClick:Q(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&x(v)}),onPointerDown:Q(s.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:Q(s.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(y&&v.key===" ")&&WG.includes(v.key)&&(x(),v.preventDefault())})})})});dO.displayName=uO;var fO="SelectValue",hO=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=e,c=Oi(fO,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ae(t,c.onValueNodeChange);return Ut(()=>{u(d)},[u,d]),l.jsx(xe.span,{...a,ref:f,style:{pointerEvents:"none"},children:MO(c.value)?l.jsx(l.Fragment,{children:o}):i})});hO.displayName=fO;var QG="SelectIcon",mO=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(xe.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});mO.displayName=QG;var XG="SelectPortal",pO=e=>l.jsx(ol,{asChild:!0,...e});pO.displayName=XG;var No="SelectContent",gO=p.forwardRef((e,t)=>{const n=Oi(No,e.__scopeSelect),[r,s]=p.useState();if(Ut(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Po.createPortal(l.jsx(vO,{scope:e.__scopeSelect,children:l.jsx(tm.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(yO,{...e,ref:t})});gO.displayName=No;var mr=10,[vO,Mi]=vl(No),ZG="SelectContentImpl",JG=hi("SelectContent.RemoveScroll"),yO=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:v,avoidCollisions:y,...b}=e,g=Oi(No,n),[w,_]=p.useState(null),[S,C]=p.useState(null),j=Ae(t,B=>_(B)),[E,k]=p.useState(null),[R,W]=p.useState(null),D=nm(n),[q,$]=p.useState(!1),ne=p.useRef(!1);p.useEffect(()=>{if(w)return Wh(w)},[w]),zh();const H=p.useCallback(B=>{const[ve,...ye]=D().map(M=>M.ref.current),[_e]=ye.slice(-1),we=document.activeElement;for(const M of B)if(M===we||(M==null||M.scrollIntoView({block:"nearest"}),M===ve&&S&&(S.scrollTop=0),M===_e&&S&&(S.scrollTop=S.scrollHeight),M==null||M.focus(),document.activeElement!==we))return},[D,S]),O=p.useCallback(()=>H([E,w]),[H,E,w]);p.useEffect(()=>{q&&O()},[q,O]);const{onOpenChange:T,triggerPointerDownPosRef:P}=g;p.useEffect(()=>{if(w){let B={x:0,y:0};const ve=_e=>{var we,M;B={x:Math.abs(Math.round(_e.pageX)-(((we=P.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((M=P.current)==null?void 0:M.y)??0))}},ye=_e=>{B.x<=10&&B.y<=10?_e.preventDefault():w.contains(_e.target)||T(!1),document.removeEventListener("pointermove",ve),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",ye,{capture:!0})}}},[w,T,P]),p.useEffect(()=>{const B=()=>T(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[T]);const[V,te]=DO(B=>{const ve=D().filter(we=>!we.disabled),ye=ve.find(we=>we.ref.current===document.activeElement),_e=IO(ve,B,ye);_e&&setTimeout(()=>_e.ref.current.focus())}),J=p.useCallback((B,ve,ye)=>{const _e=!ne.current&&!ye;(g.value!==void 0&&g.value===ve||_e)&&(k(B),_e&&(ne.current=!0))},[g.value]),fe=p.useCallback(()=>w==null?void 0:w.focus(),[w]),ge=p.useCallback((B,ve,ye)=>{const _e=!ne.current&&!ye;(g.value!==void 0&&g.value===ve||_e)&&W(B)},[g.value]),Me=r==="popper"?Bv:xO,z=Me===Bv?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:v,avoidCollisions:y}:{};return l.jsx(vO,{scope:n,content:w,viewport:S,onViewportChange:C,itemRefCallback:J,selectedItem:E,onItemLeave:fe,itemTextRefCallback:ge,focusSelectedItem:O,selectedItemText:R,position:r,isPositioned:q,searchRef:V,children:l.jsx(uu,{as:JG,allowPinchZoom:!0,children:l.jsx(cu,{asChild:!0,trapped:g.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:Q(s,B=>{var ve;(ve=g.trigger)==null||ve.focus({preventScroll:!0}),B.preventDefault()}),children:l.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:l.jsx(Me,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:B=>B.preventDefault(),...b,...z,onPlaced:()=>$(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Q(b.onKeyDown,B=>{const ve=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!ve&&B.key.length===1&&te(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let _e=D().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(B.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const we=B.target,M=_e.indexOf(we);_e=_e.slice(M+1)}setTimeout(()=>H(_e)),B.preventDefault()}})})})})})})});yO.displayName=ZG;var eY="SelectItemAlignedPosition",xO=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Oi(No,n),o=Mi(No,n),[a,c]=p.useState(null),[u,d]=p.useState(null),f=Ae(t,j=>d(j)),h=nm(n),m=p.useRef(!1),x=p.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:b,focusSelectedItem:g}=o,w=p.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&v&&y&&b){const j=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),R=b.getBoundingClientRect();if(i.dir!=="rtl"){const we=R.left-E.left,M=k.left-we,ce=j.left-M,De=j.width+ce,L=Math.max(De,E.width),ue=window.innerWidth-mr,$e=mv(M,[mr,Math.max(mr,ue-L)]);a.style.minWidth=De+"px",a.style.left=$e+"px"}else{const we=E.right-R.right,M=window.innerWidth-k.right-we,ce=window.innerWidth-j.right-M,De=j.width+ce,L=Math.max(De,E.width),ue=window.innerWidth-mr,$e=mv(M,[mr,Math.max(mr,ue-L)]);a.style.minWidth=De+"px",a.style.right=$e+"px"}const W=h(),D=window.innerHeight-mr*2,q=v.scrollHeight,$=window.getComputedStyle(u),ne=parseInt($.borderTopWidth,10),H=parseInt($.paddingTop,10),O=parseInt($.borderBottomWidth,10),T=parseInt($.paddingBottom,10),P=ne+H+q+T+O,V=Math.min(y.offsetHeight*5,P),te=window.getComputedStyle(v),J=parseInt(te.paddingTop,10),fe=parseInt(te.paddingBottom,10),ge=j.top+j.height/2-mr,Me=D-ge,z=y.offsetHeight/2,B=y.offsetTop+z,ve=ne+H+B,ye=P-ve;if(ve<=ge){const we=W.length>0&&y===W[W.length-1].ref.current;a.style.bottom="0px";const M=u.clientHeight-v.offsetTop-v.offsetHeight,ce=Math.max(Me,z+(we?fe:0)+M+O),De=ve+ce;a.style.height=De+"px"}else{const we=W.length>0&&y===W[0].ref.current;a.style.top="0px";const ce=Math.max(ge,ne+v.offsetTop+(we?J:0)+z)+ye;a.style.height=ce+"px",v.scrollTop=ve-ge+v.offsetTop}a.style.margin=`${mr}px 0`,a.style.minHeight=V+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,a,u,v,y,b,i.dir,r]);Ut(()=>w(),[w]);const[_,S]=p.useState();Ut(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=p.useCallback(j=>{j&&x.current===!0&&(w(),g==null||g(),x.current=!1)},[w,g]);return l.jsx(nY,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(xe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xO.displayName=eY;var tY="SelectPopperPosition",Bv=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=mr,...i}=e,o=rm(n);return l.jsx(Ch,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bv.displayName=tY;var[nY,F0]=vl(No,{}),Uv="SelectViewport",wO=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Mi(Uv,n),o=F0(Uv,n),a=Ae(t,i.onViewportChange),c=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(tm.Slot,{scope:n,children:l.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Q(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const x=window.innerHeight-mr*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),b=Math.max(v,y);if(b<x){const g=b+m,w=Math.min(x,g),_=g-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});wO.displayName=Uv;var bO="SelectGroup",[rY,sY]=vl(bO),iY=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Gr();return l.jsx(rY,{scope:n,id:s,children:l.jsx(xe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});iY.displayName=bO;var _O="SelectLabel",SO=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=sY(_O,n);return l.jsx(xe.div,{id:s.id,...r,ref:t})});SO.displayName=_O;var Gf="SelectItem",[oY,jO]=vl(Gf),CO=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,a=Oi(Gf,n),c=Mi(Gf,n),u=a.value===r,[d,f]=p.useState(i??""),[h,m]=p.useState(!1),x=Ae(t,g=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,g,r,s)}),v=Gr(),y=p.useRef("touch"),b=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(oY,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:p.useCallback(g=>{f(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:l.jsx(tm.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(xe.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:Q(o.onFocus,()=>m(!0)),onBlur:Q(o.onBlur,()=>m(!1)),onClick:Q(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:Q(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:Q(o.onPointerDown,g=>{y.current=g.pointerType}),onPointerMove:Q(o.onPointerMove,g=>{var w;y.current=g.pointerType,s?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(o.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Q(o.onKeyDown,g=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&g.key===" "||(HG.includes(g.key)&&b(),g.key===" "&&g.preventDefault())})})})})});CO.displayName=Gf;var Wl="SelectItemText",EO=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=Oi(Wl,n),a=Mi(Wl,n),c=jO(Wl,n),u=YG(Wl,n),[d,f]=p.useState(null),h=Ae(t,b=>f(b),c.onItemTextChange,b=>{var g;return(g=a.itemTextRefCallback)==null?void 0:g.call(a,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,x=p.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return Ut(()=>(v(x),()=>y(x)),[v,y,x]),l.jsxs(l.Fragment,{children:[l.jsx(xe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Po.createPortal(i.children,o.valueNode):null]})});EO.displayName=Wl;var NO="SelectItemIndicator",kO=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return jO(NO,n).isSelected?l.jsx(xe.span,{"aria-hidden":!0,...r,ref:t}):null});kO.displayName=NO;var zv="SelectScrollUpButton",TO=p.forwardRef((e,t)=>{const n=Mi(zv,e.__scopeSelect),r=F0(zv,e.__scopeSelect),[s,i]=p.useState(!1),o=Ae(t,r.onScrollButtonChange);return Ut(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(AO,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});TO.displayName=zv;var Wv="SelectScrollDownButton",PO=p.forwardRef((e,t)=>{const n=Mi(Wv,e.__scopeSelect),r=F0(Wv,e.__scopeSelect),[s,i]=p.useState(!1),o=Ae(t,r.onScrollButtonChange);return Ut(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(AO,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});PO.displayName=Wv;var AO=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Mi("SelectScrollButton",n),o=p.useRef(null),a=nm(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Ut(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(xe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Q(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Q(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Q(s.onPointerLeave,()=>{c()})})}),aY="SelectSeparator",RO=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(xe.div,{"aria-hidden":!0,...r,ref:t})});RO.displayName=aY;var Hv="SelectArrow",lY=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=rm(n),i=Oi(Hv,n),o=Mi(Hv,n);return i.open&&o.position==="popper"?l.jsx(Eh,{...s,...r,ref:t}):null});lY.displayName=Hv;var cY="SelectBubbleInput",OO=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=p.useRef(null),i=Ae(r,s),o=lO(t);return p.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[o,t]),l.jsx(xe.select,{...n,style:{...eE,...n.style},ref:i,defaultValue:t})});OO.displayName=cY;function MO(e){return e===""||e===void 0}function DO(e){const t=bt(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const a=n.current+o;t(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function IO(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=uY(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function uY(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var dY=cO,LO=dO,fY=hO,hY=mO,mY=pO,FO=gO,pY=wO,$O=SO,VO=CO,gY=EO,vY=kO,BO=TO,UO=PO,zO=RO;const yY=dY,xY=fY,WO=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(LO,{ref:r,className:K("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(hY,{asChild:!0,children:l.jsx(SE,{className:"h-4 w-4 opacity-50"})})]}));WO.displayName=LO.displayName;const HO=p.forwardRef(({className:e,...t},n)=>l.jsx(BO,{ref:n,className:K("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(h4,{className:"h-4 w-4"})}));HO.displayName=BO.displayName;const KO=p.forwardRef(({className:e,...t},n)=>l.jsx(UO,{ref:n,className:K("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(SE,{className:"h-4 w-4"})}));KO.displayName=UO.displayName;const qO=p.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(mY,{children:l.jsxs(FO,{ref:s,className:K("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(HO,{}),l.jsx(pY,{className:K("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(KO,{})]})}));qO.displayName=FO.displayName;const wY=p.forwardRef(({className:e,...t},n)=>l.jsx($O,{ref:n,className:K("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));wY.displayName=$O.displayName;const Vd=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(VO,{ref:r,className:K("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(vY,{children:l.jsx(Cc,{className:"h-4 w-4"})})}),l.jsx(gY,{children:t})]}));Vd.displayName=VO.displayName;const bY=p.forwardRef(({className:e,...t},n)=>l.jsx(zO,{ref:n,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));bY.displayName=zO.displayName;const _Y=()=>{const[e,t]=p.useState("week"),[n,r]=p.useState(new Date),[s,i]=p.useState(""),[o,a]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(null),[h,m]=p.useState(!1),[x,v]=p.useState(!1),y=oR(),{role:b}=rr(),{appointments:g,loading:w,refetch:_}=$h(),{appointments:S,loading:C,refetch:j}=P0(),E=b==="client"?S:g,k=b==="client"?C:w,R=b==="client"?j:_;console.log("[v0] Appointments loaded:",E==null?void 0:E.length,"Loading:",k,"Role:",b);const W=Tn(n,{weekStartsOn:1}),D=Array.from({length:7},(z,B)=>Ge(W,B)),q=z=>!E||!Array.isArray(E)?(console.log("[v0] No appointments array available"),[]):E.filter(B=>{const ve=wn(B.appointment_date);return Lt(ve,z)&&B.status==="confirmed"}),$=z=>y?Pe(z,"MMM d, yyyy"):z.toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),ne=(E||[]).filter(z=>{var B,ve;return((B=z.client_name)==null?void 0:B.toLowerCase().includes(s.toLowerCase()))||((ve=z.service_names)==null?void 0:ve.some(ye=>ye.toLowerCase().includes(s.toLowerCase())))}),H=rn(n),O=lu(n),T=nU({start:H,end:O}),P=ZU(H),V=P===0?6:P-1,te=[...Array.from({length:V},(z,B)=>Ge(H,-(V-B))),...T],J=z=>{u(z),a(!0)},fe=z=>{f(z),m(!0)},ge=()=>{R()};if(k)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const Me=()=>{console.log("[v0] Refreshing appointments after booking"),R()};return l.jsxs("div",{className:"space-y-4 md:space-y-6 animate-fade-in px-2 md:px-0",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3 md:gap-4",children:[l.jsx("div",{className:"flex items-center gap-2 md:gap-4 w-full md:w-auto",children:l.jsxs(Z,{variant:"default",size:"sm",onClick:()=>J(new Date),className:K("flex items-center gap-2",y&&"flex-1"),children:[l.jsx(Gn,{className:"h-3 w-3 md:h-4 md:w-4"}),!y&&"New Booking"]})}),l.jsxs("div",{className:"flex items-center justify-between md:justify-normal gap-2 md:gap-3 mt-2 md:mt-0",children:[l.jsx("h3",{className:K("font-bold text-slate-800 flex items-center gap-2",y?"text-base":"text-xl"),children:$(n)}),y?l.jsxs(yY,{value:e,onValueChange:z=>t(z),children:[l.jsx(WO,{className:"w-[120px]",children:l.jsx(xY,{placeholder:"View"})}),l.jsxs(qO,{children:[l.jsx(Vd,{value:"day",children:"Day"}),l.jsx(Vd,{value:"week",children:"Week"}),l.jsx(Vd,{value:"month",children:"Month"})]})]}):l.jsx("div",{className:"flex rounded-lg border border-border overflow-hidden",children:["day","week","month"].map(z=>l.jsx("button",{onClick:()=>t(z),className:K("px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm font-medium transition-colors capitalize",e===z?"bg-primary text-primary-foreground":"bg-card text-muted-foreground hover:bg-muted"),children:z},z))})]})]}),y&&l.jsxs("div",{className:"flex items-center justify-between bg-card p-2 rounded-lg",children:[l.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{r(e==="day"?Ge(n,-1):e==="week"?Ge(n,-7):Ge(n,-30))},children:l.jsx(Ji,{className:"h-4 w-4"})}),l.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>r(new Date),children:"Today"}),l.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{r(e==="day"?Ge(n,1):e==="week"?Ge(n,7):Ge(n,30))},children:l.jsx(_n,{className:"h-4 w-4"})})]}),e==="week"&&l.jsxs("div",{className:"glass-card rounded-lg md:rounded-2xl overflow-hidden",children:[l.jsx("div",{className:K("grid border-b border-border",y?"grid-cols-7 text-xs":"grid-cols-7"),children:D.map((z,B)=>l.jsxs("div",{className:K("p-2 md:p-4 text-center border-r border-border last:border-r-0",Lt(z,new Date)&&"bg-primary/5"),children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:Pe(z,"EEE")}),l.jsx("p",{className:K("text-sm md:text-lg font-semibold",Lt(z,new Date)?"text-primary":"text-foreground"),children:Pe(z,"d")})]},B))}),l.jsx("div",{className:"grid grid-cols-7",children:D.map((z,B)=>{const ve=q(z);return l.jsxs("div",{className:K("p-1 md:p-2 border-r border-border last:border-r-0 min-h-[150px] md:min-h-[300px] cursor-pointer hover:bg-muted/50 transition-colors relative",Lt(z,new Date)&&"bg-primary/5"),onClick:()=>J(z),children:[ve.length===0&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity bg-primary/5",children:l.jsxs(Z,{variant:"ghost",size:y?"icon":"sm",className:K("flex items-center gap-1 md:gap-2",y&&"h-6 w-6"),onClick:ye=>{ye.stopPropagation(),J(z)},children:[l.jsx(Gn,{className:"h-3 w-3 md:h-4 md:w-4"}),!y&&"Add"]})}),l.jsx("div",{className:"space-y-1 md:space-y-2",children:ve.map(ye=>{var _e,we,M;return l.jsxs("div",{className:"rounded p-1 md:p-2 text-xs border-l-2 md:border-l-4 border-green-500 bg-card shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:ce=>{ce.stopPropagation(),fe(ye)},children:[l.jsxs("div",{className:"flex items-center justify-between mb-0.5 md:mb-1",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[ye.staff_avatar_url&&!y&&l.jsx("img",{src:ye.staff_avatar_url||"/placeholder.svg",alt:ye.staff_name,className:"w-3 h-3 md:w-4 md:h-4 rounded-full object-cover"}),l.jsx("p",{className:"font-medium text-foreground truncate text-[10px] md:text-xs",children:y?(_e=ye.client_name)==null?void 0:_e.split(" ")[0]:ye.client_name})]}),!y&&l.jsx(Ku,{className:"h-2 w-2 md:h-3 md:w-3 text-green-500"})]}),l.jsx("p",{className:"text-muted-foreground truncate text-[10px] md:text-xs",children:y?(we=ye.service_names)==null?void 0:we[0]:(M=ye.service_names)==null?void 0:M.join(", ")}),l.jsx("p",{className:"text-muted-foreground text-[10px]",children:ye.start_time})]},ye.id)})})]},B)})})]}),e==="day"&&l.jsxs("div",{className:"glass-card rounded-lg md:rounded-2xl p-3 md:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[l.jsx("h2",{className:K("font-serif font-semibold text-foreground",y?"text-base":"text-xl"),children:Pe(n,y?"MMM d, yyyy":"EEEE, MMMM d, yyyy")}),!y&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Z,{variant:"outline",size:"sm",onClick:()=>r(Ge(n,-1)),children:"Previous"}),l.jsx(Z,{variant:"outline",size:"sm",onClick:()=>r(new Date),children:"Today"}),l.jsx(Z,{variant:"outline",size:"sm",onClick:()=>r(Ge(n,1)),children:"Next"})]})]}),l.jsx("div",{className:"space-y-3 md:space-y-4",children:q(n).length===0?l.jsxs("div",{className:"text-center py-8 md:py-12 border-2 border-dashed border-border rounded-lg md:rounded-xl cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>J(n),children:[l.jsx(Rt,{className:"h-8 w-8 md:h-12 md:w-12 text-muted-foreground mx-auto mb-2 md:mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-2 md:mb-4 text-sm md:text-base",children:"No appointments for this day"}),l.jsxs(Z,{variant:"outline",size:"sm",className:"flex items-center gap-1 md:gap-2 mx-auto bg-transparent",children:[l.jsx(Gn,{className:"h-3 w-3 md:h-4 md:w-4"}),"Add Booking"]})]}):l.jsxs(l.Fragment,{children:[q(n).map(z=>{var B;return l.jsxs("div",{className:"flex items-center gap-2 md:gap-4 p-3 md:p-4 rounded-lg md:rounded-xl bg-muted/50 hover:bg-muted transition-colors cursor-pointer",onClick:()=>fe(z),children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[z.staff_avatar_url&&!y&&l.jsx("img",{src:z.staff_avatar_url||"/placeholder.svg",alt:z.staff_name,className:"w-8 h-8 md:w-10 md:h-10 rounded-full object-cover"}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[l.jsx("p",{className:"font-medium text-foreground text-sm md:text-base truncate",children:z.client_name}),l.jsx(Ku,{className:"h-3 w-3 md:h-4 md:w-4 text-green-500 flex-shrink-0"})]}),l.jsxs("p",{className:"text-muted-foreground text-xs md:text-sm truncate",children:[(B=z.service_names)==null?void 0:B.join(", "),"  ",z.staff_name]}),l.jsxs("p",{className:"text-muted-foreground text-xs mt-0.5 md:mt-1",children:[z.start_time," - ",z.end_time]})]})]}),l.jsx("div",{className:"text-right flex-shrink-0",children:l.jsxs("p",{className:"text-sm font-medium text-foreground",children:["",z.total_price]})})]},z.id)}),l.jsx("div",{className:"pt-3 md:pt-4 border-t border-border",children:l.jsxs(Z,{variant:"outline",size:y?"sm":"default",className:"w-full flex items-center justify-center gap-1 md:gap-2 bg-transparent",onClick:()=>J(n),children:[l.jsx(Gn,{className:"h-3 w-3 md:h-4 md:w-4"}),"Add Another Booking"]})})]})})]}),e==="month"&&l.jsxs("div",{className:"glass-card rounded-lg md:rounded-2xl p-3 md:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[l.jsx("h2",{className:K("font-serif font-semibold text-foreground",y?"text-base":"text-xl"),children:Pe(n,"MMMM yyyy")}),!y&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Z,{variant:"outline",size:"sm",onClick:()=>r(Ge(n,-30)),children:"Previous"}),l.jsx(Z,{variant:"outline",size:"sm",onClick:()=>r(new Date),children:"Today"}),l.jsx(Z,{variant:"outline",size:"sm",onClick:()=>r(Ge(n,30)),children:"Next"})]})]}),l.jsxs("div",{className:"grid grid-cols-7 gap-1 md:gap-2",children:[["M","T","W","T","F","S","S"].map((z,B)=>l.jsx("div",{className:"text-center text-xs md:text-sm font-medium text-muted-foreground p-1 md:p-2",children:y?z:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][B]},B)),te.map((z,B)=>{const ve=q(z),ye=z>=H&&z<=O,_e=Lt(z,new Date);return l.jsxs("button",{onClick:()=>J(z),className:K("min-h-[60px] md:min-h-[100px] p-1 md:p-2 rounded border border-border text-left transition-all hover:shadow-sm md:hover:shadow-md hover:border-primary/50 relative",!ye&&"opacity-40",_e&&"bg-primary/10 border-primary","cursor-pointer"),children:[l.jsx("p",{className:K("text-xs md:text-sm font-medium mb-0.5 md:mb-1",_e?"text-primary":"text-foreground"),children:Pe(z,"d")}),l.jsxs("div",{className:"space-y-0.5 md:space-y-1",children:[ve.slice(0,y?1:2).map(we=>{var M;return l.jsx("div",{className:"text-[10px] md:text-xs p-0.5 md:p-1 rounded bg-green-500/20 border-l border-l-green-500 truncate hover:bg-green-500/30",onClick:ce=>{ce.stopPropagation(),fe(we)},children:l.jsxs("div",{className:"flex items-center gap-0.5 md:gap-1",children:[l.jsx(Ku,{className:"h-1.5 w-1.5 md:h-2 md:w-2 text-green-600 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:y?we.start_time:`${we.start_time} ${(M=we.client_name)==null?void 0:M.split(" ")[0]}`})]})},we.id)}),ve.length>(y?1:2)&&l.jsxs("p",{className:"text-[10px] md:text-xs text-muted-foreground",children:["+",ve.length-(y?1:2)," more"]}),ve.length===0&&l.jsx("div",{className:"opacity-0 hover:opacity-100 transition-opacity absolute inset-0 flex items-center justify-center bg-black/5 rounded",children:l.jsx(Gn,{className:"h-3 w-3 md:h-4 md:w-4 text-primary"})})]})]},B)})]})]}),l.jsxs("div",{className:"glass-card rounded-lg md:rounded-2xl p-3 md:p-6",children:[l.jsx("h2",{className:K("font-serif font-semibold text-foreground mb-4 md:mb-6",y?"text-lg":"text-xl"),children:"All Appointments"}),y&&l.jsx(Z,{variant:"outline",size:"icon",onClick:()=>v(!x),className:"md:hidden",children:l.jsx(CE,{className:"h-4 w-4"})}),l.jsxs("div",{className:"relative flex-1 md:flex-none",children:[l.jsx(wh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx("input",{type:"text",placeholder:"Search appointments...",value:s,onChange:z=>i(z.target.value),className:K("pl-10 pr-4 py-2 rounded-lg border border-border bg-card text-foreground focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all",y?"w-full text-sm":"w-64")})]}),(!y||x)&&l.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:l.jsxs(Z,{variant:"outline",size:"sm",className:K(y&&"flex-1"),children:[l.jsx(w4,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Filter"]})}),ne.length===0?l.jsxs("div",{className:"text-center py-8 md:py-12",children:[l.jsx(Rt,{className:"h-8 w-8 md:h-12 md:w-12 text-muted-foreground mx-auto mb-2 md:mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No appointments found"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-border",children:[l.jsx("th",{className:"text-left p-2 md:p-4 text-xs md:text-sm font-medium text-muted-foreground",children:"Client"}),l.jsx("th",{className:"text-left p-2 md:p-4 text-xs md:text-sm font-medium text-muted-foreground hidden md:table-cell",children:"Service"}),l.jsx("th",{className:"text-left p-2 md:p-4 text-xs md:text-sm font-medium text-muted-foreground hidden sm:table-cell",children:"Staff"}),l.jsx("th",{className:"text-left p-2 md:p-4 text-xs md:text-sm font-medium text-muted-foreground",children:"Date"}),l.jsx("th",{className:"text-left p-2 md:p-4 text-xs md:text-sm font-medium text-muted-foreground",children:"Status"}),l.jsx("th",{className:"text-right p-2 md:p-4 text-xs md:text-sm font-medium text-muted-foreground",children:"Price"}),l.jsx("th",{className:"text-center p-2 md:p-4 text-xs md:text-sm font-medium text-muted-foreground",children:"Actions"})]})}),l.jsx("tbody",{children:ne.map(z=>{var B,ve;return l.jsxs("tr",{className:"border-b border-border last:border-b-0 hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>fe(z),children:[l.jsx("td",{className:"p-2 md:p-4 font-medium text-foreground text-sm",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:z.client_name}),l.jsx("span",{className:"text-xs text-muted-foreground md:hidden",children:(B=z.service_names)==null?void 0:B.join(", ")})]})}),l.jsx("td",{className:"p-2 md:p-4 text-muted-foreground hidden md:table-cell",children:(ve=z.service_names)==null?void 0:ve.join(", ")}),l.jsx("td",{className:"p-2 md:p-4 hidden sm:table-cell",children:l.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[z.staff_avatar_url&&l.jsx("img",{src:z.staff_avatar_url||"/placeholder.svg",alt:z.staff_name,className:"w-4 h-4 md:w-6 md:h-6 rounded-full object-cover"}),l.jsx("span",{className:"text-muted-foreground text-xs md:text-sm",children:z.staff_name})]})}),l.jsxs("td",{className:"p-2 md:p-4 text-muted-foreground text-xs md:text-sm",children:[Pe(wn(z.appointment_date),y?"MMM d":"MMM d, yyyy"),y&&l.jsx("div",{className:"text-xs",children:z.start_time})]}),l.jsx("td",{className:"p-2 md:p-4",children:l.jsx("div",{className:"flex items-center gap-1",children:l.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 md:px-2.5 md:py-0.5 rounded-full text-xs font-medium ${z.status==="confirmed"?"bg-green-100 text-green-800":z.status==="pending"?"bg-yellow-100 text-yellow-800":z.status==="completed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[z.status==="confirmed"&&l.jsx(Ku,{className:"h-2 w-2 md:h-3 md:w-3 mr-1"}),l.jsx("span",{className:"truncate",children:y?z.status.charAt(0).toUpperCase():z.status})]})})}),l.jsxs("td",{className:"p-2 md:p-4 text-right font-medium text-foreground text-sm md:text-base",children:["",z.total_price]}),l.jsx("td",{className:"p-2 md:p-4 text-center",children:l.jsx(Z,{variant:"outline",size:"sm",onClick:ye=>{ye.stopPropagation(),fe(z)},children:"View"})})]},z.id)})})]})})]}),l.jsx(aR,{open:o,onOpenChange:a,preselectedDate:c,onBookingComplete:Me}),l.jsx(zG,{open:h,onOpenChange:m,appointment:d,onCheckout:ge}),y&&l.jsx(Z,{className:"fixed bottom-6 right-6 h-12 w-12 rounded-full shadow-lg z-50",onClick:()=>J(new Date),children:l.jsx(Gn,{className:"h-6 w-6"})})]})};var _u=e=>e.type==="checkbox",ro=e=>e instanceof Date,cn=e=>e==null;const GO=e=>typeof e=="object";var St=e=>!cn(e)&&!Array.isArray(e)&&GO(e)&&!ro(e),YO=e=>St(e)&&e.target?_u(e.target)?e.target.checked:e.target.value:e,SY=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,QO=(e,t)=>e.has(SY(t)),jY=e=>{const t=e.constructor&&e.constructor.prototype;return St(t)&&t.hasOwnProperty("isPrototypeOf")},$0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ot(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!($0&&(e instanceof Blob||r))&&(n||St(e)))if(t=n?[]:{},!n&&!jY(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Ot(e[s]));else return e;return t}var sm=e=>/^\w*$/.test(e),xt=e=>e===void 0,V0=e=>Array.isArray(e)?e.filter(Boolean):[],B0=e=>V0(e.replace(/["|']|\]/g,"").split(/\.|\[/)),se=(e,t,n)=>{if(!t||!St(e))return n;const r=(sm(t)?[t]:B0(t)).reduce((s,i)=>cn(s)?s:s[i],e);return xt(r)||r===e?xt(e[t])?n:e[t]:r},Rn=e=>typeof e=="boolean",Ke=(e,t,n)=>{let r=-1;const s=sm(t)?[t]:B0(t),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let c=n;if(r!==o){const u=e[a];c=St(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=c,e=e[a]}};const Yf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Sr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},os={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},U0=F.createContext(null);U0.displayName="HookFormContext";const im=()=>F.useContext(U0),CY=e=>{const{children:t,...n}=e;return F.createElement(U0.Provider,{value:n},t)};var XO=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Sr.all&&(t._proxyFormState[o]=!r||Sr.all),n&&(n[o]=!0),e[o]}});return s};const z0=typeof window<"u"?F.useLayoutEffect:F.useEffect;function EY(e){const t=im(),{control:n=t.control,disabled:r,name:s,exact:i}=e||{},[o,a]=F.useState(n._formState),c=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return z0(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&a({...n._formState,...u})}}),[s,r,i]),F.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),F.useMemo(()=>XO(o,n,c.current,!1),[o,n])}var Hr=e=>typeof e=="string",ZO=(e,t,n,r,s)=>Hr(e)?(r&&t.watch.add(e),se(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),se(n,i))):(r&&(t.watchAll=!0),n),Kv=e=>cn(e)||!GO(e);function ds(e,t,n=new WeakSet){if(Kv(e)||Kv(t))return e===t;if(ro(e)&&ro(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of r){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=t[i];if(ro(o)&&ro(a)||St(o)&&St(a)||Array.isArray(o)&&Array.isArray(a)?!ds(o,a,n):o!==a)return!1}}return!0}function NY(e){const t=im(),{control:n=t.control,name:r,defaultValue:s,disabled:i,exact:o,compute:a}=e||{},c=F.useRef(s),u=F.useRef(a),d=F.useRef(void 0);u.current=a;const f=F.useMemo(()=>n._getWatch(r,c.current),[n,r]),[h,m]=F.useState(u.current?u.current(f):f);return z0(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:x=>{if(!i){const v=ZO(r,n._names,x.values||n._formValues,!1,c.current);if(u.current){const y=u.current(v);ds(y,d.current)||(m(y),d.current=y)}else m(v)}}}),[n,i,r,o]),F.useEffect(()=>n._removeUnmounted()),h}function kY(e){const t=im(),{name:n,disabled:r,control:s=t.control,shouldUnregister:i,defaultValue:o}=e,a=QO(s._names.array,n),c=F.useMemo(()=>se(s._formValues,n,se(s._defaultValues,n,o)),[s,n,o]),u=NY({control:s,name:n,defaultValue:c,exact:!0}),d=EY({control:s,name:n,exact:!0}),f=F.useRef(e),h=F.useRef(s.register(n,{...e.rules,value:u,...Rn(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=F.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!se(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!se(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!se(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!se(d.validatingFields,n)},error:{enumerable:!0,get:()=>se(d.errors,n)}}),[d,n]),x=F.useCallback(g=>h.current.onChange({target:{value:YO(g),name:n},type:Yf.CHANGE}),[n]),v=F.useCallback(()=>h.current.onBlur({target:{value:se(s._formValues,n),name:n},type:Yf.BLUR}),[n,s._formValues]),y=F.useCallback(g=>{const w=se(s._fields,n);w&&g&&(w._f.ref={focus:()=>g.focus&&g.focus(),select:()=>g.select&&g.select(),setCustomValidity:_=>g.setCustomValidity(_),reportValidity:()=>g.reportValidity()})},[s._fields,n]),b=F.useMemo(()=>({name:n,value:u,...Rn(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:x,onBlur:v,ref:y}),[n,r,d.disabled,x,v,y,u]);return F.useEffect(()=>{const g=s._options.shouldUnregister||i;s.register(n,{...f.current.rules,...Rn(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(_,S)=>{const C=se(s._fields,_);C&&C._f&&(C._f.mount=S)};if(w(n,!0),g){const _=Ot(se(s._options.defaultValues,n));Ke(s._defaultValues,n,_),xt(se(s._formValues,n))&&Ke(s._formValues,n,_)}return!a&&s.register(n),()=>{(a?g&&!s._state.action:g)?s.unregister(n):w(n,!1)}},[n,s,a,i]),F.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),F.useMemo(()=>({field:b,formState:d,fieldState:m}),[b,d,m])}const TY=e=>e.render(kY(e));var JO=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},oc=e=>Array.isArray(e)?e:[e],f1=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},yn=e=>St(e)&&!Object.keys(e).length,W0=e=>e.type==="file",jr=e=>typeof e=="function",Qf=e=>{if(!$0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},e2=e=>e.type==="select-multiple",H0=e=>e.type==="radio",PY=e=>H0(e)||_u(e),Mp=e=>Qf(e)&&e.isConnected;function AY(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=xt(e)?r++:e[t[r++]];return e}function RY(e){for(const t in e)if(e.hasOwnProperty(t)&&!xt(e[t]))return!1;return!0}function jt(e,t){const n=Array.isArray(t)?t:sm(t)?[t]:B0(t),r=n.length===1?e:AY(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(St(r)&&yn(r)||Array.isArray(r)&&RY(r))&&jt(e,n.slice(0,-1)),e}var t2=e=>{for(const t in e)if(jr(e[t]))return!0;return!1};function Xf(e,t={}){const n=Array.isArray(e);if(St(e)||n)for(const r in e)Array.isArray(e[r])||St(e[r])&&!t2(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Xf(e[r],t[r])):cn(e[r])||(t[r]=!0);return t}function n2(e,t,n){const r=Array.isArray(e);if(St(e)||r)for(const s in e)Array.isArray(e[s])||St(e[s])&&!t2(e[s])?xt(t)||Kv(n[s])?n[s]=Array.isArray(e[s])?Xf(e[s],[]):{...Xf(e[s])}:n2(e[s],cn(t)?{}:t[s],n[s]):n[s]=!ds(e[s],t[s]);return n}var Rl=(e,t)=>n2(e,t,Xf(t));const h1={value:!1,isValid:!1},m1={value:!0,isValid:!0};var r2=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!xt(e[0].attributes.value)?xt(e[0].value)||e[0].value===""?m1:{value:e[0].value,isValid:!0}:m1:h1}return h1},s2=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>xt(e)?e:t?e===""?NaN:e&&+e:n&&Hr(e)?new Date(e):r?r(e):e;const p1={isValid:!1,value:null};var i2=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,p1):p1;function g1(e){const t=e.ref;return W0(t)?t.files:H0(t)?i2(e.refs).value:e2(t)?[...t.selectedOptions].map(({value:n})=>n):_u(t)?r2(e.refs).value:s2(xt(t.value)?e.ref.value:t.value,e)}var OY=(e,t,n,r)=>{const s={};for(const i of e){const o=se(t,i);o&&Ke(s,i,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Zf=e=>e instanceof RegExp,Ol=e=>xt(e)?e:Zf(e)?e.source:St(e)?Zf(e.value)?e.value.source:e.value:e,v1=e=>({isOnSubmit:!e||e===Sr.onSubmit,isOnBlur:e===Sr.onBlur,isOnChange:e===Sr.onChange,isOnAll:e===Sr.all,isOnTouch:e===Sr.onTouched});const y1="AsyncFunction";var MY=e=>!!e&&!!e.validate&&!!(jr(e.validate)&&e.validate.constructor.name===y1||St(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===y1)),DY=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),x1=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const ac=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=se(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(ac(a,t))break}else if(St(a)&&ac(a,t))break}}};function w1(e,t,n){const r=se(e,n);if(r||sm(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=se(t,i),a=se(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:n}}var IY=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return yn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||Sr.all))},LY=(e,t,n)=>!e||!t||e===t||oc(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),FY=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,$Y=(e,t)=>!V0(se(e,t)).length&&jt(e,t),VY=(e,t,n)=>{const r=oc(se(e,n));return Ke(r,"root",t[n]),Ke(e,n,r),e},Bd=e=>Hr(e);function b1(e,t,n="validate"){if(Bd(e)||Array.isArray(e)&&e.every(Bd)||Rn(e)&&!e)return{type:n,message:Bd(e)?e:"",ref:t}}var Go=e=>St(e)&&!Zf(e)?e:{value:e,message:""},_1=async(e,t,n,r,s,i)=>{const{ref:o,refs:a,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:x,name:v,valueAsNumber:y,mount:b}=e._f,g=se(n,v);if(!b||t.has(v))return{};const w=a?a[0]:o,_=D=>{s&&w.reportValidity&&(w.setCustomValidity(Rn(D)?"":D||""),w.reportValidity())},S={},C=H0(o),j=_u(o),E=C||j,k=(y||W0(o))&&xt(o.value)&&xt(g)||Qf(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,R=JO.bind(null,v,r,S),W=(D,q,$,ne=os.maxLength,H=os.minLength)=>{const O=D?q:$;S[v]={type:D?ne:H,message:O,ref:o,...R(D?ne:H,O)}};if(i?!Array.isArray(g)||!g.length:c&&(!E&&(k||cn(g))||Rn(g)&&!g||j&&!r2(a).isValid||C&&!i2(a).isValid)){const{value:D,message:q}=Bd(c)?{value:!!c,message:c}:Go(c);if(D&&(S[v]={type:os.required,message:q,ref:w,...R(os.required,q)},!r))return _(q),S}if(!k&&(!cn(f)||!cn(h))){let D,q;const $=Go(h),ne=Go(f);if(!cn(g)&&!isNaN(g)){const H=o.valueAsNumber||g&&+g;cn($.value)||(D=H>$.value),cn(ne.value)||(q=H<ne.value)}else{const H=o.valueAsDate||new Date(g),O=V=>new Date(new Date().toDateString()+" "+V),T=o.type=="time",P=o.type=="week";Hr($.value)&&g&&(D=T?O(g)>O($.value):P?g>$.value:H>new Date($.value)),Hr(ne.value)&&g&&(q=T?O(g)<O(ne.value):P?g<ne.value:H<new Date(ne.value))}if((D||q)&&(W(!!D,$.message,ne.message,os.max,os.min),!r))return _(S[v].message),S}if((u||d)&&!k&&(Hr(g)||i&&Array.isArray(g))){const D=Go(u),q=Go(d),$=!cn(D.value)&&g.length>+D.value,ne=!cn(q.value)&&g.length<+q.value;if(($||ne)&&(W($,D.message,q.message),!r))return _(S[v].message),S}if(m&&!k&&Hr(g)){const{value:D,message:q}=Go(m);if(Zf(D)&&!g.match(D)&&(S[v]={type:os.pattern,message:q,ref:o,...R(os.pattern,q)},!r))return _(q),S}if(x){if(jr(x)){const D=await x(g,n),q=b1(D,w);if(q&&(S[v]={...q,...R(os.validate,q.message)},!r))return _(q.message),S}else if(St(x)){let D={};for(const q in x){if(!yn(D)&&!r)break;const $=b1(await x[q](g,n),w,q);$&&(D={...$,...R(q,$.message)},_($.message),r&&(S[v]=D))}if(!yn(D)&&(S[v]={ref:w,...D},!r))return S}}return _(!0),S};const BY={mode:Sr.onSubmit,reValidateMode:Sr.onChange,shouldFocusError:!0};function UY(e={}){let t={...BY,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:jr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=St(t.defaultValues)||St(t.values)?Ot(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Ot(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:f1(),state:f1()},m=t.criteriaMode===Sr.all,x=N=>A=>{clearTimeout(u),u=setTimeout(N,A)},v=async N=>{if(!t.disabled&&(d.isValid||f.isValid||N)){const A=t.resolver?yn((await j()).errors):await k(r,!0);A!==n.isValid&&h.state.next({isValid:A})}},y=(N,A)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((N||Array.from(a.mount)).forEach(I=>{I&&(A?Ke(n.validatingFields,I,A):jt(n.validatingFields,I))}),h.state.next({validatingFields:n.validatingFields,isValidating:!yn(n.validatingFields)}))},b=(N,A=[],I,ee,re=!0,X=!0)=>{if(ee&&I&&!t.disabled){if(o.action=!0,X&&Array.isArray(se(r,N))){const oe=I(se(r,N),ee.argA,ee.argB);re&&Ke(r,N,oe)}if(X&&Array.isArray(se(n.errors,N))){const oe=I(se(n.errors,N),ee.argA,ee.argB);re&&Ke(n.errors,N,oe),$Y(n.errors,N)}if((d.touchedFields||f.touchedFields)&&X&&Array.isArray(se(n.touchedFields,N))){const oe=I(se(n.touchedFields,N),ee.argA,ee.argB);re&&Ke(n.touchedFields,N,oe)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Rl(s,i)),h.state.next({name:N,isDirty:W(N,A),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ke(i,N,A)},g=(N,A)=>{Ke(n.errors,N,A),h.state.next({errors:n.errors})},w=N=>{n.errors=N,h.state.next({errors:n.errors,isValid:!1})},_=(N,A,I,ee)=>{const re=se(r,N);if(re){const X=se(i,N,xt(I)?se(s,N):I);xt(X)||ee&&ee.defaultChecked||A?Ke(i,N,A?X:g1(re._f)):$(N,X),o.mount&&v()}},S=(N,A,I,ee,re)=>{let X=!1,oe=!1;const Ve={name:N};if(!t.disabled){if(!I||ee){(d.isDirty||f.isDirty)&&(oe=n.isDirty,n.isDirty=Ve.isDirty=W(),X=oe!==Ve.isDirty);const Qe=ds(se(s,N),A);oe=!!se(n.dirtyFields,N),Qe?jt(n.dirtyFields,N):Ke(n.dirtyFields,N,!0),Ve.dirtyFields=n.dirtyFields,X=X||(d.dirtyFields||f.dirtyFields)&&oe!==!Qe}if(I){const Qe=se(n.touchedFields,N);Qe||(Ke(n.touchedFields,N,I),Ve.touchedFields=n.touchedFields,X=X||(d.touchedFields||f.touchedFields)&&Qe!==I)}X&&re&&h.state.next(Ve)}return X?Ve:{}},C=(N,A,I,ee)=>{const re=se(n.errors,N),X=(d.isValid||f.isValid)&&Rn(A)&&n.isValid!==A;if(t.delayError&&I?(c=x(()=>g(N,I)),c(t.delayError)):(clearTimeout(u),c=null,I?Ke(n.errors,N,I):jt(n.errors,N)),(I?!ds(re,I):re)||!yn(ee)||X){const oe={...ee,...X&&Rn(A)?{isValid:A}:{},errors:n.errors,name:N};n={...n,...oe},h.state.next(oe)}},j=async N=>{y(N,!0);const A=await t.resolver(i,t.context,OY(N||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return y(N),A},E=async N=>{const{errors:A}=await j(N);if(N)for(const I of N){const ee=se(A,I);ee?Ke(n.errors,I,ee):jt(n.errors,I)}else n.errors=A;return A},k=async(N,A,I={valid:!0})=>{for(const ee in N){const re=N[ee];if(re){const{_f:X,...oe}=re;if(X){const Ve=a.array.has(X.name),Qe=re._f&&MY(re._f);Qe&&d.validatingFields&&y([ee],!0);const gn=await _1(re,a.disabled,i,m,t.shouldUseNativeValidation&&!A,Ve);if(Qe&&d.validatingFields&&y([ee]),gn[X.name]&&(I.valid=!1,A))break;!A&&(se(gn,X.name)?Ve?VY(n.errors,gn,X.name):Ke(n.errors,X.name,gn[X.name]):jt(n.errors,X.name))}!yn(oe)&&await k(oe,A,I)}}return I.valid},R=()=>{for(const N of a.unMount){const A=se(r,N);A&&(A._f.refs?A._f.refs.every(I=>!Mp(I)):!Mp(A._f.ref))&&B(N)}a.unMount=new Set},W=(N,A)=>!t.disabled&&(N&&A&&Ke(i,N,A),!ds(V(),s)),D=(N,A,I)=>ZO(N,a,{...o.mount?i:xt(A)?s:Hr(N)?{[N]:A}:A},I,A),q=N=>V0(se(o.mount?i:s,N,t.shouldUnregister?se(s,N,[]):[])),$=(N,A,I={})=>{const ee=se(r,N);let re=A;if(ee){const X=ee._f;X&&(!X.disabled&&Ke(i,N,s2(A,X)),re=Qf(X.ref)&&cn(A)?"":A,e2(X.ref)?[...X.ref.options].forEach(oe=>oe.selected=re.includes(oe.value)):X.refs?_u(X.ref)?X.refs.forEach(oe=>{(!oe.defaultChecked||!oe.disabled)&&(Array.isArray(re)?oe.checked=!!re.find(Ve=>Ve===oe.value):oe.checked=re===oe.value||!!re)}):X.refs.forEach(oe=>oe.checked=oe.value===re):W0(X.ref)?X.ref.value="":(X.ref.value=re,X.ref.type||h.state.next({name:N,values:Ot(i)})))}(I.shouldDirty||I.shouldTouch)&&S(N,re,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&P(N)},ne=(N,A,I)=>{for(const ee in A){if(!A.hasOwnProperty(ee))return;const re=A[ee],X=N+"."+ee,oe=se(r,X);(a.array.has(N)||St(re)||oe&&!oe._f)&&!ro(re)?ne(X,re,I):$(X,re,I)}},H=(N,A,I={})=>{const ee=se(r,N),re=a.array.has(N),X=Ot(A);Ke(i,N,X),re?(h.array.next({name:N,values:Ot(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&I.shouldDirty&&h.state.next({name:N,dirtyFields:Rl(s,i),isDirty:W(N,X)})):ee&&!ee._f&&!cn(X)?ne(N,X,I):$(N,X,I),x1(N,a)&&h.state.next({...n,name:N}),h.state.next({name:o.mount?N:void 0,values:Ot(i)})},O=async N=>{o.mount=!0;const A=N.target;let I=A.name,ee=!0;const re=se(r,I),X=Qe=>{ee=Number.isNaN(Qe)||ro(Qe)&&isNaN(Qe.getTime())||ds(Qe,se(i,I,Qe))},oe=v1(t.mode),Ve=v1(t.reValidateMode);if(re){let Qe,gn;const ns=A.type?g1(re._f):YO(N),Mr=N.type===Yf.BLUR||N.type===Yf.FOCUS_OUT,Su=!DY(re._f)&&!t.resolver&&!se(n.errors,I)&&!re._f.deps||FY(Mr,se(n.touchedFields,I),n.isSubmitted,Ve,oe),Di=x1(I,a,Mr);Ke(i,I,ns),Mr?(re._f.onBlur&&re._f.onBlur(N),c&&c(0)):re._f.onChange&&re._f.onChange(N);const Dr=S(I,ns,Mr),ju=!yn(Dr)||Di;if(!Mr&&h.state.next({name:I,type:N.type,values:Ot(i)}),Su)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Mr&&v():Mr||v()),ju&&h.state.next({name:I,...Di?{}:Dr});if(!Mr&&Di&&h.state.next({...n}),t.resolver){const{errors:rs}=await j([I]);if(X(ns),ee){const um=w1(n.errors,r,I),Cu=w1(rs,r,um.name||I);Qe=Cu.error,I=Cu.name,gn=yn(rs)}}else y([I],!0),Qe=(await _1(re,a.disabled,i,m,t.shouldUseNativeValidation))[I],y([I]),X(ns),ee&&(Qe?gn=!1:(d.isValid||f.isValid)&&(gn=await k(r,!0)));ee&&(re._f.deps&&P(re._f.deps),C(I,gn,Qe,Dr))}},T=(N,A)=>{if(se(n.errors,A)&&N.focus)return N.focus(),1},P=async(N,A={})=>{let I,ee;const re=oc(N);if(t.resolver){const X=await E(xt(N)?N:re);I=yn(X),ee=N?!re.some(oe=>se(X,oe)):I}else N?(ee=(await Promise.all(re.map(async X=>{const oe=se(r,X);return await k(oe&&oe._f?{[X]:oe}:oe)}))).every(Boolean),!(!ee&&!n.isValid)&&v()):ee=I=await k(r);return h.state.next({...!Hr(N)||(d.isValid||f.isValid)&&I!==n.isValid?{}:{name:N},...t.resolver||!N?{isValid:I}:{},errors:n.errors}),A.shouldFocus&&!ee&&ac(r,T,N?re:a.mount),ee},V=N=>{const A={...o.mount?i:s};return xt(N)?A:Hr(N)?se(A,N):N.map(I=>se(A,I))},te=(N,A)=>({invalid:!!se((A||n).errors,N),isDirty:!!se((A||n).dirtyFields,N),error:se((A||n).errors,N),isValidating:!!se(n.validatingFields,N),isTouched:!!se((A||n).touchedFields,N)}),J=N=>{N&&oc(N).forEach(A=>jt(n.errors,A)),h.state.next({errors:N?n.errors:{}})},fe=(N,A,I)=>{const ee=(se(r,N,{_f:{}})._f||{}).ref,re=se(n.errors,N)||{},{ref:X,message:oe,type:Ve,...Qe}=re;Ke(n.errors,N,{...Qe,...A,ref:ee}),h.state.next({name:N,errors:n.errors,isValid:!1}),I&&I.shouldFocus&&ee&&ee.focus&&ee.focus()},ge=(N,A)=>jr(N)?h.state.subscribe({next:I=>"values"in I&&N(D(void 0,A),I)}):D(N,A,!0),Me=N=>h.state.subscribe({next:A=>{LY(N.name,A.name,N.exact)&&IY(A,N.formState||d,$e,N.reRenderRoot)&&N.callback({values:{...i},...n,...A,defaultValues:s})}}).unsubscribe,z=N=>(o.mount=!0,f={...f,...N.formState},Me({...N,formState:f})),B=(N,A={})=>{for(const I of N?oc(N):a.mount)a.mount.delete(I),a.array.delete(I),A.keepValue||(jt(r,I),jt(i,I)),!A.keepError&&jt(n.errors,I),!A.keepDirty&&jt(n.dirtyFields,I),!A.keepTouched&&jt(n.touchedFields,I),!A.keepIsValidating&&jt(n.validatingFields,I),!t.shouldUnregister&&!A.keepDefaultValue&&jt(s,I);h.state.next({values:Ot(i)}),h.state.next({...n,...A.keepDirty?{isDirty:W()}:{}}),!A.keepIsValid&&v()},ve=({disabled:N,name:A})=>{(Rn(N)&&o.mount||N||a.disabled.has(A))&&(N?a.disabled.add(A):a.disabled.delete(A))},ye=(N,A={})=>{let I=se(r,N);const ee=Rn(A.disabled)||Rn(t.disabled);return Ke(r,N,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:N}},name:N,mount:!0,...A}}),a.mount.add(N),I?ve({disabled:Rn(A.disabled)?A.disabled:t.disabled,name:N}):_(N,!0,A.value),{...ee?{disabled:A.disabled||t.disabled}:{},...t.progressive?{required:!!A.required,min:Ol(A.min),max:Ol(A.max),minLength:Ol(A.minLength),maxLength:Ol(A.maxLength),pattern:Ol(A.pattern)}:{},name:N,onChange:O,onBlur:O,ref:re=>{if(re){ye(N,A),I=se(r,N);const X=xt(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,oe=PY(X),Ve=I._f.refs||[];if(oe?Ve.find(Qe=>Qe===X):X===I._f.ref)return;Ke(r,N,{_f:{...I._f,...oe?{refs:[...Ve.filter(Mp),X,...Array.isArray(se(s,N))?[{}]:[]],ref:{type:X.type,name:N}}:{ref:X}}}),_(N,!1,void 0,X)}else I=se(r,N,{}),I._f&&(I._f.mount=!1),(t.shouldUnregister||A.shouldUnregister)&&!(QO(a.array,N)&&o.action)&&a.unMount.add(N)}}},_e=()=>t.shouldFocusError&&ac(r,T,a.mount),we=N=>{Rn(N)&&(h.state.next({disabled:N}),ac(r,(A,I)=>{const ee=se(r,I);ee&&(A.disabled=ee._f.disabled||N,Array.isArray(ee._f.refs)&&ee._f.refs.forEach(re=>{re.disabled=ee._f.disabled||N}))},0,!1))},M=(N,A)=>async I=>{let ee;I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let re=Ot(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:X,values:oe}=await j();n.errors=X,re=Ot(oe)}else await k(r);if(a.disabled.size)for(const X of a.disabled)jt(re,X);if(jt(n.errors,"root"),yn(n.errors)){h.state.next({errors:{}});try{await N(re,I)}catch(X){ee=X}}else A&&await A({...n.errors},I),_e(),setTimeout(_e);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:yn(n.errors)&&!ee,submitCount:n.submitCount+1,errors:n.errors}),ee)throw ee},ce=(N,A={})=>{se(r,N)&&(xt(A.defaultValue)?H(N,Ot(se(s,N))):(H(N,A.defaultValue),Ke(s,N,Ot(A.defaultValue))),A.keepTouched||jt(n.touchedFields,N),A.keepDirty||(jt(n.dirtyFields,N),n.isDirty=A.defaultValue?W(N,Ot(se(s,N))):W()),A.keepError||(jt(n.errors,N),d.isValid&&v()),h.state.next({...n}))},De=(N,A={})=>{const I=N?Ot(N):s,ee=Ot(I),re=yn(N),X=re?s:ee;if(A.keepDefaultValues||(s=I),!A.keepValues){if(A.keepDirtyValues){const oe=new Set([...a.mount,...Object.keys(Rl(s,i))]);for(const Ve of Array.from(oe))se(n.dirtyFields,Ve)?Ke(X,Ve,se(i,Ve)):H(Ve,se(X,Ve))}else{if($0&&xt(N))for(const oe of a.mount){const Ve=se(r,oe);if(Ve&&Ve._f){const Qe=Array.isArray(Ve._f.refs)?Ve._f.refs[0]:Ve._f.ref;if(Qf(Qe)){const gn=Qe.closest("form");if(gn){gn.reset();break}}}}if(A.keepFieldsRef)for(const oe of a.mount)H(oe,se(X,oe));else r={}}i=t.shouldUnregister?A.keepDefaultValues?Ot(s):{}:Ot(X),h.array.next({values:{...X}}),h.state.next({values:{...X}})}a={mount:A.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!A.keepIsValid||!!A.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:A.keepSubmitCount?n.submitCount:0,isDirty:re?!1:A.keepDirty?n.isDirty:!!(A.keepDefaultValues&&!ds(N,s)),isSubmitted:A.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:A.keepDirtyValues?A.keepDefaultValues&&i?Rl(s,i):n.dirtyFields:A.keepDefaultValues&&N?Rl(s,N):A.keepDirty?n.dirtyFields:{},touchedFields:A.keepTouched?n.touchedFields:{},errors:A.keepErrors?n.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},L=(N,A)=>De(jr(N)?N(i):N,A),ue=(N,A={})=>{const I=se(r,N),ee=I&&I._f;if(ee){const re=ee.refs?ee.refs[0]:ee.ref;re.focus&&(re.focus(),A.shouldSelect&&jr(re.select)&&re.select())}},$e=N=>{n={...n,...N}},lt={control:{register:ye,unregister:B,getFieldState:te,handleSubmit:M,setError:fe,_subscribe:Me,_runSchema:j,_focusError:_e,_getWatch:D,_getDirty:W,_setValid:v,_setFieldArray:b,_setDisabledField:ve,_setErrors:w,_getFieldArray:q,_reset:De,_resetDefaultValues:()=>jr(t.defaultValues)&&t.defaultValues().then(N=>{L(N,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:we,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(N){o=N},get _defaultValues(){return s},get _names(){return a},set _names(N){a=N},get _formState(){return n},get _options(){return t},set _options(N){t={...t,...N}}},subscribe:z,trigger:P,register:ye,handleSubmit:M,watch:ge,setValue:H,getValues:V,reset:L,resetField:ce,clearErrors:J,unregister:B,setError:fe,setFocus:ue,getFieldState:te};return{...lt,formControl:lt}}function K0(e={}){const t=F.useRef(void 0),n=F.useRef(void 0),[r,s]=F.useState({isDirty:!1,isValidating:!1,isLoading:jr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:jr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!jr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...a}=UY(e);t.current={...a,formState:r}}const i=t.current.control;return i._options=e,z0(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),F.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),F.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),F.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),F.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),F.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),F.useEffect(()=>{e.values&&!ds(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),F.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=XO(r,i),t.current}const S1=(e,t,n)=>{if(e&&"reportValidity"in e){const r=se(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},o2=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?S1(r.ref,n,e):r.refs&&r.refs.forEach(s=>S1(s,n,e))}},zY=(e,t)=>{t.shouldUseNativeValidation&&o2(e,t);const n={};for(const r in e){const s=se(t.fields,r),i=Object.assign(e[r]||{},{ref:s&&s.ref});if(WY(t.names||Object.keys(e),r)){const o=Object.assign({},se(n,r));Ke(o,"root",i),Ke(n,r,o)}else Ke(n,r,i)}return n},WY=(e,t)=>e.some(n=>n.startsWith(t+"."));var HY=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,u=c&&c[r.code];n[o]=JO(o,t,n,s,u?[].concat(u,r.message):r.message)}e.shift()}return n},q0=function(e,t,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return i.shouldUseNativeValidation&&o2({},i),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return c&&c.then?c.then(void 0,a):c}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:zY(HY(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const G0=CY,a2=p.createContext({}),It=({...e})=>l.jsx(a2.Provider,{value:{name:e.name},children:l.jsx(TY,{...e})}),om=()=>{const e=p.useContext(a2),t=p.useContext(l2),{getFieldState:n,formState:r}=im(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},l2=p.createContext({}),kt=p.forwardRef(({className:e,...t},n)=>{const r=p.useId();return l.jsx(l2.Provider,{value:{id:r},children:l.jsx("div",{ref:n,className:K("space-y-2",e),...t})})});kt.displayName="FormItem";const Tt=p.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=om();return l.jsx(ms,{ref:n,className:K(r&&"text-destructive",e),htmlFor:s,...t})});Tt.displayName="FormLabel";const Pt=p.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=om();return l.jsx(GC,{ref:t,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...e})});Pt.displayName="FormControl";const KY=p.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=om();return l.jsx("p",{ref:n,id:r,className:K("text-sm text-muted-foreground",e),...t})});KY.displayName="FormDescription";const Vt=p.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:i}=om(),o=s?String(s==null?void 0:s.message):t;return o?l.jsx("p",{ref:r,id:i,className:K("text-sm font-medium text-destructive",e),...n,children:o}):null});Vt.displayName="FormMessage";const am=p.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:K("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));am.displayName="Textarea";const qY=ou({name:vt().min(1,"Name is required").max(100),email:vt().email("Invalid email address").max(255),phone:vt().max(20).optional().default(""),date_of_birth:vt().optional().nullable(),notes:vt().max(1e3).optional().default(""),password:vt().min(6,"Password must be at least 6 characters").max(100).optional().or(sT(""))}),GY=({open:e,onOpenChange:t,client:n,onSubmit:r})=>{const s=!!n,i=K0({resolver:q0(qY),defaultValues:{name:"",email:"",phone:"",date_of_birth:null,notes:"",password:""}});p.useEffect(()=>{n?i.reset({name:n.name,email:n.email,phone:n.phone||"",date_of_birth:n.date_of_birth||null,notes:n.notes||"",password:""}):i.reset({name:"",email:"",phone:"",date_of_birth:null,notes:"",password:""})},[n,e]);const o=async a=>{(await r(a)).success&&t(!1)};return l.jsx(Oo,{open:e,onOpenChange:t,children:l.jsxs(Ai,{className:"sm:max-w-[425px]",children:[l.jsx(Mo,{children:l.jsx(Do,{children:n?"Edit Client":"Add New Client"})}),l.jsx(G0,{...i,children:l.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[l.jsx(It,{control:i.control,name:"name",render:({field:a})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Name"}),l.jsx(Pt,{children:l.jsx(yt,{placeholder:"Full name",...a})}),l.jsx(Vt,{})]})}),l.jsx(It,{control:i.control,name:"email",render:({field:a})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Email"}),l.jsx(Pt,{children:l.jsx(yt,{type:"email",placeholder:"email@example.com",...a,disabled:s})}),l.jsx(Vt,{})]})}),!s&&l.jsx(It,{control:i.control,name:"password",render:({field:a})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Password"}),l.jsx(Pt,{children:l.jsx(yt,{type:"password",placeholder:"Login password",...a})}),l.jsx(Vt,{}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be their login password"})]})}),l.jsx(It,{control:i.control,name:"phone",render:({field:a})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Phone"}),l.jsx(Pt,{children:l.jsx(yt,{placeholder:"+1 (555) 000-0000",...a})}),l.jsx(Vt,{})]})}),l.jsx(It,{control:i.control,name:"date_of_birth",render:({field:a})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Date of Birth"}),l.jsx(Pt,{children:l.jsx(yt,{type:"date",...a,value:a.value||"",onChange:c=>a.onChange(c.target.value||null)})}),l.jsx(Vt,{})]})}),l.jsx(It,{control:i.control,name:"notes",render:({field:a})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Notes"}),l.jsx(Pt,{children:l.jsx(am,{placeholder:"Additional notes...",...a})}),l.jsx(Vt,{})]})}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsx(Z,{type:"submit",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Saving...":n?"Update":"Create"})]})]})})]})})};var c2="AlertDialog",[YY,ZX]=zn(c2,[cP]),Ts=cP(),u2=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ts(t);return l.jsx(CP,{...r,...n,modal:!0})};u2.displayName=c2;var QY="AlertDialogTrigger",XY=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ts(n);return l.jsx(AW,{...s,...r,ref:t})});XY.displayName=QY;var ZY="AlertDialogPortal",d2=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ts(t);return l.jsx(EP,{...r,...n})};d2.displayName=ZY;var JY="AlertDialogOverlay",f2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ts(n);return l.jsx(Gx,{...s,...r,ref:t})});f2.displayName=JY;var Na="AlertDialogContent",[eQ,tQ]=YY(Na),nQ=QC("AlertDialogContent"),h2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=Ts(n),o=p.useRef(null),a=Ae(t,o),c=p.useRef(null);return l.jsx(NW,{contentName:Na,titleName:m2,docsSlug:"alert-dialog",children:l.jsx(eQ,{scope:n,cancelRef:c,children:l.jsxs(Yx,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:Q(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(nQ,{children:r}),l.jsx(sQ,{contentRef:o})]})})})});h2.displayName=Na;var m2="AlertDialogTitle",p2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ts(n);return l.jsx(Qx,{...s,...r,ref:t})});p2.displayName=m2;var g2="AlertDialogDescription",v2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ts(n);return l.jsx(Xx,{...s,...r,ref:t})});v2.displayName=g2;var rQ="AlertDialogAction",y2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ts(n);return l.jsx(Zx,{...s,...r,ref:t})});y2.displayName=rQ;var x2="AlertDialogCancel",w2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=tQ(x2,n),i=Ts(n),o=Ae(t,s);return l.jsx(Zx,{...i,...r,ref:o})});w2.displayName=x2;var sQ=({contentRef:e})=>{const t=`\`${Na}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Na}\` by passing a \`${g2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Na}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},iQ=u2,oQ=d2,b2=f2,_2=h2,S2=y2,j2=w2,C2=p2,E2=v2;const aQ=iQ,lQ=oQ,N2=p.forwardRef(({className:e,...t},n)=>l.jsx(b2,{className:K("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));N2.displayName=b2.displayName;const k2=p.forwardRef(({className:e,...t},n)=>l.jsxs(lQ,{children:[l.jsx(N2,{}),l.jsx(_2,{ref:n,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));k2.displayName=_2.displayName;const T2=({className:e,...t})=>l.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",e),...t});T2.displayName="AlertDialogHeader";const P2=({className:e,...t})=>l.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});P2.displayName="AlertDialogFooter";const A2=p.forwardRef(({className:e,...t},n)=>l.jsx(C2,{ref:n,className:K("text-lg font-semibold",e),...t}));A2.displayName=C2.displayName;const R2=p.forwardRef(({className:e,...t},n)=>l.jsx(E2,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));R2.displayName=E2.displayName;const O2=p.forwardRef(({className:e,...t},n)=>l.jsx(S2,{ref:n,className:K(Mc(),e),...t}));O2.displayName=S2.displayName;const M2=p.forwardRef(({className:e,...t},n)=>l.jsx(j2,{ref:n,className:K(Mc({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));M2.displayName=j2.displayName;const lm=({open:e,onOpenChange:t,title:n,description:r,onConfirm:s,loading:i})=>l.jsx(aQ,{open:e,onOpenChange:t,children:l.jsxs(k2,{children:[l.jsxs(T2,{children:[l.jsx(A2,{children:n}),l.jsx(R2,{children:r})]}),l.jsxs(P2,{children:[l.jsx(M2,{disabled:i,children:"Cancel"}),l.jsx(O2,{onClick:s,disabled:i,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:i?"Deleting...":"Delete"})]})]})}),cQ=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(!1),[s,i]=p.useState(null),[o,a]=p.useState(null),[c,u]=p.useState(!1),{clients:d,loading:f,createClient:h,updateClient:m,deleteClient:x}=Jx(),{role:v,loading:y}=rr(),b=d.filter(E=>E.name.toLowerCase().includes(e.toLowerCase())||E.email.toLowerCase().includes(e.toLowerCase())),g=()=>{i(null),r(!0)},w=E=>{i(E),r(!0)},_=async E=>s?m(s.id,E):h(E),S=async()=>{o&&(u(!0),await x(o.id),u(!1),a(null))},C=new Date;C.setDate(1);const j=d.filter(E=>new Date(E.created_at)>=C).length;return y||f?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(wh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx("input",{type:"text",placeholder:"Search clients...",value:e,onChange:E=>t(E.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-border bg-card text-foreground w-64 focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all"})]}),l.jsxs(Z,{variant:"default",onClick:g,children:[l.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Add Client"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("p",{className:"text-3xl font-serif font-semibold text-foreground",children:d.length}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Total Clients"})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("p",{className:"text-3xl font-serif font-semibold text-foreground",children:j}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"New This Month"})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("p",{className:"text-3xl font-serif font-semibold text-foreground",children:d.length}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Active Clients"})]})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(E=>l.jsxs("div",{className:"glass-card rounded-2xl p-6 hover:shadow-lg transition-all duration-300 group",children:[l.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-accent flex items-center justify-center",children:l.jsx("span",{className:"text-lg font-semibold text-accent-foreground",children:E.name.split(" ").map(k=>k[0]).join("")})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-foreground truncate",children:E.name}),l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[l.jsx(eu,{className:"h-3 w-3"}),l.jsx("span",{className:"truncate",children:E.email})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>w(E),children:l.jsx(tu,{className:"h-4 w-4"})}),l.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive",onClick:()=>a(E),children:l.jsx(Gy,{className:"h-4 w-4"})})]})]})})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[E.phone&&l.jsxs("p",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(xh,{className:"h-4 w-4"}),E.phone]}),l.jsxs("p",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(Rt,{className:"h-4 w-4"}),"Joined ",Pe(new Date(E.created_at),"MMM d, yyyy")]})]}),E.notes&&l.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:E.notes})})]},E.id))}),b.length===0&&l.jsx("div",{className:"glass-card rounded-2xl p-12 text-center",children:l.jsx("p",{className:"text-muted-foreground",children:d.length===0?"No clients yet. Add your first client to get started.":"No clients found matching your search."})}),l.jsx(GY,{open:n,onOpenChange:r,client:s,onSubmit:_}),l.jsx(lm,{open:!!o,onOpenChange:E=>!E&&a(null),title:"Delete Client",description:`Are you sure you want to delete "${o==null?void 0:o.name}"? This action cannot be undone.`,onConfirm:S,loading:c})]})};var cm="Switch",[uQ,JX]=zn(cm),[dQ,fQ]=uQ(cm),D2=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),x=Ae(t,w=>m(w)),v=p.useRef(!1),y=h?d||!!h.closest("form"):!0,[b,g]=mi({prop:s,defaultProp:i??!1,onChange:u,caller:cm});return l.jsxs(dQ,{scope:n,checked:b,disabled:a,children:[l.jsx(xe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":$2(b),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:x,onClick:Q(e.onClick,w=>{g(_=>!_),y&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),y&&l.jsx(F2,{control:h,bubbles:!v.current,name:r,value:c,checked:b,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});D2.displayName=cm;var I2="SwitchThumb",L2=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=fQ(I2,n);return l.jsx(xe.span,{"data-state":$2(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});L2.displayName=I2;var hQ="SwitchBubbleInput",F2=p.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const o=p.useRef(null),a=Ae(o,i),c=lO(n),u=QE(t);return p.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const x=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(x)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});F2.displayName=hQ;function $2(e){return e?"checked":"unchecked"}var V2=D2,mQ=L2;const Y0=p.forwardRef(({className:e,...t},n)=>l.jsx(V2,{className:K("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:l.jsx(mQ,{className:K("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Y0.displayName=V2.displayName;const pQ=ou({name:vt().min(1,"Name is required").max(100),description:vt().max(500).optional().default(""),duration:A_.number().min(5,"Minimum 5 minutes").max(480,"Maximum 8 hours"),price:A_.number().min(0,"Price must be positive"),category:vt().min(1,"Category is required").max(50),is_active:rT().default(!0)}),gQ=({open:e,onOpenChange:t,service:n,onSubmit:r})=>{const s=K0({resolver:q0(pQ),defaultValues:{name:"",description:"",duration:30,price:0,category:"General",is_active:!0}});p.useEffect(()=>{n?s.reset({name:n.name,description:n.description||"",duration:n.duration,price:Number(n.price),category:n.category,is_active:n.is_active}):s.reset({name:"",description:"",duration:30,price:0,category:"General",is_active:!0})},[n,e]);const i=async o=>{(await r(o)).success&&t(!1)};return l.jsx(Oo,{open:e,onOpenChange:t,children:l.jsxs(Ai,{className:"sm:max-w-[425px]",children:[l.jsx(Mo,{children:l.jsx(Do,{children:n?"Edit Service":"Add New Service"})}),l.jsx(G0,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[l.jsx(It,{control:s.control,name:"name",render:({field:o})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Name"}),l.jsx(Pt,{children:l.jsx(yt,{placeholder:"Service name",...o})}),l.jsx(Vt,{})]})}),l.jsx(It,{control:s.control,name:"description",render:({field:o})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Description"}),l.jsx(Pt,{children:l.jsx(am,{placeholder:"Service description",...o})}),l.jsx(Vt,{})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(It,{control:s.control,name:"duration",render:({field:o})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Duration (min)"}),l.jsx(Pt,{children:l.jsx(yt,{type:"number",...o})}),l.jsx(Vt,{})]})}),l.jsx(It,{control:s.control,name:"price",render:({field:o})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Price ()"}),l.jsx(Pt,{children:l.jsx(yt,{type:"number",step:"0.01",...o})}),l.jsx(Vt,{})]})})]}),l.jsx(It,{control:s.control,name:"category",render:({field:o})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Category"}),l.jsx(Pt,{children:l.jsx(yt,{placeholder:"e.g., Facial, Body, Wellness",...o})}),l.jsx(Vt,{})]})}),l.jsx(It,{control:s.control,name:"is_active",render:({field:o})=>l.jsxs(kt,{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[l.jsx(Tt,{className:"cursor-pointer",children:"Active"}),l.jsx(Pt,{children:l.jsx(Y0,{checked:o.value,onCheckedChange:o.onChange})})]})}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsx(Z,{type:"submit",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Saving...":n?"Update":"Create"})]})]})})]})})},vQ=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(null),[s,i]=p.useState(!1),[o,a]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(!1),{services:h,categories:m,loading:x,createService:v,updateService:y,deleteService:b}=hl(),{role:g}=rr(),w=h.filter(k=>{var D;const R=k.name.toLowerCase().includes(e.toLowerCase())||(((D=k.description)==null?void 0:D.toLowerCase().includes(e.toLowerCase()))??!1),W=!n||k.category===n;return R&&W}),_=()=>{a(null),i(!0)},S=k=>{a(k),i(!0)},C=async k=>o?y(o.id,k):v(k),j=async()=>{c&&(f(!0),await b(c.id),f(!1),u(null))},E=g!=="client";return x?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(wh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx("input",{type:"text",placeholder:"Search services...",value:e,onChange:k=>t(k.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-border bg-card text-foreground w-64 focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all"})]})}),E&&l.jsxs(Z,{variant:"default",onClick:_,children:[l.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Add Service"]})]}),m.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{onClick:()=>r(null),className:K("px-4 py-2 rounded-full text-sm font-medium transition-all",n?"bg-card border border-border text-muted-foreground hover:bg-muted":"bg-primary text-primary-foreground"),children:"All Services"}),m.map(k=>l.jsx("button",{onClick:()=>r(k),className:K("px-4 py-2 rounded-full text-sm font-medium transition-all",n===k?"bg-primary text-primary-foreground":"bg-card border border-border text-muted-foreground hover:bg-muted"),children:k},k))]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("p",{className:"text-3xl font-serif font-semibold text-foreground",children:h.length}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Total Services"})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("p",{className:"text-3xl font-serif font-semibold text-foreground",children:m.length}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Categories"})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("p",{className:"text-3xl font-serif font-semibold text-foreground",children:["",h.length>0?Math.round(h.reduce((k,R)=>k+Number(R.price),0)/h.length):0]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Avg. Price"})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("p",{className:"text-3xl font-serif font-semibold text-foreground",children:h.length>0?Math.round(h.reduce((k,R)=>k+R.duration,0)/h.length):0}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Avg. Duration (min)"})]})]}),l.jsx("div",{className:"grid md:grid-cols-4 lg:grid-cols-4 gap-6",children:w.map(k=>l.jsxs("div",{className:"glass-card rounded-2xl p-6 hover:shadow-lg transition-all duration-300 group",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-xs font-medium text-primary bg-primary/10 px-2 py-1 rounded-full",children:k.category}),l.jsx("h3",{className:"font-serif text-xl font-semibold text-foreground mt-3",children:k.name})]}),E&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:K("text-xs font-medium px-2 py-1 rounded-full mr-2",k.is_active?"bg-[hsl(var(--status-confirmed)/0.15)] text-[hsl(var(--status-confirmed))]":"bg-muted text-muted-foreground"),children:k.is_active?"Active":"Inactive"}),l.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>S(k),children:l.jsx(tu,{className:"h-4 w-4"})}),l.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive",onClick:()=>u(k),children:l.jsx(Gy,{className:"h-4 w-4"})})]})]}),l.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-2",children:k.description||"No description"}),l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(kr,{className:"h-4 w-4"}),k.duration," min"]}),l.jsx("span",{className:"text-sm font-semibold text-foreground",children:Number(k.price)===0?"Free":`${k.price}`})]})]},k.id))}),w.length===0&&l.jsx("div",{className:"glass-card rounded-2xl p-12 text-center",children:l.jsx("p",{className:"text-muted-foreground",children:h.length===0?"No services yet. Add your first service to get started.":"No services found matching your criteria."})}),E&&l.jsxs(l.Fragment,{children:[l.jsx(gQ,{open:s,onOpenChange:i,service:o,onSubmit:C}),l.jsx(lm,{open:!!c,onOpenChange:k=>!k&&u(null),title:"Delete Service",description:`Are you sure you want to delete "${c==null?void 0:c.name}"? This action cannot be undone.`,onConfirm:j,loading:d})]})]})},yQ=ou({name:vt().min(1,"Name is required").max(100),email:vt().email("Invalid email address").max(255),phone:vt().max(20).optional().default(""),title:vt().min(1,"Title is required").max(100),bio:vt().max(500).optional().default(""),is_active:rT().default(!0),avatar_url:vt().optional().default(""),password:vt().min(6,"Password must be at least 6 characters").max(100).optional().or(sT(""))}),xQ=({open:e,onOpenChange:t,staff:n,onSubmit:r})=>{const[s,i]=p.useState(null),o=p.useRef(null),a=!!n,c=K0({resolver:q0(yQ),defaultValues:{name:"",email:"",phone:"",title:"Specialist",bio:"",is_active:!0,avatar_url:"",password:""}});p.useEffect(()=>{n?(c.reset({name:n.name,email:n.email,phone:n.phone||"",title:n.title,bio:n.bio||"",is_active:n.is_active,avatar_url:n.avatar_url||"",password:""}),i(n.avatar_url||null)):(c.reset({name:"",email:"",phone:"",title:"Specialist",bio:"",is_active:!0,avatar_url:"",password:""}),i(null))},[n,e]);const u=h=>{var x;const m=(x=h.target.files)==null?void 0:x[0];if(m){if(m.size>500*1024){alert("Image size must be less than 500KB");return}const v=new FileReader;v.onloadend=()=>{const y=v.result;i(y),c.setValue("avatar_url",y)},v.readAsDataURL(m)}},d=()=>{i(null),c.setValue("avatar_url",""),o.current&&(o.current.value="")},f=async h=>{(await r(h)).success&&t(!1)};return l.jsx(Oo,{open:e,onOpenChange:t,children:l.jsxs(Ai,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[l.jsx(Mo,{children:l.jsx(Do,{children:n?"Edit Staff Member":"Add New Staff Member"})}),l.jsx(G0,{...c,children:l.jsxs("form",{onSubmit:c.handleSubmit(f),className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-24 h-24 rounded-full bg-muted flex items-center justify-center overflow-hidden border-2 border-border",children:s?l.jsx("img",{src:s,alt:"Staff photo",className:"w-full h-full object-cover"}):l.jsx(f4,{className:"h-8 w-8 text-muted-foreground"})}),s&&l.jsx("button",{type:"button",onClick:d,className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-destructive text-destructive-foreground flex items-center justify-center hover:bg-destructive/90",children:l.jsx(ji,{className:"h-4 w-4"})})]}),l.jsxs("div",{children:[l.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:u,className:"hidden",id:"photo-upload"}),l.jsx("label",{htmlFor:"photo-upload",children:l.jsx(Z,{type:"button",variant:"outline",size:"sm",asChild:!0,children:l.jsx("span",{className:"cursor-pointer",children:s?"Change Photo":"Upload Photo"})})}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"Max 500KB"})]})]}),l.jsx(It,{control:c.control,name:"name",render:({field:h})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Name"}),l.jsx(Pt,{children:l.jsx(yt,{placeholder:"Full name",...h})}),l.jsx(Vt,{})]})}),l.jsx(It,{control:c.control,name:"email",render:({field:h})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Email"}),l.jsx(Pt,{children:l.jsx(yt,{type:"email",placeholder:"email@example.com",...h,disabled:a})}),l.jsx(Vt,{})]})}),!a&&l.jsx(It,{control:c.control,name:"password",render:({field:h})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Password"}),l.jsx(Pt,{children:l.jsx(yt,{type:"password",placeholder:"Login password",...h})}),l.jsx(Vt,{}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be their login password"})]})}),l.jsx(It,{control:c.control,name:"phone",render:({field:h})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Phone"}),l.jsx(Pt,{children:l.jsx(yt,{placeholder:"+1 (555) 000-0000",...h})}),l.jsx(Vt,{})]})}),l.jsx(It,{control:c.control,name:"title",render:({field:h})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Title"}),l.jsx(Pt,{children:l.jsx(yt,{placeholder:"e.g., Senior Aesthetician",...h})}),l.jsx(Vt,{})]})}),l.jsx(It,{control:c.control,name:"bio",render:({field:h})=>l.jsxs(kt,{children:[l.jsx(Tt,{children:"Bio"}),l.jsx(Pt,{children:l.jsx(am,{placeholder:"Short biography...",...h})}),l.jsx(Vt,{})]})}),l.jsx(It,{control:c.control,name:"is_active",render:({field:h})=>l.jsxs(kt,{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[l.jsx(Tt,{className:"cursor-pointer",children:"Active"}),l.jsx(Pt,{children:l.jsx(Y0,{checked:h.value,onCheckedChange:h.onChange})})]})}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsx(Z,{type:"submit",disabled:c.formState.isSubmitting,children:c.formState.isSubmitting?"Saving...":n?"Update":"Create"})]})]})})]})})},wQ=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(!1),[s,i]=p.useState(null),[o,a]=p.useState(null),[c,u]=p.useState(!1),{staff:d,loading:f,createStaff:h,updateStaff:m,deleteStaff:x}=Ax(),v=d.filter(_=>_.name.toLowerCase().includes(e.toLowerCase())||_.title.toLowerCase().includes(e.toLowerCase())),y=()=>{i(null),r(!0)},b=_=>{i(_),r(!0)},g=async _=>s?m(s.id,_):h(_),w=async()=>{o&&(u(!0),await x(o.id),u(!1),a(null))};return f?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(wh,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx("input",{type:"text",placeholder:"Search staff...",value:e,onChange:_=>t(_.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-border bg-card text-foreground w-64 focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all"})]}),l.jsxs(Z,{variant:"default",onClick:y,children:[l.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Add Staff Member"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("p",{className:"text-3xl font-serif font-semibold text-foreground",children:d.length}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Total Staff"})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("p",{className:"text-3xl font-serif font-semibold text-foreground",children:d.filter(_=>_.is_active).length}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Active Members"})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("p",{className:"text-3xl font-serif font-semibold text-foreground",children:d.filter(_=>!_.is_active).length}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Inactive Members"})]})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(_=>l.jsxs("div",{className:"glass-card rounded-2xl p-6 hover:shadow-lg transition-all duration-300 group",children:[l.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-accent flex items-center justify-center overflow-hidden",children:_.avatar_url?l.jsx("img",{src:_.avatar_url,alt:_.name,className:"w-full h-full object-cover"}):l.jsx("span",{className:"text-xl font-semibold text-accent-foreground",children:_.name.split(" ").map(S=>S[0]).join("")})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-semibold text-foreground truncate",children:_.name}),l.jsx("span",{className:K("text-xs font-medium px-2 py-0.5 rounded-full",_.is_active?"bg-[hsl(var(--status-confirmed)/0.15)] text-[hsl(var(--status-confirmed))]":"bg-muted text-muted-foreground"),children:_.is_active?"Active":"Inactive"})]}),l.jsx("p",{className:"text-sm text-primary font-medium",children:_.title})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>b(_),children:l.jsx(tu,{className:"h-4 w-4"})}),l.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive",onClick:()=>a(_),children:l.jsx(Gy,{className:"h-4 w-4"})})]})]})})]}),_.bio&&l.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-2",children:_.bio}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-sm flex items-center gap-2 text-muted-foreground",children:[l.jsx(eu,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:_.email})]}),_.phone&&l.jsxs("p",{className:"text-sm flex items-center gap-2 text-muted-foreground",children:[l.jsx(xh,{className:"h-4 w-4"}),_.phone]})]})]},_.id))}),v.length===0&&l.jsx("div",{className:"glass-card rounded-2xl p-12 text-center",children:l.jsx("p",{className:"text-muted-foreground",children:d.length===0?"No staff members yet. Add your first staff member to get started.":"No staff members found matching your search."})}),l.jsx(xQ,{open:n,onOpenChange:r,staff:s,onSubmit:g}),l.jsx(lm,{open:!!o,onOpenChange:_=>!_&&a(null),title:"Delete Staff Member",description:`Are you sure you want to delete "${o==null?void 0:o.name}"? This action cannot be undone.`,onConfirm:w,loading:c})]})},bQ=()=>{const e=Ni();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},_Q=({open:e,onOpenChange:t,appointment:n,onSubmit:r})=>{const[s,i]=p.useState(null),[o,a]=p.useState(null),[c,u]=p.useState(!1),d=Array.from({length:14},(m,x)=>Ge(new Date,x+1)),f=["09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"];p.useEffect(()=>{n&&(i(new Date(n.appointment_date)),a(n.start_time))},[n]);const h=async()=>{if(!n||!s||!o)return;u(!0);const[m,x]=o.split(":").map(Number),v=m*60+x+n.total_duration,y=Math.floor(v/60),b=v%60,g=`${String(y).padStart(2,"0")}:${String(b).padStart(2,"0")}`,w=await r(n.id,{appointment_date:Pe(s,"yyyy-MM-dd"),start_time:o,end_time:g});u(!1),w.success&&t(!1)};return l.jsx(Oo,{open:e,onOpenChange:t,children:l.jsxs(Ai,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Mo,{children:l.jsx(Do,{children:"Reschedule Appointment"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"font-semibold text-foreground mb-3 flex items-center gap-2",children:[l.jsx(Rt,{className:"h-5 w-5 text-primary"}),"Select New Date"]}),l.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4",children:d.map(m=>l.jsxs("button",{onClick:()=>i(m),className:K("flex-shrink-0 w-20 rounded-xl p-4 text-center transition-all duration-200",(s==null?void 0:s.toDateString())===m.toDateString()?"bg-primary text-primary-foreground shadow-md":"bg-card border border-border hover:border-primary/50"),children:[l.jsx("p",{className:"text-xs font-medium opacity-80",children:Pe(m,"EEE")}),l.jsx("p",{className:"text-2xl font-semibold",children:Pe(m,"d")}),l.jsx("p",{className:"text-xs opacity-80",children:Pe(m,"MMM")})]},m.toISOString()))})]}),s&&l.jsxs("div",{children:[l.jsxs("label",{className:"font-semibold text-foreground mb-3 flex items-center gap-2",children:[l.jsx(kr,{className:"h-5 w-5 text-primary"}),"Select New Time"]}),l.jsx("div",{className:"grid grid-cols-4 gap-3",children:f.map(m=>l.jsx("button",{onClick:()=>a(m),className:K("p-3 rounded-lg text-center transition-all duration-200",o===m?"bg-primary text-primary-foreground shadow-md":"bg-card border border-border hover:border-primary/50"),children:m},m))})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx(Z,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),l.jsx(Z,{variant:"default",onClick:h,disabled:!s||!o||c,children:c?"Rescheduling...":"Reschedule Appointment"})]})]})]})})},SQ=()=>{var S,C;const{user:e,loading:t}=rr(),{appointments:n,loading:r,updateAppointment:s,cancelAppointment:i}=P0(),[o,a]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(!1);if(t||r)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return l.jsx(mx,{to:"/auth",replace:!0});const h=n.filter(j=>r6(wn(`${j.appointment_date}T${j.start_time}`))),m=n.filter(j=>s6(wn(`${j.appointment_date}T${j.start_time}`))),x=new Date,v=rn(x),y=lu(x),b=n.filter(j=>{const E=wn(j.appointment_date);return E>=v&&E<=y}),g=m.reduce((j,E)=>j+Number(E.total_price||0),0),w=async()=>{c&&(f(!0),await i(c.id),f(!1),u(null))},_=((S=e.user_metadata)==null?void 0:S.full_name)||((C=e.email)==null?void 0:C.split("@")[0])||"Client";return l.jsxs("div",{className:"min-h-screen bg-muted/30",children:[l.jsx("header",{className:"sticky top-0 z-50 glass-panel border-b border-border",children:l.jsx("div",{className:"container mx-auto px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(en,{to:"/",className:"flex items-center gap-2",children:l.jsx("img",{src:"/gwyn.png",alt:"Gwyn Logo",className:"h-14 w-22 object-cover rounded-full"})}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(en,{to:"/book",children:l.jsxs(Z,{variant:"default",children:[l.jsx(Rt,{className:"h-4 w-4 mr-2"}),"New Booking"]})}),l.jsx(en,{to:"/",children:l.jsxs(Z,{variant:"ghost",size:"sm",children:[l.jsx(qi,{className:"h-4 w-4 mr-2"}),"Home"]})})]})]})})}),l.jsxs("div",{className:"container mx-auto px-6 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-serif font-semibold text-foreground mb-2",children:["Welcome back, ",_,"!"]}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your appointments and view your booking history"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[l.jsx("div",{className:"glass-card rounded-2xl p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:l.jsx(Rt,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-serif font-semibold text-foreground",children:h.length}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Upcoming"})]})]})}),l.jsx("div",{className:"glass-card rounded-2xl p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-accent flex items-center justify-center",children:l.jsx(gb,{className:"h-6 w-6 text-accent-foreground"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-serif font-semibold text-foreground",children:m.length}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]})]})}),l.jsx("div",{className:"glass-card rounded-2xl p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-muted flex items-center justify-center",children:l.jsx(bh,{className:"h-6 w-6 text-muted-foreground"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-serif font-semibold text-foreground",children:b.length}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"})]})]})}),l.jsx("div",{className:"glass-card rounded-2xl p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center",children:l.jsx(NE,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-2xl font-serif font-semibold text-foreground",children:["",g]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spent"})]})]})})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6 mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-serif font-semibold text-foreground",children:"Upcoming Appointments"}),l.jsx(en,{to:"/book",children:l.jsxs(Z,{variant:"outline",size:"sm",children:[l.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Book New"]})})]}),h.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Rt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"No upcoming appointments"}),l.jsx(en,{to:"/book",children:l.jsxs(Z,{variant:"default",children:[l.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Book Your First Appointment"]})})]}):l.jsx("div",{className:"space-y-4",children:h.map(j=>{var E;return l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 p-4 rounded-xl bg-muted/50 hover:bg-muted transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[l.jsxs("div",{className:"text-center min-w-[80px]",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:Pe(wn(j.appointment_date),"EEE")}),l.jsx("p",{className:"text-2xl font-semibold text-foreground",children:Pe(wn(j.appointment_date),"d")}),l.jsx("p",{className:"text-sm text-muted-foreground",children:Pe(wn(j.appointment_date),"MMM yyyy")})]}),l.jsx("div",{className:"h-12 w-1 rounded-full bg-primary"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-foreground",children:(E=j.service_names)==null?void 0:E.join(", ")}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["With ",j.staff_name]}),l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[l.jsx(kr,{className:"h-3 w-3"}),j.start_time," - ",j.end_time," (",j.total_duration," mins)"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>a(j),children:[l.jsx(tu,{className:"h-4 w-4 mr-2"}),"Reschedule"]}),l.jsxs(Z,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>u(j),children:[l.jsx(ji,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]},j.id)})})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("h2",{className:"text-xl font-serif font-semibold text-foreground mb-6",children:"Appointment History"}),m.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(gb,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No past appointments"})]}):l.jsx("div",{className:"space-y-3",children:m.map(j=>{var E;return l.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-muted/30",children:[l.jsxs("div",{className:"text-center min-w-[60px]",children:[l.jsx("p",{className:"text-sm font-semibold text-foreground",children:Pe(wn(j.appointment_date),"MMM d")}),l.jsx("p",{className:"text-xs text-muted-foreground",children:Pe(wn(j.appointment_date),"yyyy")})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-foreground",children:(E=j.service_names)==null?void 0:E.join(", ")}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.staff_name,"  ",j.start_time]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:"font-semibold text-primary",children:["",j.total_price]})})]},j.id)})})]})]}),l.jsx(_Q,{open:!!o,onOpenChange:j=>!j&&a(null),appointment:o,onSubmit:s}),l.jsx(lm,{open:!!c,onOpenChange:j=>!j&&u(null),title:"Cancel Appointment",description:"Are you sure you want to cancel this appointment? This action cannot be undone.",onConfirm:w,loading:d})]})},jQ=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!0),s=async()=>{try{const{data:o,error:a}=await he.from("sales").select("*").order("created_at",{ascending:!1});if(a)throw a;if(!o||o.length===0){t([]),r(!1);return}const c=[...new Set(o.map(g=>g.client_id))],u=[...new Set(o.map(g=>g.staff_id))],d=[...new Set(o.flatMap(g=>g.service_ids))],{data:f}=await he.from("clients").select("id, name").in("id",c),{data:h}=await he.from("staff").select("id, name").in("id",u),{data:m}=await he.from("services").select("id, name").in("id",d),x=new Map((f==null?void 0:f.map(g=>[g.id,g.name]))||[]),v=new Map((h==null?void 0:h.map(g=>[g.id,g.name]))||[]),y=new Map((m==null?void 0:m.map(g=>[g.id,g.name]))||[]),b=o.map(g=>({...g,client_name:x.get(g.client_id)||"Unknown Client",staff_name:v.get(g.staff_id)||"Unknown Staff",service_names:g.service_ids.map(w=>y.get(w)||"Unknown Service")}));t(b)}catch(o){Ce.error("Failed to load sales"),console.error("Error fetching sales:",o)}finally{r(!1)}};p.useEffect(()=>{s();const o=he.channel("sales-changes").on("postgres_changes",{event:"*",schema:"public",table:"sales"},()=>{s()}).subscribe();return()=>{he.removeChannel(o)}},[]);const i={totalRevenue:e.reduce((o,a)=>o+Number(a.amount),0),totalSales:e.length,averageSale:e.length>0?e.reduce((o,a)=>o+Number(a.amount),0)/e.length:0,todayRevenue:e.filter(o=>Pe(new Date(o.created_at),"yyyy-MM-dd")===Pe(new Date,"yyyy-MM-dd")).reduce((o,a)=>o+Number(a.amount),0)};return{sales:e,loading:n,stats:i,refetch:s}},CQ=()=>{const[e,t]=p.useState(""),{sales:n,loading:r,stats:s}=jQ(),i=n.filter(o=>{var a,c;return((a=o.client_name)==null?void 0:a.toLowerCase().includes(e.toLowerCase()))||((c=o.service_names)==null?void 0:c.some(u=>u.toLowerCase().includes(e.toLowerCase())))});return r?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("div",{className:"flex items-center gap-4 mb-2",children:l.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:l.jsx(Nd,{className:"h-6 w-6 text-primary"})})}),l.jsxs("p",{className:"text-3xl font-serif font-semibold text-foreground",children:["",s.totalRevenue.toLocaleString()]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Total Revenue"})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("div",{className:"flex items-center gap-4 mb-2",children:l.jsx("div",{className:"w-12 h-12 rounded-xl bg-accent flex items-center justify-center",children:l.jsx(Rt,{className:"h-6 w-6 text-accent-foreground"})})}),l.jsx("p",{className:"text-3xl font-serif font-semibold text-foreground",children:s.totalSales}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Total Sales"})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("div",{className:"flex items-center gap-4 mb-2",children:l.jsx("div",{className:"w-12 h-12 rounded-xl bg-muted flex items-center justify-center",children:l.jsx(Nd,{className:"h-6 w-6 text-muted-foreground"})})}),l.jsxs("p",{className:"text-3xl font-serif font-semibold text-foreground",children:["",s.averageSale.toLocaleString()]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Average Sale"})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsx("div",{className:"flex items-center gap-4 mb-2",children:l.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center",children:l.jsx(NE,{className:"h-6 w-6 text-green-600"})})}),l.jsxs("p",{className:"text-3xl font-serif font-semibold text-foreground",children:["",s.todayRevenue.toLocaleString()]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Today's Revenue"})]})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"font-serif text-xl font-semibold text-foreground",children:"Sales Records"}),l.jsxs(Z,{variant:"outline",size:"sm",children:[l.jsx(g4,{className:"h-4 w-4 mr-2"}),"Export"]})]}),i.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Nd,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No sales records yet"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-border",children:[l.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Date"}),l.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Client"}),l.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Services"}),l.jsx("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:"Staff"}),l.jsx("th",{className:"text-right p-4 text-sm font-medium text-muted-foreground",children:"Amount"}),l.jsx("th",{className:"text-center p-4 text-sm font-medium text-muted-foreground",children:"Payment Status"})]})}),l.jsx("tbody",{children:i.map(o=>{var a;return l.jsxs("tr",{className:"border-b border-border last:border-b-0 hover:bg-muted/50 transition-colors",children:[l.jsx("td",{className:"p-4 text-muted-foreground",children:Pe(wn(o.created_at),"MMM d, yyyy h:mm a")}),l.jsx("td",{className:"p-4 font-medium text-foreground",children:o.client_name}),l.jsx("td",{className:"p-4 text-muted-foreground",children:(a=o.service_names)==null?void 0:a.join(", ")}),l.jsx("td",{className:"p-4 text-muted-foreground",children:o.staff_name}),l.jsxs("td",{className:"p-4 text-right font-semibold text-primary",children:["",o.amount.toLocaleString()]}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Paid"})})]},o.id)})})]})})]})]})},EQ=new H$,NQ=()=>l.jsx(q$,{client:EQ,children:l.jsx(pB,{children:l.jsxs(b$,{children:[l.jsx(iL,{}),l.jsx(LL,{}),l.jsx(K3,{children:l.jsxs($3,{children:[l.jsx(Pn,{path:"/",element:l.jsx(gB,{})}),l.jsx(Pn,{path:"/auth",element:l.jsx(qB,{})}),l.jsx(Pn,{path:"/book",element:l.jsx(wW,{})}),l.jsx(Pn,{path:"/my-appointments",element:l.jsx(SQ,{})}),l.jsxs(Pn,{path:"/dashboard",element:l.jsx(IW,{}),children:[l.jsx(Pn,{index:!0,element:l.jsx(hq,{})}),l.jsx(Pn,{path:"appointments",element:l.jsx(_Y,{})}),l.jsx(Pn,{path:"clients",element:l.jsx(cQ,{})}),l.jsx(Pn,{path:"services",element:l.jsx(vQ,{})}),l.jsx(Pn,{path:"staff",element:l.jsx(wQ,{})}),l.jsx(Pn,{path:"sales",element:l.jsx(CQ,{})})]}),l.jsx(Pn,{path:"*",element:l.jsx(bQ,{})})]})})]})})});KC(document.getElementById("root")).render(l.jsx(NQ,{}));
